"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2700],{76679:(e,t,i)=>{i.d(t,{D:()=>n});var o=i(91051);function n(e,t){const{onClick:i,onDoubleClick:n}=e(),a=(0,o.useRef)(0),r=(0,o.useRef)(!1);return(0,o.useCallback)((e=>{a.current&&window.clearTimeout(a.current),r.current?null==n||n(e):(r.current=!0,window.setTimeout((()=>{r.current=!1}),300),a.current=window.setTimeout((()=>{null==i||i(e)}),300))}),t)}},63464:(e,t,i)=>{function o(e){var t,i;return null!==(i=null!==(t=e.displayName)&&void 0!==t?t:e.name)&&void 0!==i?i:"UnknownComponent"}i.d(t,{i:()=>o})},16454:(e,t,i)=>{i.d(t,{S:()=>o});const o=["AT","BE","BG","HR","CY","CZ","DE","DK","EE","EL","FI","FR","GB","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","NO","IS","LI"]},88228:(e,t,i)=>{i.d(t,{n:()=>o,_:()=>n});const o=e=>{try{let t=btoa(e);return t=t.replace(/=+$/,""),encodeURIComponent(t)}catch(e){return null}},n=e=>{try{const t=decodeURIComponent(e);let i="";const o=t.length%4;2===o?i="==":3===o&&(i="=");const n=atob(t+i);if(!n)throw Error();return n}catch(e){return null}}},15073:(e,t,i)=>{i.d(t,{wC:()=>D,T:()=>I,bg:()=>M,g0:()=>R,yM:()=>L,Hx:()=>O});var o=i(64047),n=i(73566),a=i(48185),r=i(19630),l=i(35167),s=i(86254),d=i.n(s),c=i(82346),u=i(11348),p=i(60595),m=i(20948),h=i(53095),g=i(93859),v=i(10026),x=i(5549),b=i(49584),y=i(68854),f=i(3453),_=i(35468),j=i(21396),k=i(66958),C=i(88228);const w=({reportTarget:e})=>{if(!e)return null;const{report_type:t,video_owner:i,video_id:o,object_id:n}=e;let a=null;if(o&&i){const e=(0,k.fH)({uniqueId:null==i?void 0:i.uniqueId,videoId:o,secUid:null==i?void 0:i.secUid});a=`${location.origin}${e}`,"comment"===t&&(a=`${a}&cid=${(0,C.n)(n)}`)}return a};var S,P=i(84785),T=i(92702);!function(e){e[e.Normal=0]="Normal",e[e.Bully=1]="Bully",e[e.Legal=2]="Legal",e[e.Spam=3]="Spam",e[e.UserPretend=4]="UserPretend",e[e.UserProfile=5]="UserProfile",e[e.Netzdg=6]="Netzdg",e[e.Kopig=7]="Kopig",e[e.Avia=8]="Avia"}(S||(S={}));const I=[112,212,9014],D=[222,9015],O=({reportTarget:e})=>{const t=w({reportTarget:e});return"https://www.tiktok.com/legal/report/NetzDG?lang=de"+(t?`&reporturl=${encodeURIComponent(t)}`:"")},R=({reportTarget:e})=>{const t=w({reportTarget:e});return"https://www.tiktok.com/legal/report/lcen?lang=fr"+(t?`&reporturl=${encodeURIComponent(t)}`:"")},L=({reportTarget:e})=>{const t=w({reportTarget:e});return"https://www.tiktok.com/legal/copyright-policy"+(t?`?report_url=${encodeURIComponent(t)}`:"")};var Z;!function(e){e[e.Reason=0]="Reason",e[e.Normal=1]="Normal",e[e.Kopig=2]="Kopig",e[e.User=3]="User",e[e.BlockUser=4]="BlockUser",e[e.Finish=5]="Finish",e[e.Ftcreport=6]="Ftcreport"}(Z||(Z={}));let M=class extends n.D{constructor(e,t,i){super(),this.service=e,this.appContext=t,this.t=i,this.defaultState={reasons:null,showing:!1,loading:!1,requesting:void 0,reportTarget:null,lastStatus:-1,PageState:0,PageStateData:void 0,PreState:[],UserData:{selectedReason:void 0,submitresult:void 0,HistoryReason:[]},blockedVideos:[]}}setReportTarget(e,t){e.reportTarget=t}judgeFtc(e,t){"kid_mode_video"===t.report_type&&(e.PageState=6)}setReasons(e,t){e.reasons=t,e.PageStateData={reasons:t}}addBlockVideo(e,t){e.blockedVideos.includes(t)||e.blockedVideos.push(t)}removeBlockVideo(e,t){e.blockedVideos=e.blockedVideos.filter((e=>e!==t))}setLoading(e,t){e.loading=t}getReasons(e){return e.pipe((0,m.M)(this.state$),(0,h.z)((([e,t])=>{var i;if(d()(e,t.reportTarget)&&t.reasons&&(null===(i=t.reasons)||void 0===i?void 0:i.length)>0)return(0,c.of)(this.getActions().setReasons(t.reasons));const{report_type:o,lang:n,object_id:a}=e;return this.service.getReportReasons({report_type:o,lang:n,object_id:a}).pipe((0,g.b)((({body:e})=>{e.length||_.h.open({content:this.t("Sorry, something wrong with the server, please try again."),duration:1.2,widthType:"half"})})),(0,h.z)((t=>{var i,o,n;if(0===t.statusCode){let a=null!==(i=t.body)&&void 0!==i?i:[];return"user"===e.report_type&&(a=null!==(n=null===(o=a.find((e=>9101===e.reason_type)))||void 0===o?void 0:o.next_reason)&&void 0!==n?n:a),(0,c.of)(this.getActions().setReasons(a))}return(0,c.of)(this.getActions().setReasons([]))})),(0,v.O)(this.getActions().setLoading(!0)),(0,x.l)(this.getActions().setLoading(!1)))})))}handleNextReason(e){return e.pipe((0,m.M)(this.state$),(0,g.b)((([{reason_id:e},{reportTarget:t}])=>{const{object_id:i="",report_type:o=""}=null!=t?t:{};f.y.handleReportNext({object_id:i,object_type:o,reason_id:e})})),(0,h.z)((([{nextReason:e},{PageStateData:t,PageState:i}])=>(0,c.of)(this.getActions().setPageStateData({reasons:e}),this.getActions().appendToPreState({state:i,data:t})))))}handleNextForm(e){return e.pipe((0,m.M)(this.state$),(0,h.z)((([e,{PageStateData:t,PageState:i}])=>(0,c.of)(this.getActions().setPageState(e),this.getActions().setPageStateData({}),this.getActions().appendToPreState({state:i,data:t})))))}setShowing(e,t){e.showing=t}showReport(e){return e.pipe((0,h.z)((e=>(0,c.of)(this.getActions().setShowing(!0),this.getActions().judgeFtc(e),this.getActions().getReasons(e),this.getActions().setReportTarget(e)))))}hideReport(e){return e.pipe((0,h.z)((()=>(0,c.of)(this.getActions().setShowing(!1)))))}setRequesting(e,t){e.requesting=t}setLastStatus(e,t){e.lastStatus=t}postReport(e){return e.pipe((0,m.M)(this.state$,this.appContext.state$),(0,b.z)((([{reason:e,extraData:t},{reportTarget:i,UserData:o},{appContext:n}])=>{var a,r;if(!i)return u.E;const l=8===(null===(a=null==o?void 0:o.selectedReason)||void 0===a?void 0:a.special_type),s={};Array.isArray(e)&&"kid_mode_video"===i.report_type&&(s.additional_reasons=`%5B${e.join(",")}%5D`,e=e[0]);const d=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({app_name:"tiktok_web",aid:1988,current_region:null==n?void 0:n.region,reporter_id:null===(r=null==n?void 0:n.user)||void 0===r?void 0:r.uid,reason:e},i),{target:i.object_id}),t),{report_type:"kid_mode_video"===i.report_type?"video":i.report_type}),s);return this.service.postReport(d).pipe((0,y.K)((()=>(0,c.of)({status_code:-1}))),(0,h.z)((t=>{let o;switch(t.status_code){case 90002:o={title:this.t("Web_report_thanks_for_report"),content:this.t("Web_report_report_detail"),button:this.t("live_close"),success:!1};break;case 0:o={title:this.t("Web_report_thanks_for_report"),content:l?this.t("avia_law_report_received_confirm"):this.t("Web_report_report_detail"),button:this.t("pm_mt_live_done"),success:!0};break;default:o={title:this.t("Web_report_report_for_error"),content:this.t("Sorry, something wrong with the server, please try again."),button:this.t("live_close"),success:!1}}if(0===t.status_code){const{object_id:t,report_type:o}=i;f.y.handleReportSubmit({object_id:t,object_type:o,reason_id:e})}return"video"===i.report_type&&0===t.status_code&&i.object_id?(0,c.of)(this.getActions().addBlockVideo(i.object_id),this.getActions().setLastStatus(t.status_code),this.getActions().setPageState(5),this.getActions().setUserData({submitresult:o})):(0,c.of)(this.getActions().setLastStatus(t.status_code),this.getActions().setPageState(5),this.getActions().setUserData({submitresult:o}))})),(0,v.O)(this.getActions().setRequesting(!0)),(0,x.l)(this.getActions().setRequesting(!1)))})))}setPageState(e,t){e.PageState=t}appendToPreState(e,t){e.PreState.push(t)}removeFromPreState(e){e.PreState.pop()}resetPreState(e){e.PreState=[]}setUserData(e,t){e.UserData=Object.assign(Object.assign({},e.UserData),t)}setPageStateData(e,t){e.PageStateData=t}resetState(e){return e.pipe((0,h.z)((e=>(0,c.of)(this.getActions().resetPreState(),this.getActions().setUserData({selectedReason:void 0,HistoryReason:[]}),this.getActions().setPageState(0),this.getActions().setPageStateData(null)))))}handlePrevStep(e){return e.pipe((0,m.M)(this.state$),(0,h.z)((([e,{PreState:t}])=>{if(0===t.length)return u.E;const{state:i,data:o}=t[t.length-1];return(0,c.of)(this.getActions().setPageState(i),this.getActions().setPageStateData(o),this.getActions().removeFromPreState())})))}};(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setReportTarget",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"judgeFtc",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Array]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setReasons",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,String]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"addBlockVideo",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,String]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"removeBlockVideo",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setLoading",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"getReasons",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"handleNextReason",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"handleNextForm",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setShowing",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"showReport",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"hideReport",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setRequesting",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Number]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setLastStatus",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"postReport",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Number]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setPageState",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"appendToPreState",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"removeFromPreState",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"resetPreState",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setUserData",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setPageStateData",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"resetState",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"handlePrevStep",null),M=(0,o.__decorate)([(0,r.Y)("Report"),(0,o.__param)(2,(0,l.t)(j.s)),(0,o.__metadata)("design:paramtypes",[T.r,P.G,Function])],M)},92702:(e,t,i)=>{i.d(t,{r:()=>s});var o=i(64047),n=i(57244),a=i(82346),r=i(30626),l=i(4206);let s=class{constructor(e){this.fetch=e}getReportReasons(e){return this.fetch.get("/node/report/reasons",{query:e,baseUrlType:2})}postReport(e){return this.fetch.get("/aweme/v1/aweme/feedback/",{query:e,baseUrlType:2})}uploadImage(e){if(0===e.length)return(0,a.of)({data:[],statusCode:0});const t=new FormData;for(let i=0;i<e.length;i++){const o=e[i];t.append("type",o.type),t.append("size",`${o.size}`),t.append("name",o.name),t.append("height",o.height),t.append("width",o.width),t.append(`file${i}`,o,o.name)}return this.fetch.post("/node/feedback/upload_image/",{body:t,headers:{[r.eD]:this.fetch.csrfToken},baseUrlType:2,omitContentType:!0})}};s=(0,o.__decorate)([(0,n.G)(),(0,o.__metadata)("design:paramtypes",[l.r])],s)},16494:(e,t,i)=>{i.d(t,{Q:()=>s}),i(11040);var o=i(9236),n=i(91051),a=i(3453),r=i(40599),l=i(15073);function s({onShow:e,reportTarget:t}){const{showModal:i}=(0,r.J)(),s=(0,o.qj)(l.bg);return{handleShowReport:(0,n.useCallback)((o=>{null==e||e(o),i(),s.showReport(t),a.y.handleShowReport({object_type:t.report_type,type:t.report_type,object_id:t.object_id,play_mode:t.play_mode})}),[s,e,t,i])}}},72306:(e,t,i)=>{i.d(t,{l:()=>Ht});var o=i(11040),n=i(9236),a=i(91051),r=i(63464),l=i(40599),s=i(15073),d=i(76851),c=i(99122),u=i(89442),p=i(27319),m=i(8721),h=i(91497),g=i(16926),v=i(35468),x=i(63308),b=i(32913);const y=(0,b.Z)("div",{target:"eyl260m0"})((({theme:e})=>({minHeight:"226px",width:"400px",background:e.colors.BGPrimary,borderRadius:"8px",boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",padding:"32px"})),"label:DivWapper;"),f=(0,b.Z)("div",{target:"eyl260m1"})((({theme:e})=>({minHeight:"32px",width:"100%",textAlign:"center",lineHeight:"32px",fontSize:"24px",color:e.colors.TextPrimary})),"label:DivTitle;"),_=(0,b.Z)("div",{target:"eyl260m2"})((({theme:e})=>({margin:"16px 0px 24px",width:"100%",textAlign:"center",lineHeight:"22px",fontSize:"16px",color:e.colors.TextSecondary})),"label:DivDetail;"),j=(0,b.Z)("div",{target:"eyl260m3"})({display:"flex",justifyContent:"space-between"},"label:DivContain;"),k=(0,b.Z)("button",{target:"eyl260m4"})((({theme:e,active:t})=>({width:"164px",height:"46px",flex:"0 1 auto",borderRadius:"4px",padding:"12px 0px",textAlign:"center",fontSize:"16px",cursor:"pointer",lineHeight:"16px",color:t?e.colors.Primary:e.colors.TextPrimary,backgroundColor:e.colors.BGSecondary2,border:` 1px solid ${t?e.colors.Primary:e.colors.TextPrimary}`})),"label:ButtonC;"),C=e=>{var t,i,r;const l=(0,m.Q)(),d=(0,g.fz)(x.K),{onClose:c}=e,u=(0,n.mp)(s.bg,{selector:e=>{const{UserData:t,reportTarget:i}=e;return{UserData:t,reportTarget:i}},dependencies:[]}),p=(0,a.useCallback)((e=>{var t,i;d.blockUser({sec_user_id:null!==(i=null===(t=u.reportTarget)||void 0===t?void 0:t.secUid)&&void 0!==i?i:"",block_type:1}).subscribe((e=>{0===e.status_code&&(c(),v.h.open({content:l("Blocked"),duration:3,widthType:"half"}))}))}),[c,null===(t=u.reportTarget)||void 0===t?void 0:t.secUid,d,l]);return(0,o.jsxs)(y,{children:[(0,o.jsx)(f,{children:l("Web_report_block_who",{username:null===(i=u.reportTarget)||void 0===i?void 0:i.nickname})},void 0),(0,o.jsx)(_,{children:l("Web_report_block_detail",{username:null===(r=u.reportTarget)||void 0===r?void 0:r.nickname})},void 0),(0,o.jsxs)(j,{children:[(0,o.jsx)(k,Object.assign({active:!1,onClick:e.onClose},{children:l("copyright_check_post_popup_cancel")}),void 0),(0,o.jsx)(k,Object.assign({active:!0,onClick:p},{children:l("webdm_block")}),void 0)]},void 0)]},void 0)};var w,S=i(74820),P=i(32431),T=i(41063),I=i(87133),D=i(30074);function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},O.apply(this,arguments)}const R=function(e){return a.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",width:"1em",height:"1em"},e),w||(w=a.createElement("path",{fill:"#161823",fillRule:"evenodd",d:"M16.667 10c0 .918-.53 1.919-1.73 2.76C13.74 13.595 12 14.165 10 14.165c-2.001 0-3.741-.57-4.937-1.407-1.2-.84-1.73-1.841-1.73-2.76 0-.917.53-1.918 1.73-2.759C6.26 6.404 8 5.833 10 5.833c2.001 0 3.741.57 4.937 1.407 1.2.84 1.73 1.842 1.73 2.76zm1.666 0c0 3.222-3.73 5.833-8.333 5.833-4.602 0-8.333-2.611-8.333-5.833S5.397 4.167 10 4.167c4.602 0 8.333 2.611 8.333 5.833zm-7.083 0a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zm1.667 0a2.917 2.917 0 11-5.834 0 2.917 2.917 0 015.834 0z",clipRule:"evenodd"})))};var L;function Z(){return Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Z.apply(this,arguments)}const M=function(e){return a.createElement("svg",Z({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",width:"1em",height:"1em"},e),L||(L=a.createElement("path",{fill:"#161823",fillRule:"evenodd",d:"M8.473 3.488a1.25 1.25 0 011.944 1.04v10.943a1.25 1.25 0 01-1.944 1.04L4.331 13.75H2.5c-.69 0-1.25-.56-1.25-1.25v-5c0-.69.56-1.25 1.25-1.25h1.831l4.142-2.762zm.277 1.819l-3.704 2.47a.833.833 0 01-.463.14H2.917v4.166h1.666c.165 0 .326.049.463.14l3.704 2.47V5.307zm5 4.693c0-1.017-.405-1.94-1.063-2.616a.455.455 0 01-.042-.604l.529-.644a.393.393 0 01.576-.045A5.403 5.403 0 0115.417 10c0 1.536-.64 2.924-1.667 3.909a.393.393 0 01-.576-.046l-.53-.643a.455.455 0 01.043-.604A3.736 3.736 0 0013.75 10zm1.673-5.396a.438.438 0 00.038.597A6.645 6.645 0 0117.501 10c0 1.884-.782 3.585-2.04 4.799a.438.438 0 00-.038.597l.54.634c.149.175.413.197.58.04A8.312 8.312 0 0019.167 10c0-2.393-1.01-4.55-2.624-6.07a.401.401 0 00-.58.04l-.54.634z",clipRule:"evenodd"})))};var B;function F(){return F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},F.apply(this,arguments)}const z=function(e){return a.createElement("svg",F({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",width:"1em",height:"1em"},e),B||(B=a.createElement("path",{fill:"#161823",fillRule:"evenodd",d:"M10.724 17.896c-.497.27-1.145.346-1.752-.02a3.015 3.015 0 01-1.462-2.584v-2.08H3.977a2.29 2.29 0 01-2.284-2.631l1.005-6.552a2.29 2.29 0 012.284-1.945H15.38a2.515 2.515 0 012.53 2.176.833.833 0 01.007.112v5.096a.833.833 0 01-.008.111c-.163 1.206-1.203 2.276-2.529 2.257h-1.4l-2.211 4.9c-.21.468-.573.904-1.045 1.16zm3.55-7.724h1.127c.365.006.765-.312.85-.77V4.438a.85.85 0 00-.86-.689h-1.117v6.424zM12.61 3.749H4.968a.624.624 0 00-.624.53v.001L3.34 10.83a.623.623 0 00.624.718h4.38c.46 0 .833.372.833.832v2.912a1.35 1.35 0 00.675 1.168h.003a.184.184 0 00.075-.027.816.816 0 00.319-.376l.002-.004 2.36-5.228V3.75z",clipRule:"evenodd"})))};var A=i(96770);const E=(0,b.Z)("label",{target:"e1d46yfg0"})((({theme:e})=>({display:"flex",fontFamily:e.fontFamilies.Proxima,fontWeight:e.fontWeights.normal,fontSize:"16px",color:e.colors.TextPrimary,cursor:"pointer"})),"label:LabelCheckbox;"),U=(0,b.Z)("div",{target:"e1d46yfg1"})((({size:e})=>({color:"#fff",position:"relative",height:`${e}px`,lineHeight:`${e}px`})),"label:DivCheckboxSymbol;"),V=(0,b.Z)("input",{target:"e1d46yfg2"})((({selected:e,bordertype:t,theme:i,size:o})=>Object.assign(Object.assign({appearance:"none",width:`${o}px`,height:`${o}px`,border:`1.5px solid ${i.colors.LineSecondary}`,margin:"0 10px -2.5px 0"},e?{border:"none",backgroundColor:i.colors.Primary}:{}),"radio"===t?{borderRadius:"50%"}:{borderRadius:"2px"})),"label:InputCheckbox;"),$=(0,b.Z)("div",{target:"e1d46yfg3"})({pointerEvents:"none",position:"absolute",top:"2px",left:"3px",width:"15px",height:"15px"},"label:DivCheckboxIcon;"),W=(0,a.memo)((function({id:e,value:t,label:i,onChange:n,bordertype:r="radio",style:l={},size:s=22}){const d=(0,a.useCallback)((e=>{n&&n(e.target.checked)}),[n]);return(0,o.jsxs)(E,Object.assign({htmlFor:e,style:l},{children:[(0,o.jsxs)(U,Object.assign({size:s,className:"checkbox-symbol"+(t?" selected":"")},{children:[(0,o.jsx)(V,{bordertype:r,selected:t,id:e,checked:t,type:"checkbox",size:s,onChange:d},void 0),t&&(0,o.jsx)($,{children:(0,o.jsx)(A.Z,{width:16,height:16},void 0)},void 0)]}),void 0),i]}),void 0)}));var G=i(27918);const q=(0,b.Z)("form",{target:"ezqf9p60"})((({theme:e})=>[(0,G.GI)({theme:e,typography:"H6"}),{zIndex:2,background:e.colors.BGPrimary,borderRadius:"8px",overflow:"hidden",width:"700px",margin:0}]),"label:FormReport;"),N=(0,b.Z)("div",{target:"ezqf9p61"})((({theme:e})=>({width:"400px",zIndex:2,background:e.colors.BGPrimary,borderRadius:"8px",overflow:"hidden",margin:0})),"label:DivFormBox;"),H=(0,b.Z)("div",{target:"ezqf9p62"})({display:"flex",alignItems:"center",padding:"24px 24px 16px",height:"72px"},"label:DivFormHeader;"),Y=(0,b.Z)("div",{target:"ezqf9p63"})({cursor:"pointer",padding:"6px",height:"32px"},"label:DivBackButton;"),Q=(0,b.Z)("div",{target:"ezqf9p64"})({cursor:"pointer",padding:"9px",height:"32px"},"label:DivCloseButton;"),J=(0,b.Z)("h4",{target:"ezqf9p65"})((({theme:e})=>({fontSize:"20px",lineHeight:"32px",color:e.colors.TextPrimary,fontFamily:e.fontFamilies.Proxima,fontWeight:e.fontWeights.bold,textAlign:"rtl"===e.direction?"right":"left",flex:1})),"label:H4FormTitle;");J.defaultProps=Object.assign(Object.assign({},J.defaultProps),{"data-e2e":"report-card-title"});const K=(0,b.Z)("div",{target:"ezqf9p66"})((({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,height:"50vh",overflowY:"auto",overflowX:"hidden",padding:"16px 16px 0px"})),"label:DivRadioWrapper;"),X=(0,b.Z)("div",{target:"ezqf9p67"})((({theme:e})=>({paddingBottom:"8px",paddingLeft:"8px",color:e.colors.TextSecondary,height:"22px",lineHeight:"22px"})),"label:DivSelectText;"),ee=(0,b.Z)("div",{target:"ezqf9p68"})((({theme:e})=>({color:e.colors.TextPrimary,lineHeight:"22px",fontSize:"16px",userSelect:"none"})),"label:DivReasonText;"),te=(0,b.Z)("label",{target:"ezqf9p69"})((({theme:e})=>({boxSizing:"border-box",minHeight:"54px",display:"flex",flex:"1 1 100%",flexDirection:"row",alignItems:"center",cursor:"pointer",position:"relative",wordBreak:"break-all",justifyContent:"space-between",padding:"8px",borderRadius:"8px",":hover":{background:e.colors.BGPlaceholderOpaque}})),"label:LabelRadio;");te.defaultProps=Object.assign(Object.assign({},te.defaultProps),{"data-e2e":"report-card-reason"});const ie=(0,b.Z)("div",{target:"ezqf9p610"})({position:"absolute",left:"50%",top:"50%",transform:"translate(-50% , -50%)"},"label:DivMMid;"),oe=(0,b.Z)("div",{target:"ezqf9p611"})((({theme:e})=>({padding:"8px",color:e.colors.TextPrimary,fontSize:"18px",lineHeight:"24px"})),"label:DivTitle;"),ne=(0,b.Z)("div",{target:"ezqf9p612"})((({theme:e})=>({padding:"4px 4px 10px 8px",color:e.colors.TextSecondary,fontSize:"16px",lineHeight:"22px"})),"label:DivSubTitle;"),ae=(0,b.Z)("li",{target:"ezqf9p613"})((({theme:e})=>({padding:"6px 6px 6px 0px",color:e.colors.TextSecondary,fontSize:"16px",lineHeight:"22px"})),"label:LiItem;"),re=(0,b.Z)("div",{target:"ezqf9p614"})((({theme:e})=>({position:"absolute",bottom:"0",left:"0",height:"84px",width:"100%",borderTop:`0.5px solid ${e.colors.LinePrimary2}`,backgroundColor:e.colors.BGPrimary})),"label:DivFooter;"),le=(0,b.Z)("button",{target:"ezqf9p615"})((({theme:e})=>({height:"36px",padding:"7px 16px",lineHeight:"22px",fontSize:"16px",position:"absolute",cursor:"pointer",top:"24px",right:"24px",color:e.colors.ConstTextInverse,background:e.colors.Primary,border:"none",borderRadius:"4px",":disabled":{background:e.colors.BGPlaceholderDefault,color:e.colors.TextQuaternary}})),"label:ButtonSubmit;"),se=(0,b.Z)("div",{target:"ezqf9p616"})((({theme:e,top:t})=>({height:"72px",width:"72px",margin:"32px auto 24px",borderRadius:"36px",background:e.colors.BGView,padding:`${t}px 20px`})),"label:DivIconRoundBg;"),de=(0,b.Z)("div",{target:"ezqf9p617"})((({theme:e})=>({margin:"0px auto 16px",padding:"0 32px",color:e.colors.TextPrimary,textAlign:"center",lineHeight:"32px",fontSize:"24px"})),"label:DivFinishTitle;"),ce=(0,b.Z)("div",{target:"ezqf9p618"})((({theme:e})=>({margin:"0px auto 24px",padding:"0 32px",color:e.colors.TextSecondary,textAlign:"center",lineHeight:"22px",fontSize:"16px"})),"label:DivFinishContent;"),ue=(0,b.Z)("button",{target:"ezqf9p619"})((({theme:e})=>({width:"336px",height:"46px",background:e.colors.Primary,margin:"0 32px 32px",borderRadius:"4px",textAlign:"center",lineHeight:"46px",fontSize:"16px",color:e.colors.ConstTextInverse,border:"none",cursor:"pointer"})),"label:ButtonFinish;"),pe=(0,b.Z)("div",{target:"e9ly1o60"})((({theme:e})=>({width:"400px",minHeight:"394px",background:e.colors.BGPrimary,borderRadius:"8px",overflow:"hidden"})),"label:DivWapper;"),me=(0,b.Z)("div",{target:"e9ly1o61"})((({theme:e})=>({width:"100%",padding:"32px",textAlign:"center",lineHeight:"32px",fontSize:"24px",color:e.colors.TextPrimary})),"label:DivTitle;"),he=(0,b.Z)("div",{target:"e9ly1o62"})({display:"inline-block",verticalAlign:"middle",marginRight:"8px"},"label:DivIcon;"),ge=(0,b.Z)("div",{target:"e9ly1o63"})((({theme:e})=>({height:"52px",margin:"0 33px",position:"relative",textAlign:"center",lineHeight:"52px",fontSize:"16px",color:e.colors.TextPrimary,borderBottom:`solid 1px ${e.colors.LineSecondary}`})),"label:DivRow;"),ve=(0,b.Z)("div",{target:"e9ly1o64"})((({theme:e})=>({height:"32px",paddingTop:"12px",marginBottom:"110px",textAlign:"center",lineHeight:"20px",fontSize:"14px",color:e.colors.Negative})),"label:DivReminder;"),xe=(0,b.Z)("div",{target:"e9ly1o65"})({height:"100%",float:"left",paddingLeft:"32px"},"label:DivReasonText;"),be=(0,b.Z)("div",{target:"e9ly1o66"})({display:"flex",justifyContent:"space-between",position:"absolute",bottom:"0",width:"100%",padding:"32px"},"label:DivContain;"),ye=(0,b.Z)("button",{target:"e9ly1o67"})((({theme:e,active:t,cancel:i})=>({width:"164px",height:"46px",flex:"0 1 auto",borderRadius:"4px",padding:"12px 0px",textAlign:"center",fontSize:"16px",cursor:"pointer",lineHeight:"16px",color:i?e.colors.TextPrimary:t?e.colors.ConstTextInverse:e.colors.TextQuaternary,backgroundColor:i?e.colors.BGSecondary2:t?e.colors.Primary:e.colors.BGInput2,border:i?`1px solid ${e.colors.LineSecondary2}`:"none"})),"label:ButtonC;"),fe=(0,b.Z)("div",{target:"e9ly1o68"})((({top:e})=>({textAlign:"center",margin:`${e}px auto 0px`})),"label:DivMid;"),_e=(0,b.Z)("div",{target:"e9ly1o69"})({position:"absolute",top:"18px",left:"0px",height:"20px",lineHeight:"20px"},"label:DivSvg;"),je=(0,b.Z)("button",{target:"e9ly1o610"})((({theme:e})=>({width:"240px",height:"44px",margin:"80px auto 0px",border:`1px solid ${e.colors.LineSecondary2}`,borderRadius:"2px",textAlign:"center",cursor:"pointer",color:e.colors.TextPrimary,fontSize:"16px",lineHeight:"22px",padding:"11px 0px",background:e.colors.BGTertiary2,display:"block"})),"label:ButtonRetry;"),ke=20,Ce=e=>{var t,i,r,l;const d=(0,m.Q)(),{colors:c}=(0,S.u)(),[u,p]=(0,a.useState)(!1),[h,g]=(0,a.useState)([]),[v,x]=(0,a.useState)(!1),b=(0,n.qj)(s.bg),y=(0,n.mp)(s.bg,{selector:e=>{const{lastStatus:t,requesting:i,loading:o,PageState:n,PageStateData:a,UserData:r,reportTarget:l}=e;return{lastStatus:t,requesting:i,loading:o,PageState:n,PageStateData:a,UserData:r,reportTarget:l}},dependencies:[]}),f=(0,a.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),y.reportTarget&&b.getReasons(y.reportTarget)}),[b,y.reportTarget]),_=(0,a.useCallback)((e=>t=>{t.preventDefault(),t.stopPropagation();const i=h.indexOf(e);if(i>-1){const e=[...h];e.splice(i,1),g(e),p(e.length>0)}else{const t=[...h,e];g(t),x(0===t.length),p(t.length>0)}}),[h]),j=(0,a.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),h.length>0?b.postReport({reason:h,extraData:null}):x(!0)}),[b,h]),k=e=>0===e?(0,o.jsx)(_e,{children:(0,o.jsx)(R,{width:ke,height:ke},void 0)},void 0):1===e?(0,o.jsx)(_e,{children:(0,o.jsx)(M,{width:ke,height:ke},void 0)},void 0):(0,o.jsx)(_e,{children:(0,o.jsx)(z,{width:ke,height:ke},void 0)},void 0);return(0,o.jsx)(pe,{children:y.loading?(0,o.jsx)(ie,{children:(0,o.jsx)(D.g,{},void 0)},void 0):0===(null===(i=null===(t=y.PageStateData)||void 0===t?void 0:t.reasons)||void 0===i?void 0:i.length)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(fe,Object.assign({top:57},{children:(0,o.jsx)(P.Z,{width:72,height:72},void 0)}),void 0),(0,o.jsx)(fe,Object.assign({top:20,style:{fontSize:"18px",lineHeight:"24px",color:c.TextPrimary}},{children:d("pm_mt_live_page_sth_wrong")}),void 0),(0,o.jsx)(fe,Object.assign({top:12,style:{fontSize:"16px",lineHeight:"22px",color:c.TextSecondary}},{children:d("pm_mt_live_page_try_again")}),void 0),(0,o.jsxs)(je,Object.assign({onClick:f},{children:[(0,o.jsx)(T.Z,{width:14,height:14,style:{verticalAlign:"middle",marginRight:"8px"}},void 0),d("report_inbox_retry_btn")]}),void 0)]},void 0):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(me,{children:d("km_report_question")},void 0),null===(l=null===(r=y.PageStateData)||void 0===r?void 0:r.reasons)||void 0===l?void 0:l.map(((e,t)=>(0,o.jsxs)(ge,Object.assign({onClick:_(e.reason_type)},{children:[k(t),(0,o.jsx)(xe,{children:e.text},void 0),(0,o.jsx)(W,{style:{position:"absolute",right:"-22px",top:"15px"},bordertype:"checkbox",label:"",value:h.includes(e.reason_type)},void 0)]}),e.reason_type))),v?(0,o.jsxs)(ve,{children:[(0,o.jsx)(he,{children:(0,o.jsx)(I.Z,{width:14,height:14},void 0)},void 0),(0,o.jsx)("span",{children:d("km_pick_reason")},void 0)]},void 0):null,(0,o.jsxs)(be,{children:[(0,o.jsx)(ye,Object.assign({cancel:!0,active:!1,onClick:e.onClose},{children:d("copyright_check_post_popup_cancel")}),void 0),(0,o.jsx)(ye,Object.assign({cancel:!1,active:u,onClick:j},{children:d("choosepassword_button")}),void 0)]},void 0)]},void 0)},void 0)};var we=i(84656),Se=i.n(we),Pe=i(56277),Te=i(64412),Ie=i(92702);const De=(0,b.Z)("div",{target:"e1fkwyf80"})({position:"fixed",left:0,top:0,right:0,bottom:0,zIndex:1001},"label:DivPreviewImageContainer;"),Oe=(0,b.Z)("div",{target:"e1fkwyf81"})((({theme:e})=>({position:"absolute",left:0,top:0,right:0,bottom:0,background:e.colors.SDPrimary})),"label:DivMaskContainer;"),Re=(0,b.Z)("div",{target:"e1fkwyf82"})({position:"absolute",zIndex:1,left:0,top:0,right:0,bottom:0},"label:DivImageContainer;"),Le=(0,b.Z)("div",{target:"e1fkwyf83"})({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"692px",height:"810px",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"contain"},"label:DivPreviewImage;"),Ze=(0,b.Z)("div",{target:"e1fkwyf84"})((({theme:e})=>({position:"absolute",top:"20px",right:"20px",width:"48px",height:"48px",borderRadius:"24px",backgroundColor:e.colors.ConstTextInverse5,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",":hover":{opacity:.7}})),"label:DivIconClose;"),Me={position:"absolute",top:"50%",transform:"translateY(-50%)",width:"48px",height:"48px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",opacity:.5,":hover":{opacity:1}},Be=(0,b.Z)("div",{target:"e1fkwyf85"})(Object.assign(Object.assign({},Me),{left:"32px"}),"label:DivIconPrev;"),Fe=(0,b.Z)("div",{target:"e1fkwyf86"})(Object.assign(Object.assign({},Me),{left:"auto",right:"32px"}),"label:DivIconNext;"),ze=(0,a.memo)((function({imgList:e,defaultIndex:t,onClose:i}){const[n,r]=(0,a.useState)(t>e.length-1?e.length-1:t<0?0:t),{showModal:s,hideModal:d}=(0,l.J)();(0,a.useEffect)((()=>(s(),()=>{d()})),[s,d]);const p=(0,a.useCallback)((()=>{null==i||i()}),[i]),m=(0,a.useCallback)((()=>r((e=>e-1))),[]),h=(0,a.useCallback)((()=>r((e=>e+1))),[]);return(0,o.jsxs)(De,{children:[(0,o.jsx)(Oe,{},void 0),(0,o.jsxs)(Re,{children:[(0,o.jsx)(Le,{style:{backgroundImage:`url(${e[n]})`}},void 0),(0,o.jsx)(Ze,Object.assign({onClick:p},{children:(0,o.jsx)(Pe.Z,{height:24,width:24,fill:"#fff"},void 0)}),void 0),n>0&&(0,o.jsx)(Be,Object.assign({onClick:m},{children:(0,o.jsx)(u.Z,{height:30,width:30,fill:"#fff"},void 0)}),void 0),n<e.length-1&&(0,o.jsx)(Fe,Object.assign({onClick:h},{children:(0,o.jsx)(c.Z,{height:30,width:30,fill:"#fff"},void 0)}),void 0)]},void 0)]},void 0)})),Ae=(0,b.Z)("div",{target:"e183km5u0"})((({theme:e})=>({fontFamily:e.fontFamilies.Proxima,fontWeight:e.fontWeights.normal,display:"flex",flexWrap:"wrap"})),"label:DivUploadImageContainer;"),Ee=(0,b.Z)("div",{target:"e183km5u1"})((({theme:e,size:t})=>({boxSizing:"border-box",width:`${t}px`,height:`${t}px`,display:"flex",alignItems:"center",flexDirection:"column",background:e.colors.BGInput,borderRadius:"2px",overflow:"hidden",cursor:"pointer",paddingTop:(t-30)/2+"px"})),"label:DivImageUploadElement;"),Ue=(0,b.Z)("div",{target:"e183km5u2"})((({theme:e,size:t})=>({width:`${t}px`,height:`${t}px`,marginRight:"12px",position:"relative",borderRadius:"2px",overflow:"hidden",cursor:"pointer",":before":{content:'""',position:"absolute",width:"200%",height:"200%",borderRadius:"4px",border:`1px solid ${e.colors.LineSecondary}`,transform:"scale(.5)",left:"-50%",top:"-50%",boxSizing:"border-box"},img:{objectFit:"cover",zIndex:3,transform:"translateZ(10px)"}})),"label:DivImageItem;"),Ve=(0,b.Z)("span",{target:"e183km5u3"})({position:"absolute",display:"flex",boxSizing:"border-box",padding:"5px",top:0,right:0,width:"16px",height:"16px",background:"rgba(22, 24, 35, 0.75)",borderBottomLeftRadius:"2px",cursor:"pointer"},"label:SpanClose;"),$e=(0,b.Z)("span",{target:"e183km5u4"})((({theme:e})=>({fontSize:"12px",lineHeight:"15px",color:e.colors.TextTertiary,marginTop:"4px"})),"label:SpanImageNumber;"),We=(0,b.Z)("input",{target:"e183km5u5"})({display:"none",width:0,height:0},"label:InputImage;"),Ge=(0,b.Z)("div",{target:"e183km5u6"})({position:"absolute",left:"50%",top:"50%",transform:"translate(-50% , -50%)"},"label:DivMid;");let qe=0;const Ne=Number(1048576),He=(e,t)=>e>=5242880?t?.1:.2:e>=1572864?t?.3:.5:e>=524288?t?.4:.6:t?.6:.8,Ye=(0,a.memo)((function({max:e,onChange:t,size:i=72}){const n=(0,g.fz)(Ie.r),[r,l]=(0,a.useState)([]),[s,d]=(0,a.useState)(0),[c,u]=(0,a.useState)(!1),p=(0,a.useRef)([]),{colors:m}=(0,S.u)(),h=(0,a.useCallback)((t=>{const i=[],o=t.target.files,n=e-r.length;if(o){const e=o.length>n?n:o.length;for(let t=0;t<e;t++)if(o[t].type.match("image")){const n=new FileReader;n.readAsDataURL(o[t]),n.onload=t=>{i.push({id:qe++,uri:t.target.result,uploaded:!1}),i.length===e&&l((e=>[...e,...i]))},p.current.push(o[t])}t.target.value=""}}),[e,r.length]),v=(0,a.useCallback)((e=>()=>{d(e),u(!0)}),[]),x=(0,a.useCallback)((e=>{const t=p.current[e];new(Se())(t,{quality:He(t.size),convertSize:Ne,success:i=>{p.current[e]=i,i.with=t.width,i.height=t.height,n.uploadImage([i]).subscribe((t=>{const o=[...r];o[e]=Object.assign(Object.assign(Object.assign({},o[e]),t.data[0]),{size:i.size,uploaded:!0}),l(o)}))}})}),[r,p,n]),b=e=>()=>{const t=r.slice();t.splice(e,1),l(t),p.current.splice(e,1)},y=(0,a.useCallback)((()=>{u(!1)}),[]);return(0,a.useEffect)((()=>{r.forEach(((e,t)=>{!1===r[t].uploaded&&x(t)})),t(r)}),[r,t,x]),(0,o.jsxs)("div",{children:[(0,o.jsxs)(Ae,{children:[r.map(((e,t)=>(0,o.jsxs)(Ue,Object.assign({size:i},{children:[(0,o.jsx)("img",{src:e.uri,width:i,height:i,style:e.uploaded?{}:{filter:"blur(1px)"},onClick:v(t)},void 0),(0,o.jsx)(Ve,Object.assign({className:"close",onClick:b(t)},{children:(0,o.jsx)(Pe.Z,{width:7,height:7,fill:"#fff"},void 0)}),void 0),e.uploaded?null:(0,o.jsx)(Ge,{children:(0,o.jsx)(D.g,{size:20},void 0)},void 0)]}),e.id))),c&&(0,o.jsx)(ze,{defaultIndex:s,imgList:r.map((e=>e.uri)),onClose:y},void 0),e<=r.length?null:(0,o.jsx)("label",Object.assign({htmlFor:"upload-image-file"},{children:(0,o.jsxs)(Ee,Object.assign({size:i},{children:[(0,o.jsx)(Te.Z,{height:30,width:30,fill:m.TextTertiary},void 0),(0,o.jsxs)($e,Object.assign({className:"img-number"},{children:[r.length,"/",e]}),void 0)]}),void 0)}),void 0)]},void 0),(0,o.jsx)(We,{multiple:!0,className:"file-input",accept:"image/png,image/jpeg,image/jpg,image/bmp",type:"file",onChange:h,id:"upload-image-file"},void 0)]},void 0)})),Qe=(0,b.Z)("div",{target:"egyld0v0"})({height:"580px",padding:"0px",overflowY:"auto",overflowX:"hidden",paddingBottom:"84px"},"label:DivKopigContainer;"),Je=(0,b.Z)("div",{target:"egyld0v1"})({display:"flex",flexDirection:"column",alignItems:"stretch",padding:"0px"},"label:DivScrollContainer;"),Ke=(0,b.Z)("div",{target:"egyld0v2"})({display:"flex",flexDirection:"row",justifyContent:"center",boxSizing:"border-box",padding:"16px 24px 12px"},"label:DivSectionHeader;"),Xe=(0,b.Z)("div",{target:"egyld0v3"})((({theme:e})=>({display:"flex",flexDirection:"row",boxSizing:"border-box",fontSize:"16px",padding:"16px 24px",lineHeight:"22px",color:e.colors.TextSecondary,backgroundColor:e.colors.BGView,marginBottom:"8px"})),"label:DivSectionLine;"),et=(0,b.Z)("span",{target:"egyld0v4"})((({theme:e})=>({flex:1,fontSize:"18px",lineHeight:"24px",fontFamily:e.fontFamilies.Proxima,fontWeight:e.fontWeights.semiBold,color:e.colors.TextPrimary})),"label:SpanSectionTitle;"),tt=(0,b.Z)("span",{target:"egyld0v5"})((({theme:e})=>({fontSize:"16px",lineHeight:"22px",color:e.colors.TextSecondary})),"label:SpanWordCount;"),it=e=>({borderStyle:"none",borderColor:"transparent",boxShadow:"none",outline:"none",margin:"0px 24px",borderRadius:"4px",fontSize:"16px",fontFamily:e.fontFamilies.Proxima,fontWeight:e.fontWeights.normal,color:e.colors.TextPrimary,":placeholder":{color:e.colors.TextTertiary}}),ot=(0,b.Z)("textarea",{target:"egyld0v6"})((({theme:e})=>Object.assign(Object.assign({},it(e)),{resize:"none",height:"80px"})),"label:TextareaDescription;"),nt=(0,b.Z)("input",{target:"egyld0v7"})((({theme:e})=>Object.assign(Object.assign({},it(e)),{borderBottom:`1px solid ${e.colors.LineSecondary}`,height:"40px"})),"label:InputSignature;"),at=(0,b.Z)("div",{target:"egyld0v8"})({margin:"4px 24px"},"label:DivImageUploader;"),rt=(0,b.Z)("div",{target:"egyld0v9"})((({theme:e})=>({marginTop:"4px",fontFamily:e.fontFamilies.Proxima,fontWeight:e.fontWeights.normal,fontSize:"12px",color:e.colors.Primary})),"label:DivFileSizeWarning;"),lt=(0,b.Z)("div",{target:"egyld0v10"})({fontSize:"16px",lineHeight:"24px",padding:"16px 24px 0"},"label:DivCheckboxConfirm;"),st=(0,b.Z)("div",{target:"egyld0v11"})((({theme:e})=>({marginTop:"20px",padding:"0px 24px",fontSize:"14px",lineHeight:"20px",color:e.colors.TextSecondary})),"label:DivInfo;"),dt=(0,a.memo)((function(){var e,t,i,r,l;const d=(0,m.Q)(),c=(0,n.qj)(s.bg),u=(0,n.mp)(s.bg,{selector:e=>{const{UserData:t,PreState:i}=e;return{UserData:t,PreState:i}},dependencies:[]}),[p,h]=(0,a.useState)(""),[g,v]=(0,a.useState)([]),[x,b]=(0,a.useState)(""),[y,f]=(0,a.useState)(!1),[_,j]=(0,a.useState)(!1),[k,C]=(0,a.useState)(!1);(0,a.useEffect)((()=>{!g.some((e=>!0!==e.uploaded))&&!_&&y&&x.length>0?C(!0):C(!1)}),[p,g,x,y,_]);const w=(0,a.useCallback)((e=>{j(!1);for(const t of e)t.size&&t.size>20971520&&j(!0);v(e)}),[]),S=(0,a.useCallback)((e=>{e.stopPropagation()}),[]),P=(0,a.useCallback)((e=>h(e.target.value)),[]),T=(0,a.useCallback)((e=>b(e.target.value)),[]),I=(0,a.useCallback)((e=>f(e)),[]),D=(0,a.useCallback)((e=>{var t,i,o,n;if(e.preventDefault(),e.stopPropagation(),(null===(i=null===(t=u.UserData)||void 0===t?void 0:t.selectedReason)||void 0===i?void 0:i.reason_type)&&k){const e={is_netzdg:1,report_desc:p,uri:g.map((e=>e.url)).join(","),report_signature:x};c.postReport({reason:null===(n=null===(o=u.UserData)||void 0===o?void 0:o.selectedReason)||void 0===n?void 0:n.reason_type,extraData:e})}}),[p,g,x,null===(t=null===(e=u.UserData)||void 0===e?void 0:e.selectedReason)||void 0===t?void 0:t.reason_type,k,c]),O=8===(null===(r=null===(i=u.UserData)||void 0===i?void 0:i.selectedReason)||void 0===r?void 0:r.special_type);return(0,o.jsxs)(Qe,{children:[(0,o.jsxs)(Je,{children:[(0,o.jsx)(Xe,{children:`${d("Web_report_reason_select")} ${null===(l=u.UserData.selectedReason)||void 0===l?void 0:l.text}`},void 0),(0,o.jsxs)(Ke,{children:[(0,o.jsx)(et,{children:d("Web_report_description")},void 0),(0,o.jsxs)(tt,{children:[p.length,"/",200]},void 0)]},void 0),(0,o.jsx)(ot,{rows:5,maxLength:200,placeholder:d("Please provide as much detail as possible"),value:p,onChange:P,onKeyDown:S},void 0),(0,o.jsxs)(at,{children:[(0,o.jsx)(Ye,{max:4,onChange:w},void 0),_&&(0,o.jsx)(rt,{children:d("attachment_upload_limit")},void 0)]},void 0),(0,o.jsx)(Ke,{children:(0,o.jsx)(et,{children:d("Signature")},void 0)},void 0),(0,o.jsx)(nt,{placeholder:d("Sign_here"),value:x,maxLength:100,onChange:T,onKeyDown:S},void 0),(0,o.jsx)(lt,{children:(0,o.jsx)(W,{label:d("Report_confirmation"),value:y,onChange:I},void 0)},void 0),O&&(0,o.jsx)(st,{children:d("avia_law_false_report_warning")},void 0),(0,o.jsx)(st,{children:d("Web_report_description_tips")},void 0)]},void 0),(0,o.jsx)(re,{children:(0,o.jsx)(le,Object.assign({disabled:!k,onClick:D},{children:d("Submit")}),void 0)},void 0)]},void 0)}));var ct=i(34708);const ut=(0,b.Z)("div",{target:"e10dth7g0"})((({top:e})=>({textAlign:"center",margin:`${e}px auto 0px`})),"label:DivMid;"),pt=(0,b.Z)("button",{target:"e10dth7g1"})((({theme:e})=>({width:"240px",height:"44px",margin:"133px auto 0px",border:`1px solid ${e.colors.LineSecondary2}`,borderRadius:"2px",textAlign:"center",cursor:"pointer",color:e.colors.TextPrimary,fontSize:"16px",lineHeight:"22px",padding:"11px 0px",background:e.colors.BGTertiary2,display:"block"})),"label:ButtonRetry;"),mt=()=>{var e,t,i,r,l;const d=(0,m.Q)(),{isRTL:p}=(0,h.Y)(),{user:g}=null!==(e=(0,ct.L)((()=>["user","region"]),[]))&&void 0!==e?e:{},v=(0,n.qj)(s.bg),{colors:x}=(0,S.u)(),b=(0,n.mp)(s.bg,{selector:e=>{const{lastStatus:t,requesting:i,loading:o,PageState:n,PageStateData:a,UserData:r,reportTarget:l}=e;return{lastStatus:t,requesting:i,loading:o,PageState:n,PageStateData:a,UserData:r,reportTarget:l}},dependencies:[]}),y=(0,a.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),b.reportTarget&&v.getReasons(b.reportTarget)}),[v,b.reportTarget]),f=(0,a.useCallback)((e=>t=>{var i,o,n,a,r,l,d,c,u,p,m,h;t.preventDefault(),t.stopPropagation();const x=null===(o=null===(i=b.PageStateData)||void 0===i?void 0:i.reasons)||void 0===o?void 0:o.find((t=>t.reason_type===e));if(x&&v.setUserData({selectedReason:x,HistoryReason:[...null!==(n=b.UserData.HistoryReason)&&void 0!==n?n:[],x]}),!x)return;const y=Boolean(g);let f=null;switch(x.special_type){case 2:f=(0,s.yM)({reportTarget:b.reportTarget});break;case 6:(!y&&"video"===(null===(a=b.reportTarget)||void 0===a?void 0:a.report_type)||!y&&"comment"===(null===(r=b.reportTarget)||void 0===r?void 0:r.report_type))&&(f=(0,s.Hx)({reportTarget:b.reportTarget}));break;case 8:(!y&&"video"===(null===(l=b.reportTarget)||void 0===l?void 0:l.report_type)||!y&&"comment"===(null===(d=b.reportTarget)||void 0===d?void 0:d.report_type))&&(f=(0,s.g0)({reportTarget:b.reportTarget}))}f?window.open(f,"_blank","noopener,noreferrer"):!x||Boolean(null===(c=x.next_reason)||void 0===c?void 0:c.length)?v.handleNextReason({nextReason:null!==(u=x.next_reason)&&void 0!==u?u:[],reason_id:x.reason_type}):[1,4].includes(x.special_type)&&(null===(p=b.PageStateData)||void 0===p?void 0:p.reasons)&&x.reason_type!==(null===(m=b.PageStateData)||void 0===m?void 0:m.reasons[0].reason_type)?v.handleNextForm(3):b.UserData.HistoryReason&&[...s.wC,...s.T].includes(null===(h=b.UserData.HistoryReason[0])||void 0===h?void 0:h.reason_type)||[8].includes(x.special_type)?v.handleNextForm(2):v.handleNextForm(1)}),[b.PageStateData,v,b.UserData.HistoryReason,g,b.reportTarget]);return(0,o.jsx)(K,{children:b.loading?(0,o.jsx)(ie,{children:(0,o.jsx)(D.g,{},void 0)},void 0):0===(null===(i=null===(t=b.PageStateData)||void 0===t?void 0:t.reasons)||void 0===i?void 0:i.length)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ut,Object.assign({top:57},{children:(0,o.jsx)(P.Z,{width:72,height:72},void 0)}),void 0),(0,o.jsx)(ut,Object.assign({top:20,style:{fontSize:"18px",lineHeight:"24px",color:x.TextPrimary}},{children:d("pm_mt_live_page_sth_wrong")}),void 0),(0,o.jsx)(ut,Object.assign({top:12,style:{fontSize:"16px",lineHeight:"22px",color:x.TextSecondary}},{children:d("pm_mt_live_page_try_again")}),void 0),(0,o.jsxs)(pt,Object.assign({onClick:y},{children:[(0,o.jsx)(T.Z,{width:14,height:14,style:{verticalAlign:"middle",marginRight:"8px"}},void 0),d("report_inbox_retry_btn")]}),void 0)]},void 0):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(X,{children:d("Please select a scenario")},void 0),null===(l=null===(r=b.PageStateData)||void 0===r?void 0:r.reasons)||void 0===l?void 0:l.map((e=>(0,o.jsxs)(te,Object.assign({onClick:f(e.reason_type)},{children:[(0,o.jsx)(ee,{children:e.text},void 0),p?(0,o.jsx)(u.Z,{style:{color:x.TextTertiary},width:20,height:20},void 0):(0,o.jsx)(c.Z,{style:{color:x.TextTertiary},width:20,height:20},void 0)]}),e.reason_type)))]},void 0)},void 0)};var ht=i(60162),gt=i(65262);const vt=(0,b.Z)("div",{target:"eshtx6u0"})((({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,margin:"0 15px",paddingTop:"30px"})),"label:DivUserBlockSection;"),xt=(0,b.Z)("div",{target:"eshtx6u1"})((({theme:e})=>({fontSize:"13px",lineHeight:"17px",color:e.colors.TextTertiary,paddingLeft:"12px"})),"label:DivUserBlockTitle;"),bt=(0,b.Z)("div",{target:"eshtx6u2"})({marginTop:"13px",height:"46px",paddingLeft:"12px",marginBottom:"24px"},"label:DivUserBlock;"),yt=(0,b.Z)("div",{target:"eshtx6u3"})((({theme:e})=>({width:"46px",height:"46px",marginRight:"13px",display:"inline-block",float:"left",backgroundColor:e.colors.BGInput,padding:"11px",borderRadius:"50%"})),"label:DivUserBlockIcon;"),ft=(0,b.Z)("div",{target:"eshtx6u4"})((({theme:e})=>({lineHeight:"46px",height:"46px",fontSize:"15px",color:e.colors.TextPrimary,display:"inline-block",float:"left"})),"label:DivUserBlockName;"),_t=({onClose:e})=>{var t,i,r,l;const d=(0,m.Q)(),c=(0,n.qj)(s.bg),{colors:u}=(0,S.u)(),p=(0,n.mp)(s.bg,{selector:e=>{const{UserData:t,reportTarget:i}=e;return{reportTarget:i,UserData:t}},dependencies:[]}),h=(0,a.useCallback)((()=>{e()}),[e]),g=(0,a.useCallback)((()=>{c.handleNextForm(4)}),[c]),{submitresult:v}=p.UserData,{title:x="Thanks",content:b="We’ll review your report and if there is a violation of our Community Guidelines, we’ll take appropriate action.",button:y="Done",success:f=!0}=null!=v?v:{};return(0,o.jsxs)("div",{children:[(0,o.jsx)(se,Object.assign({top:f?25:20},{children:f?(0,o.jsx)(A.Z,{width:32,height:22,style:{color:u.Positive}},void 0):(0,o.jsx)(ht.Z,{width:32,height:32},void 0)}),void 0),(0,o.jsx)(de,{children:null!==(t=d(x))&&void 0!==t?t:x},void 0),(0,o.jsx)(ce,{children:b},void 0),"user"===(null===(i=p.reportTarget)||void 0===i?void 0:i.report_type)?(0,o.jsxs)(vt,Object.assign({onClick:g},{children:[(0,o.jsx)(xt,{children:d("Web_report_you_can_also")},void 0),(0,o.jsxs)(bt,{children:[(0,o.jsx)(yt,{children:(0,o.jsx)(gt.Z,{width:24,height:24},void 0)},void 0),(0,o.jsxs)(ft,{children:[d("webdm_block")," ",null===(r=p.reportTarget)||void 0===r?void 0:r.nickname]},void 0)]},void 0)]}),void 0):null,(0,o.jsx)(ue,Object.assign({onClick:h},{children:null!==(l=d(y))&&void 0!==l?l:y}),void 0)]},void 0)},jt=()=>{var e,t;const i=(0,m.Q)(),r=(0,n.qj)(s.bg),l=(0,n.mp)(s.bg,{selector:e=>{const{UserData:t}=e;return{UserData:t}},dependencies:[]}),d=(0,a.useCallback)((e=>{var t,i,o,n;e.preventDefault(),e.stopPropagation(),(null===(i=null===(t=l.UserData)||void 0===t?void 0:t.selectedReason)||void 0===i?void 0:i.reason_type)&&r.postReport({reason:null===(n=null===(o=l.UserData)||void 0===o?void 0:o.selectedReason)||void 0===n?void 0:n.reason_type,extraData:null})}),[r,null===(t=null===(e=l.UserData)||void 0===e?void 0:e.selectedReason)||void 0===t?void 0:t.reason_type]);let c={title:"",subtitle:"",introduction:""};return l.UserData.selectedReason&&(c=(JSON.parse(l.UserData.selectedReason.option)||{}).intro||{}),(0,o.jsxs)(K,{children:[(0,o.jsx)(oe,{children:c.title},void 0),(0,o.jsx)(ne,{children:c.subtitle},void 0),(0,o.jsx)("ul",Object.assign({style:{margin:"0px",paddingInlineStart:"26px"}},{children:(c.introduction||"").split("\n").map((e=>(0,o.jsx)(ae,{children:(0,o.jsx)("span",{children:e},void 0)},e)))}),void 0),(0,o.jsx)(re,{children:(0,o.jsx)(le,Object.assign({onClick:d},{children:i("Submit")}),void 0)},void 0)]},void 0)};var kt=i(14695),Ct=i(59577),wt=i(73080);const St=(0,i(3624).F4)({"0%":{transform:"rotate(0deg)"},"50%":{transform:"rotate(180deg)"},"100%":{transform:"rotate(360deg)"}}),Pt=(0,b.Z)("div",{target:"e1n5v3jy0"})({animation:`${St} 1s ease-out infinite`,width:"16px",height:"16px"},"label:DivRotate;"),Tt=(0,b.Z)("input",{target:"e1n5v3jy1"})((({theme:e})=>({borderTop:"0px",borderLeft:"0px",borderRight:"0px",borderBottom:`1px solid ${e.colors.LineSecondary}`,fontSize:"16px",width:"100%",padding:"14px 0px",lineHeight:"22px",outline:"none",marginTop:"14px"})),"label:InputUser;"),It=(0,b.Z)("div",{target:"e1n5v3jy2"})((({theme:e})=>({padding:"8px 0px",borderBottom:`1px solid ${e.colors.LineSecondary}`})),"label:DivUserCC;"),Dt=(0,b.Z)("div",{target:"e1n5v3jy3"})({width:"100%",height:"64px",position:"relative"},"label:DivC;"),Ot=(0,b.Z)("div",{target:"e1n5v3jy4"})({height:"48px",position:"relative"},"label:DivUserInfo;"),Rt=(0,b.Z)("img",{target:"e1n5v3jy5"})({width:"48px",height:"48px",borderRadius:"50%",position:"absolute",left:"0",top:"0"},"label:ImgUserAvator;"),Lt=(0,b.Z)("div",{target:"e1n5v3jy6"})((({theme:e})=>({position:"absolute",left:"60px",top:"0px",height:"25px",lineHeight:"25px",fontSize:"18px",color:e.colors.TextPrimary})),"label:DivUserName;"),Zt=(0,b.Z)("div",{target:"e1n5v3jy7"})((({theme:e})=>({position:"absolute",left:"60px",top:"27px",height:"20px",lineHeight:"20px",fontSize:"14px",color:e.colors.TextPrimary})),"label:DivUserId;"),Mt=(0,b.Z)("div",{target:"e1n5v3jy8"})({position:"absolute",right:"16px",bottom:"16px",width:"16px",height:"16px"},"label:DivCbutton;"),Bt=(0,b.Z)("li",{target:"e1n5v3jy9"})((({theme:e})=>({width:"100%",height:"64px",padding:"8px 16px",":hover":{background:e.colors.BGPlaceholderOpaque}})),"label:LiUser;"),Ft=(0,b.Z)("ul",{target:"e1n5v3jy10"})((({theme:e})=>({position:"relative",margin:"0px",width:"100%",maxHeight:"360px",overflowY:"scroll",padding:"0px",background:e.colors.BGPrimary,boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",borderRadius:"8px",zIndex:22})),"label:UlUser;");let zt=null;const At=(0,a.memo)((function({onChange:e}){const t=(0,m.Q)(),i=(0,g.fz)(wt.o),[n,r]=(0,a.useState)(!1),[l,s]=(0,a.useState)(""),[d,c]=(0,a.useState)(null),[u,p]=(0,a.useState)([]),[h,v]=(0,a.useState)(!1),[x,b]=(0,a.useState)(0),[y,f]=(0,a.useState)(!0),_=(0,a.useCallback)((t=>{d&&(c(null),b(0),s(""),p([]),e(null))}),[d,e]),j=(0,a.useCallback)((t=>i=>{i.preventDefault(),i.stopPropagation(),c(t),r(!1),e(t)}),[e]),k=(0,a.useCallback)(((e,t)=>{!h&&y&&(v(!0),i.getUserSearch({keyword:e,cursor:t}).subscribe((e=>{var i;if(v(!1),0===e.status_code||203===e.status_code){f(Boolean(e.has_more));const{user_list:o}=e,n=null!==(i=null==o?void 0:o.map((e=>({uid:e.user_info.uid,nickname:e.user_info.nickname,username:e.user_info.unique_id,avatar:e.user_info.avatar_thumb.url_list.find((e=>e.indexOf(".jpeg")>-1))||e.user_info.avatar_thumb.url_list[0],isVerify:Boolean(e.user_info.custom_verify||e.user_info.verify_info_tt||e.user_info.enterprise_verify_reason)}))))&&void 0!==i?i:[],a=[...0===t?[]:u,...n];b(a.length),p(a),r(!0)}})))}),[h,y,i,u]),C=(0,a.useCallback)((e=>{const t=e.target.value;s(t),zt&&clearTimeout(zt),zt=setTimeout((()=>{t&&k(t,0)}),1e3)}),[k]),w=(0,a.useCallback)((e=>{const t=e.target;t.scrollHeight-t.scrollTop===t.clientHeight&&!h&&k(l,x)}),[l,x,k,h]);return(0,o.jsxs)("div",{children:[(0,o.jsxs)(Dt,{children:[d?(0,o.jsx)(It,{children:(0,o.jsxs)(Ot,{children:[(0,o.jsx)(Rt,{src:d.avatar},void 0),(0,o.jsxs)(Lt,{children:[(0,o.jsx)("span",Object.assign({style:{paddingRight:"4px"}},{children:d.nickname}),void 0),d.isVerify?(0,o.jsx)(kt.Z,{style:{verticalAlign:"middle"},width:14,height:14,"data-e2e":"user-bluev"},void 0):null]},void 0),(0,o.jsx)(Zt,{children:d.username},void 0)]},void 0)},void 0):(0,o.jsx)(Tt,{value:l,placeholder:t("Web_report_account_impersonated_search"),onChange:C},void 0),(0,o.jsx)(Mt,Object.assign({onClick:_},{children:d?(0,o.jsx)(Ct.Z,{style:{fontSize:16}},void 0):h?(0,o.jsx)(Pt,{children:(0,o.jsx)(T.Z,{style:{fontSize:16}},void 0)},void 0):null}),void 0)]},void 0),n?(0,o.jsx)(Ft,Object.assign({onScroll:w},{children:u.map((e=>(0,o.jsx)(Bt,{children:(0,o.jsxs)(Ot,Object.assign({onClick:j(e)},{children:[(0,o.jsx)(Rt,{src:e.avatar},void 0),(0,o.jsxs)(Lt,{children:[(0,o.jsx)("span",Object.assign({style:{paddingRight:"4px"}},{children:e.nickname}),void 0),e.isVerify?(0,o.jsx)(kt.Z,{style:{verticalAlign:"middle"},width:14,height:14,"data-e2e":"user-bluev"},void 0):null]},void 0),(0,o.jsx)(Zt,{children:e.username},void 0)]}),void 0)},e.username)))}),void 0):null]},void 0)})),Et=(0,b.Z)("div",{target:"e1xsicpb0"})((({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,height:"65vh",overflowY:"hidden",overflowX:"hidden"})),"label:DivRadioWrapper;"),Ut=(0,b.Z)("div",{target:"e1xsicpb1"})((({theme:e})=>({height:"54px",width:"100%",backgroundColor:e.colors.BGView,padding:"16px 24px",color:e.colors.TextSecondary,fontSize:"16px",lineHeight:"22px"})),"label:DivReport;"),Vt=(0,b.Z)("div",{target:"e1xsicpb2"})((({theme:e})=>({marginTop:"24px",fontSize:"18px",lineHeight:"24px",height:"24px",padding:"0 24px",color:e.colors.TextPrimary})),"label:DivUTitle;"),$t=(0,b.Z)("div",{target:"e1xsicpb3"})((({theme:e})=>({marginTop:"10px",fontSize:"16px",lineHeight:"22px",height:"22px",color:e.colors.TextTertiary,padding:"0 24px"})),"label:DivUSubTitle;"),Wt=(0,b.Z)("div",{target:"e1xsicpb4"})((({theme:e})=>({position:"absolute",bottom:"96px",left:"0",width:"100%",fontSize:"14px",lineHeight:"20px",color:e.colors.TextSecondary,padding:"0 24px"})),"label:DivDesc;"),Gt=(0,b.Z)("div",{target:"e1xsicpb5"})({marginTop:"12px",padding:"0px 24px"},"label:DivUser;"),qt=()=>{var e,t;const i=(0,m.Q)(),r=(0,n.qj)(s.bg),[l,d]=(0,a.useState)(null),[c,u]=(0,a.useState)(!0),p=(0,n.mp)(s.bg,{selector:e=>{const{UserData:t}=e;return{UserData:t}},dependencies:[]}),h=(0,a.useCallback)((e=>{e?(u(!1),d(e)):(u(!0),d(null))}),[]),g=(0,a.useCallback)((e=>{if(e.preventDefault(),e.stopPropagation(),p.UserData.selectedReason&&l){const e={related_username:l.username,related_ttid:l.uid};r.postReport({reason:p.UserData.selectedReason.reason_type,extraData:e})}}),[r,p.UserData.selectedReason,l]);let v="";if(p.UserData.HistoryReason){const i=(null===(e=p.UserData.HistoryReason)||void 0===e?void 0:e.length)||2;i>=2&&(v=(null===(t=p.UserData.HistoryReason[i-2])||void 0===t?void 0:t.text)||"")}return(0,o.jsxs)(Et,{children:[(0,o.jsxs)(Ut,{children:[i("Web_report_reason_select"),v]},void 0),(0,o.jsx)(Vt,{children:i("Web_report_account_impersonated")},void 0),(0,o.jsx)($t,{children:i("Web_report_account_impersonated_description")},void 0),(0,o.jsx)(Gt,{children:(0,o.jsx)(At,{onChange:h},void 0)},void 0),(0,o.jsx)(Wt,{children:i("Web_report_description_tips")},void 0),(0,o.jsx)(re,{children:(0,o.jsx)(le,Object.assign({disabled:c,onClick:g},{children:i("Submit")}),void 0)},void 0)]},void 0)},Nt=(0,a.memo)((function({onClose:e,visible:t=!1}){const i=(0,m.Q)(),{isRTL:r}=(0,h.Y)(),l=(0,n.qj)(s.bg),g=(0,n.mp)(s.bg,{selector:e=>{const{PageState:t,PreState:i}=e;return{PageState:t,PreState:i}},dependencies:[]}),v=(0,a.useCallback)((()=>{e()}),[e]),x=(0,a.useCallback)((()=>{l.resetState()}),[l]),b=(0,a.useCallback)((()=>{l.handlePrevStep()}),[l]),y=i("Report"),f=g.PreState.length>0,_=()=>0===g.PageState?(0,o.jsx)(mt,{},void 0):1===g.PageState?(0,o.jsx)(jt,{},void 0):5===g.PageState?(0,o.jsx)(_t,{onClose:v},void 0):3===g.PageState?(0,o.jsx)(qt,{},void 0):2===g.PageState?(0,o.jsx)(dt,{},void 0):4===g.PageState?(0,o.jsx)(C,{onClose:v},void 0):6===g.PageState?(0,o.jsx)(Ce,{onClose:v},void 0):void 0;return(0,o.jsx)(d.AR,Object.assign({compact:!0,isOpen:t,onClose:v,onCloseComplete:x,closeOnBackdropClick:6===g.PageState,closeOnEsc:!1},{children:[0,1,2,3].includes(g.PageState)?(0,o.jsxs)(q,{children:[(0,o.jsxs)(H,Object.assign({isBackable:f},{children:[f&&(0,o.jsx)(Y,Object.assign({onClick:b},{children:r?(0,o.jsx)(c.Z,{width:20,height:20},void 0):(0,o.jsx)(u.Z,{width:20,height:20},void 0)}),void 0),(0,o.jsx)(J,{children:y},void 0),(0,o.jsx)(Q,Object.assign({"data-e2e":"report-card-cancel",onClick:v},{children:(0,o.jsx)(p.Z,{width:14,height:14},void 0)}),void 0)]}),void 0),_()]},void 0):(0,o.jsx)(N,{children:_()},void 0)}),void 0)}));function Ht(e){const t=function(t){const i=function({onClose:e}={}){const{hideModal:t}=(0,l.J)(),[i,r]=(0,n.b7)(s.bg,{selector:({showing:e})=>e,dependencies:[]}),d=(0,a.useCallback)((()=>{null==e||e(),t(),r.hideReport()}),[r,t,e]);return(0,o.jsx)(Nt,{onClose:d,visible:i},void 0)}();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e,Object.assign({},t),void 0),i]},void 0)};return t.displayName=`WithReport(${(0,r.i)(e)})`,t}},16929:(e,t,i)=>{i.d(t,{P:()=>o,G:()=>n});const o={0:{forceMute:!1,defaultMute:!1},1:{forceMute:!0,defaultMute:!0},2:{forceMute:!1,defaultMute:!1},3:{forceMute:!1,defaultMute:!1},4:{forceMute:!1,defaultMute:!1}},n=.8},14870:(e,t,i)=>{i.d(t,{Fk:()=>p,Mz:()=>m,s_:()=>h,DZ:()=>g,$v:()=>v,ru:()=>b,A4:()=>y});var o=i(9236),n=i(16926),a=i(91051),r=i(14563),l=i(13964),s=i(91218),d=i(56785),c=i(16929),u=i(13033);function p({loadingThreshold:e=1e3,isCurrentVideo:t}){const[i,o]=(0,a.useState)(!1),n=(0,a.useRef)(0),r=(0,a.useCallback)((()=>{n.current&&window.clearTimeout(n.current),o(!1)}),[]),l=(0,a.useCallback)((()=>{e?(n.current&&window.clearTimeout(n.current),n.current=window.setTimeout((()=>{o(!0)}),e)):o(!0)}),[e]);return(0,a.useEffect)((()=>(t||(window.clearTimeout(n.current),o(!1)),()=>window.clearTimeout(n.current))),[t]),{loading:i,handleCanPlayWithLoading:r,handlePauseWithLoading:r,handlePlayingWithLoading:r,handleErrorWithLoading:r,handleWaitingWithLoading:l}}function m(){const[e,t]=(0,a.useState)(!0),i=(0,a.useCallback)((()=>{t(!1)}),[]),o=(0,a.useCallback)((()=>{t(!0)}),[]);return(0,a.useEffect)((()=>{const e=(0,l.Y8)(i,o);return()=>{null==e||e()}}),[o,i]),e}function h(e){const[{mute:t,volume:i},n]=(0,o.b7)(d.x,{selector:e=>({mute:e.mute,volume:e.volume}),dependencies:[]}),l=(0,a.useCallback)(((t,o="click")=>{r.$.handleSwitchSound({muted:t,playMode:e,enter_method:o}),r.$.handleVolumeChange({volume_to:i,click_mute:!0}),u.Bv.setItem("muted",t),n.setMute(t),t||0!==u.Bv.getItem("volume")||(u.Bv.setItem("volume",c.G),n.setVolume(c.G))}),[n,e,i]);return{mute:t,volume:i,setMute:l}}function g(){const[{mute:e,volume:t},i]=(0,o.b7)(d.x,{selector:e=>({mute:e.mute,volume:e.volume}),dependencies:[]}),n=(0,a.useCallback)(((e,t)=>{u.Bv.setItem("volume",e),i.setVolume(e),0===e?(u.Bv.setItem("muted",!0),i.setMute(!0)):t&&(u.Bv.setItem("muted",!1),i.setMute(!1))}),[i]);return{mute:e,volume:t,setVolume:n}}function v(e){const{setMute:t,setVolume:i}=(0,o.qj)(d.x);(0,a.useEffect)((()=>{var o,n;t(null!==(o=u.Bv.getItem("muted"))&&void 0!==o?o:c.P[e].defaultMute),i(null!==(n=u.Bv.getItem("volume"))&&void 0!==n?n:c.G)}),[])}const x="video_playback_error";function b(){const e=(0,n.fz)(s.n);return(0,a.useCallback)((t=>{var i,o,n;const a=null!==(o=null===(i=null==t?void 0:t.nativeEvent)||void 0===i?void 0:i.target)&&void 0!==o?o:null===(n=null==t?void 0:t.nativeEvent)||void 0===n?void 0:n.srcElement;if(a){const{error:{code:t=-1,message:i="Empty message"}={},networkState:o,readyState:n,src:r="",currentTime:l=0}=a;e.emitEvent(x,{code:t},{errorMessage:i,errorCode:t,readyState:n,networkState:o,isXgPlayer:"0"});const s={errorCode:t,errorMessage:i,src:r,currentTime:l,networkState:o,readyState:n};e.captureMessage(`Video playback error: ${JSON.stringify(s)}`,"error")}}),[e])}function y(){const e=(0,n.fz)(s.n);return(0,a.useCallback)((t=>{if(t)try{const{error:i,readyState:o,networkState:n,currentTime:a=0,currentSrc:r=""}=t,{code:l=-1,message:s="Empty message"}=null!=i?i:{};e.emitEvent(x,{code:l},{errorMessage:s,errorCode:String(l),readyState:String(o),networkState:String(n),isXgPlayer:"1"});const d={errorCode:l,errorMessage:s,src:r,currentTime:a,networkState:n,readyState:o,isXgPlayer:!0};e.captureMessage(`Video playback error: ${JSON.stringify(d)}`,"error")}catch(e){}}),[e])}},75595:(e,t,i)=>{i.d(t,{S:()=>n});var o=i(91051);function n(e){const{direction:t="ltr",progressRef:i,circleRef:n,barRef:a,initialPercent:r=0,draggingPercentCb:l,draggingStateCb:s,progressReportCallback:d}=e,[c,u]=(0,o.useState)(r),p=(0,o.useRef)(0),m=(0,o.useRef)(null),h=(0,o.useCallback)(((e,t="original")=>{if("number"!=typeof e||e!=e)return;const i=Math.min(1,Math.max(0,e));u(i),("dragging"!==t&&"stop"!==t||i!==m.current)&&(null==l||l(i),m.current=i)}),[l]),g=(0,o.useCallback)(((e,o="original")=>{if(!n.current||!i.current||!a.current)return;let r;e.stopPropagation();const l="vertical"===t?i.current.getBoundingClientRect().height:i.current.getBoundingClientRect().width,{x:s,y:c,width:u,height:m}=i.current.getBoundingClientRect();switch(t){case"vertical":r=c+m-e.clientY;break;case"rtl":r=s+u-e.clientX;break;default:r=e.clientX-s}if("start"===o)switch(t){case"vertical":{const e=a.current.getBoundingClientRect().height;p.current=Math.min(1,Math.max(0,e/l));break}default:{const e=a.current.getBoundingClientRect().width;p.current=Math.min(1,Math.max(0,e/l));break}}else{if("stop"===o){const e=Math.min(1,Math.max(0,r/l)),t=p.current;null==d||d(t,e)}h(r/l,o)}}),[n,i,a,t,h,d]),v=(0,o.useRef)((e=>{null==s||s(!0),e.preventDefault(),g(e,"dragging")})),x=(0,o.useRef)((e=>{document.removeEventListener("mouseup",x.current),document.removeEventListener("mousemove",v.current),g(e,"stop"),null==s||s(!1)}));return{percent:c,bindDrag:(0,o.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),g(e,"start"),document.addEventListener("mouseup",x.current),document.addEventListener("mousemove",v.current)}),[g]),seek:g,update:u}}},76985:(e,t,i)=>{i.d(t,{m:()=>o,x:()=>n});const o=e=>10229===e||10230===e,n=e=>isNaN(e)?"00:00":`${`0${Math.floor(e/60%60)}`.slice(-2)}:${`0${Math.floor(e%60)}`.slice(-2)}`},48793:(e,t,i)=>{i.d(t,{t:()=>m});var o,n=i(11040),a=i(91051),r=i(32913),l=i(27918);function s({styleType:e,direction:t}){switch(e){case 0:case 1:return{flexDirection:"column"};case 2:return{flexDirection:"row","& + &":(0,l.YJ)({direction:t,marginStart:"20px"})}}return null}!function(e){e[e.OneColumn=0]="OneColumn",e[e.OneColumnShare=1]="OneColumnShare",e[e.BrowserMode=2]="BrowserMode"}(o||(o={}));const d=(0,r.Z)("button",{target:"e1hk3hf90"})((({styleType:e,theme:{direction:t,colors:i}})=>[l.Ph,{position:"relative",display:"flex",alignItems:"center",cursor:"pointer",":disabled":{cursor:"default",color:i.TextPrimary}},s({styleType:e,direction:t})]),"label:ButtonActionItem;");function c({styleType:e,direction:t}){switch(e){case 0:return[{marginTop:"8px",marginBottom:"6px"},(0,l.f1)({max:767,style:{width:"32px",height:"32px",padding:"6px",svg:{width:"20px",height:"20px"}}})];case 1:return[{padding:"0",marginTop:"8px",marginBottom:"6px"}];case 2:return[{padding:"6px"},(0,l.YJ)({direction:t,marginEnd:"6px"})]}return null}const u=(0,r.Z)("span",{target:"e1hk3hf91"})((({styleType:e,theme:{direction:t,colors:i}})=>[{display:"flex",justifyContent:"center",alignItems:"center",width:2===e?"32px":"48px",height:2===e?"32px":"48px",fontSize:"0px",borderRadius:"50%",transition:"all ease-in-out 200ms"},1!==e?{backgroundColor:i.BGInput,[`${d}:not(:disabled) &:hover`]:{backgroundColor:"rgba(22, 24, 35, .1)"},[`${d}:not(:disabled) &:active`]:{backgroundColor:"rgba(22, 24, 35, .14)"}}:null,c({styleType:e,direction:t})]),"label:SpanIconWrapper;"),p=(0,r.Z)("strong",{target:"e1hk3hf92"})((({theme:e})=>(0,l.GI)({theme:e,typography:"P4",color:"TextSecondary"})),{textAlign:"center"},"label:StrongText;"),m=(0,a.memo)((function(e){const{text:t,Icon:i,styleType:o,disabled:a,children:r,e2eTag:l}=e;return(0,n.jsxs)(d,Object.assign({styleType:o,type:"button",onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,disabled:a},{children:[(0,n.jsx)(u,Object.assign({styleType:o,"data-e2e":`${l}-icon`},{children:i}),void 0),(0,n.jsx)(p,Object.assign({"data-e2e":`${l}-count`},{children:t}),void 0),r]}),void 0)}))},17118:(e,t,i)=>{i.d(t,{H:()=>l});var o=i(11040),n=i(91051),a=i(17936),r=i(8721);const l=e=>{const{visible:t=!1,duration:i=5e3,onHide:l,text:s,children:d,onShow:c,closeByActive:u}=e,p=(0,r.Q)(),[m,h]=(0,n.useState)(!1);(0,n.useEffect)((()=>{h(t)}),[t]),(0,n.useEffect)((()=>{!m&&l&&l(),m&&(null==c||c(),setTimeout((()=>{h(!1)}),i))}),[l,m,i,c]);const g=(0,n.useCallback)((()=>{u&&h(!1)}),[u]),v=(0,n.useMemo)((()=>({padding:"12px"})),[]),x=(0,n.useMemo)((()=>({keepParent:!0})),[]);return(0,o.jsx)(a.u,Object.assign({destroyTooltipOnHide:x,onClick:g,placement:"top",overlay:p(s),tooltipTheme:"blue",visible:m,overlayInnerStyle:v},{children:d}),void 0)}},14452:(e,t,i)=>{i.d(t,{B:()=>m});var o=i(91051),n=i(32667),a=i(11040),r=i(3624),l=i(32913),s=i(58695);const d=(0,l.Z)("div",{target:"exhfy940"})({pointerEvents:"none",position:"fixed",zIndex:1e3},"label:DivDoubleTapContainer;"),c=(0,r.F4)({"0%":{opacity:"1",transform:"scale(1.18)"},"14%":{opacity:"1",transform:"scale(.9)"},"21%":{opacity:"1",transform:"scale(1)"},"58%":{opacity:"1",transform:"scale(1)"},"100%":{opacity:"0",transform:"scale(1.93)"}}),u=(0,l.Z)(s.Z,{target:"exhfy941"})({animation:`${c} 1400ms`,width:"120px",height:"120px"},"label:StyledLikeIcon;"),p=function({x:e,y:t}){const i=Math.floor(61*Math.random()-30);return(0,a.jsx)(d,Object.assign({style:{left:e-60,top:t-60,transform:`rotate(${i}deg)`}},{children:(0,a.jsx)(u,{},void 0)}),void 0)};class m{constructor(e,t){this.x=e,this.y=t,this.el=document.createElement("div")}emit(){document.body.appendChild(this.el),(0,n.render)((0,o.createElement)(p,{x:this.x,y:this.y}),this.el),window.setTimeout((()=>{this.destroy()}),1400)}destroy(){(0,n.unmountComponentAtNode)(this.el),document.body.removeChild(this.el)}}},57462:(e,t,i)=>{i.d(t,{C:()=>u});var o=i(11040),n=i(8721),a=i(23028),r=i(34708),l=i(32913),s=i(27918);const d=(0,l.Z)("p",{target:"ejymp3n0"})((({theme:e,isMobile:t,isGray:i})=>t?[(0,s.GI)({theme:e,fontFamily:"Proxima",typography:"P3"}),{display:"inline-block",alignSelf:"flex-start",marginTop:"-4px",marginBottom:"8px",fontSize:"15px",fontWeight:400},i?{padding:"1px 5px",background:"rgba(255, 255, 255, 0.34)",borderRadius:"2px",fontWeight:600,textShadow:"0 0 16px rgba(0, 0, 0, .34)"}:null]:[(0,s.GI)({theme:e,fontFamily:"Proxima",typography:"P2"}),{display:"inline-block",alignSelf:"flex-start",marginTop:"8px",marginBottom:"unset",fontSize:"16px",fontWeight:400},i?{padding:"1px 4px",background:"rgba(22, 24, 35, 0.06)",borderRadius:"2px",color:"rgba(22, 24, 35, .5)",fontWeight:600}:null]),"label:PPaidPartnership;"),c=["EU","US"],u=function({item:e}){var t;const i=(0,n.Q)(),{isMobile:l,abTestVersion:s,region:u=""}=null!==(t=(0,r.L)((()=>["isMobile","abTestVersion","region"]),[]))&&void 0!==t?t:{},p="v2"===(0,a.x)(s,"bc_label")||c.includes(u);return 2===(null==e?void 0:e.adLabelVersion)?(0,o.jsx)(d,Object.assign({isMobile:l,isGray:p},{children:i("bc_new_disclosure")}),void 0):null}},1160:(e,t,i)=>{i.d(t,{V:()=>n});var o=i(91051);const n=()=>{const e=(0,o.useRef)(-1),[t,i]=(0,o.useState)(!1);return{showing:t,handleItemEnter:(0,o.useCallback)((()=>{e.current=window.setTimeout((()=>{i(!0)}),1e3)}),[]),handleItemLeave:(0,o.useCallback)((()=>{window.clearTimeout(e.current),i(!1)}),[]),handleCardEnter:(0,o.useCallback)((()=>{window.clearTimeout(e.current),i(!0)}),[]),handleCardLeave:(0,o.useCallback)((()=>{e.current=window.setTimeout((()=>{i(!1)}),500)}),[])}}},57354:(e,t,i)=>{i.d(t,{W:()=>m});var o=i(11040),n=i(74820),a=i(39556),r=i(91051),l=i(66089),s=i(8721),d=i(32913),c=i(27918);const u=(0,d.Z)("div",{target:"e4cyjsy0"})((({theme:e,justifyContent:t})=>[(0,c.GI)({theme:e,fontFamily:"Proxima",color:"ConstTextInverse"}),{background:e.colors.BGInverse3,display:"flex",justifyContent:t,alignItems:"center"}]),"label:DivScheduleItemWarn;");function p(e){const t=(0,a.unix)(e).format("YYYY-M-D-H:mm"),[i,n,r,l]=t.split("-");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{children:" "},void 0),(0,o.jsx)("span",{children:i},void 0),(0,o.jsx)("span",{children:"-"},void 0),(0,o.jsx)("span",{children:n},void 0),(0,o.jsx)("span",{children:"-"},void 0),(0,o.jsx)("span",{children:r},void 0),(0,o.jsx)("span",{children:" "},void 0),(0,o.jsx)("span",{children:l},void 0)]},void 0)}const m=(0,r.memo)((function({height:e,fontSize:t,scheduledTime:i,iconSize:a,iconMargin:r,className:d,isTextAlignStart:c=!1}){const{direction:m}=(0,n.u)(),h=(0,s.Q)();return(0,o.jsxs)(u,Object.assign({justifyContent:c?"center":void 0,className:d,style:{fontSize:t,height:e,lineHeight:e}},{children:[(0,o.jsx)(l.Z,{width:a,height:a,style:{["ltr"===m?"marginRight":"marginLeft"]:r}},void 0),h("scheduled_for"),p(i)]}),void 0)}))},62321:(e,t,i)=>{i.d(t,{M:()=>l});var o=i(64047),n=i(73566),a=i(48185),r=i(19630);let l=class extends n.D{constructor(){super(...arguments),this.defaultState={}}setVideoInfo(e,t){var i;const{videoId:o,videoPercent:n,duration:a,currentTime:r}=t,l=Object.assign({},null!==(i=e[o])&&void 0!==i?i:{},{videoPercent:n,duration:a,currentTime:r});e[o]?Object.keys(l).forEach((t=>{e[o][t]=l[t]})):(Object.keys(e).forEach((t=>delete e[t])),e[o]=l)}};(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],l.prototype,"setVideoInfo",null),l=(0,o.__decorate)([(0,r.Y)("SeekBarModule")],l)},70643:(e,t,i)=>{i.d(t,{Z:()=>n,j:()=>a});var o=i(13033);const n=e=>{var t;return-1!==(null!==(t=o.F3.getItem("has_use_seek_bar"))&&void 0!==t?t:[]).indexOf(e)},a=e=>{var t;const i=null!==(t=o.F3.getItem("has_use_seek_bar"))&&void 0!==t?t:[];-1===i.indexOf(e)&&i.push(e),o.F3.setItem("has_use_seek_bar",i)}},56344:(e,t,i)=>{i.d(t,{p:()=>v});var o=i(11040),n=i(74820),a=i(91051),r=i(99122),l=i(89442),s=i(5625),d=i(32913),c=i(27918);const u=(0,d.Z)("div",{target:"e7o5pyu0"})({display:"flex",alignItems:"start",justifyContent:"center",padding:"8px",backgroundColor:"rgba(0, 0, 0, 0.6)"},"label:DivContainer;"),p=(0,d.Z)("div",{target:"e7o5pyu1"})({flex:"0 0 22px",width:22,padding:"4px 0",fontSize:"16px"},"label:DivIconContainer;"),m=(0,d.Z)(p,{target:"e7o5pyu2"})((({theme:{direction:e}})=>({textAlign:(0,c.$K)(e,"start")})),"label:StyledWarningIconContainer;"),h=(0,d.Z)(p,{target:"e7o5pyu3"})((({theme:{direction:e}})=>({textAlign:(0,c.$K)(e,"start")})),"label:StyledArrowIconContainer;"),g=(0,d.Z)("div",{target:"e7o5pyu4"})((({theme:e})=>[(0,c.GI)({theme:e,fontWeight:"semiBold",color:"ConstTextInverse"}),{flex:"0 1 auto",fontSize:"16px",lineHeight:"24px",wordBreak:"break-word",verticalAlign:"text-top",textAlign:(0,c.$K)(e.direction,"start")}]),"label:DivWarnInfoContent;"),v=(0,a.memo)((function({info:{text:e,url:t},needExtraBottom:i=!1}){const{direction:d,colors:{ConstTextInverse:c}}=(0,n.u)(),p=(0,a.useMemo)((()=>"ltr"===d?(0,o.jsx)(r.Z,{fill:c},void 0):(0,o.jsx)(l.Z,{fill:c},void 0)),[c,d]),v=(0,a.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),t&&window.open(t,"_blank","noopener,noreferrer")}),[t]);return(0,o.jsxs)(u,Object.assign({onClick:v,style:{cursor:t?"pointer":"unset",paddingBottom:i?"44px":void 0}},{children:[(0,o.jsx)(m,{children:(0,o.jsx)(s.Z,{fill:c},void 0)},void 0),(0,o.jsx)(g,{children:e},void 0),t&&(0,o.jsx)(h,{children:p},void 0)]}),void 0)}))},91497:(e,t,i)=>{i.d(t,{Y:()=>a});var o=i(2734),n=i(34708);const a=()=>{const{language:e}=(0,o.m7)((0,n.L)((()=>["language"]),[]));return{isRTL:"ar"===e||"ur"===e||"he-IL"===e}}},48382:(e,t,i)=>{i.d(t,{wu:()=>a,AZ:()=>r,SD:()=>l,cl:()=>s,ky:()=>d,z5:()=>c,no:()=>u,qf:()=>p});var o=i(32913),n=(i(77094),i(27918));const a=(0,o.Z)("div",{target:"ehlq8k30"})({position:"relative",padding:"16px 0"},"label:DivContainer;"),r=(0,o.Z)("div",{target:"ehlq8k31"})({display:"flex",flexDirection:"row",alignItems:"center"},"label:DivFlexCenterRow;"),l=(0,o.Z)(r,{target:"ehlq8k32"})({justifyContent:"space-between"},"label:StyledWrapper;"),s=(0,o.Z)("div",{target:"ehlq8k33"})((({theme:e})=>[(0,n.GI)({theme:e,typography:"P3",color:"TextSecondary"}),{display:"flex",flexDirection:"row",marginTop:"16px",boxSizing:"border-box",border:`1px solid ${e.colors.LineSecondary2}`,borderRadius:"2px"}]),"label:DivCopyLinkContainer;"),d=(0,o.Z)("p",{target:"ehlq8k34"})(n.wj,(({theme:e})=>({flex:"1 1 auto",paddingTop:"7px",paddingBottom:"5px",backgroundColor:e.colors.BGInput})),(({theme:{direction:e}})=>(0,n.YJ)({direction:e,paddingStart:"12px",paddingEnd:"0"})),"label:PCopyLinkText;");d.defaultProps=Object.assign(Object.assign({},d.defaultProps),{"data-e2e":"browse-video-link"});const c=(0,o.Z)("button",{target:"ehlq8k36"})((({theme:e})=>[n.Ph,{color:e.colors.TextPrimary,fontWeight:e.fontWeights.bold,flex:"0 0 auto",cursor:"pointer",padding:"7px 18px",":hover":{backgroundColor:e.colors.BGView},":active":{backgroundColor:e.colors.BGInput}}]),"label:ButtonCopyLink;");c.defaultProps=Object.assign(Object.assign({},c.defaultProps),{"data-e2e":"browse-copy"});const u=(0,o.Z)("button",{target:"ehlq8k37"})([n.Ph,{position:"relative",display:"flex",width:"24px",height:"24px",justifyContent:"center",alignItems:"center",borderRadius:"50%",cursor:"pointer",":hover":{backgroundColor:"rgba(22, 24, 35, 0.1)"},":active":{backgroundColor:"rgba(22, 24, 35, 0.1)"}}],"label:ButtonShare;"),p=(0,o.Z)("div",{target:"ehlq8k38"})((({theme:e})=>[(0,n.GI)({theme:e,fontWeight:"semiBold",typography:"P2"}),{width:"280px",padding:"8px 0px",maxHeight:448,overflow:"auto","::-webkit-scrollbar":{width:"6px"},"::-webkit-scrollbar-thumb":{borderRadius:"3px",background:"rgba(0, 0, 0, 0.15)"}}]),"label:DivShareWrapper;");p.defaultProps=Object.assign(Object.assign({},p.defaultProps),{"data-e2e":"feed-share-group"})},38993:(e,t,i)=>{i.d(t,{Q:()=>b});var o=i(11040),n=i(9236),a=i(91051),r=i(76851),l=i(51905),s=i(8721),d=i(52053),c=i(32913),u=i(81634),p=i(27918);const m=(0,c.Z)("button",{target:"ef0ywbl0"})(p.Ph,(({theme:e})=>[(0,p.YJ)({direction:e.direction,end:"26px"}),(0,p.GI)({theme:e,fontFamily:"Proxima",fontWeight:"semiBold",color:"TextPrimary",typography:"P3"})]),{display:"flex",justifyContent:"center",alignItems:"center",height:"20px",cursor:"pointer",":hover":{textDecoration:"underline"}},"label:ButtonDelete;"),h=(0,c.Z)(u.Z,{target:"ef0ywbl1"})((({theme:{direction:e}})=>(0,p.YJ)({direction:e,marginEnd:6})),"label:StyledTrashBin;"),g=(0,c.Z)("p",{target:"ef0ywbl2"})((({theme:e})=>(0,p.GI)({theme:e,typography:"H4",fontWeight:"bold"})),{padding:"36px 32px",textAlign:"center",width:"332px"},"label:PDeleteTitle;"),v=(0,c.Z)("button",{target:"ef0ywbl3"})(p.Ph,(({theme:{colors:e}})=>({width:"100%",height:"48px",fontSize:"16px",lineHeight:"48px",borderTop:`1px solid ${e.LineSecondary}`,cursor:"pointer"})),"label:ButtonConfirm;"),x=(0,c.Z)(v,{target:"ef0ywbl4"})((({theme:{colors:e}})=>({color:e.TextSecondary})),"label:StyledButtonCancel;"),b=function({video:e}){const[t,i]=(0,a.useState)(!1),c=(0,s.Q)(),u=(0,n.qj)(d.O),p=(0,a.useCallback)((()=>{i(!0),l.o.handleScheduleConfirm(e.id)}),[e.id]),b=(0,a.useCallback)((()=>{u.postScheduleDelete(e.id),i(!1)}),[u,e.id]),y=(0,a.useCallback)((()=>{i(!1),l.o.handleScheduleDelete("cancel")}),[]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(m,Object.assign({type:"button",onClick:p},{children:[(0,o.jsx)(h,{width:18.33,height:18.33},void 0),c("delete")]}),void 0),(0,o.jsxs)(r.AR,Object.assign({closeOnBackdropClick:!1,compact:!0,closeOnEsc:!1,isOpen:t,onClose:y},{children:[(0,o.jsx)(g,{children:c("delete_confirm")},void 0),(0,o.jsx)(v,Object.assign({"data-e2e":"video-modal-delete",type:"button",onClick:b},{children:c("delete")}),void 0),(0,o.jsx)(x,Object.assign({"data-e2e":"video-modal-cancel",type:"button",onClick:y},{children:c("cancel_settings")}),void 0)]}),void 0)]},void 0)}},87616:(e,t,i)=>{i.d(t,{C:()=>xe});var o=i(11040),n=i(74820),a=i(91051),r=i(51905),l=i(8721),s=i(84475),d=i(39973),c=i(25615),u=i.n(c),p=i(76851),m=i(25818),h=i(3624),g=i(32913),v=i(73694),x=i(27918);const b=(0,g.Z)("div",{target:"e1rwytmq0"})((({theme:e})=>[(0,x.GI)({theme:e,typography:"H6",fontFamily:"Proxima"}),{position:"relative",userSelect:"none"}]),"label:DivContainer;"),y=(0,g.Z)("div",{target:"e1rwytmq1"})((({theme:{colors:e}})=>({display:"flex",flexDirection:"row",alignItems:"center",padding:"12px",borderRadius:"2px",border:`1px solid ${e.LineSecondary2}`,cursor:"pointer"})),"label:DivSelectionContainer;"),f=(0,g.Z)("p",{target:"e1rwytmq2"})(x.wj,{flex:"1 1 auto"},"label:PSelected;"),_=(0,g.Z)(v.Z,{target:"e1rwytmq3"})({width:24,height:24,flex:"0 0 24px"},"label:StyledChevronDown;"),j=(0,g.Z)("div",{target:"e1rwytmq4"})({position:"fixed",left:0,right:0,top:0,bottom:0},"label:DivSelectMask;"),k=(0,h.F4)({from:{opacity:"0",transform:"scale(0.6, 0.6)"},"70%":{opacity:"1",transform:"scale(1.01, 1.01)"},to:{opacity:"1",transform:"scale(1, 1)",animationTimingFunction:"cubic-bezier(0.215, 0.61, 0.355, 1)"}}),C=(0,g.Z)("ul",{target:"e1rwytmq5"})((({theme:{colors:e}})=>({position:"absolute",left:0,right:0,margin:0,padding:0,listStyle:"none",border:`1px solid ${e.LineSecondary}`,background:e.BGPrimary,boxShadow:`0px 2px 8px ${e.ShadowPrimary}`,animation:`${k} 100ms normal`,transformOrigin:"center top",zIndex:1})),"label:UlOptionsContainer;"),w=(0,g.Z)("li",{target:"e1rwytmq6"})((({theme:{colors:e}})=>({cursor:"pointer",padding:"8px 12px",":hover":{background:e.BGView}})),"label:LiOptionsItem;"),S=(0,g.Z)("p",{target:"e1rwytmq7"})(x.wj,"label:POptionsTitle;"),P=(0,g.Z)("p",{target:"e1rwytmq8"})(x.wj,(({theme:e})=>(0,x.GI)({theme:e,typography:"P4",color:"TextTertiary"})),"label:POptionsDesc;");function T({value:e,options:t,e2eData:i,itemE2eData:n,onChange:r,placeholder:l}){var s,d;const[c,u]=(0,a.useState)(!1),p=t.find((({value:t})=>t===e)),m=(0,a.useCallback)((()=>{u(!0)}),[]),h=(0,a.useCallback)((()=>{u(!1)}),[]),g=(0,a.useCallback)((e=>()=>{null==r||r(e),h()}),[h,r]);return(0,o.jsxs)(b,{children:[(0,o.jsxs)(y,Object.assign({"data-e2e":i,onClick:m},{children:[(0,o.jsx)(f,{children:null!==(d=null!==(s=null==p?void 0:p.title)&&void 0!==s?s:null==p?void 0:p.value)&&void 0!==d?d:l},void 0),(0,o.jsx)(_,{width:24,height:24},void 0)]}),void 0),c&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(j,{onClick:h},void 0),(0,o.jsx)(C,{children:t.map((({value:e,key:t,title:i,desc:a})=>{const r=String(null!=i?i:e);return(0,o.jsxs)(w,Object.assign({"data-e2e":n,title:r,onClick:g(e)},{children:[(0,o.jsx)(S,{children:i},void 0),a&&(0,o.jsx)(P,{children:a},void 0)]}),null!=t?t:String(e))}))},void 0)]},void 0)]},void 0)}var I,D,O=i(33104),R=i(9236),L=i(76967),Z=i(64047),M=i(73566),B=i(48185),F=i(19630),z=i(60595),A=i(93859),E=i(56979),U=i(49584),V=i(20948),$=i(10408);!function(e){e.PrivateAccountPop="private_account_pop",e.PrivateAccountPopClick="private_account_pop_click",e.CookieBannerShow="cookie_banner_show",e.CookieBannerEnterPolicy="enter_cookie_policy",e.ChangeCookieSetting="change_cookie_setting",e.ClickCookiePolicy="click_cookie_policy",e.ClickCookieSettings="click_cookie_settings"}(I||(I={})),function(e){e.ClickBannerAccept="click_banner_accept",e.ClickBannerDecline="click_banner_decline",e.ClickPolicy="click_banner_cookie_policy",e.ClickSettings="click_banner_cookie_settings"}(D||(D={}));var W,G,q=i(90035),N=i(47165),H=i(68254);!function(e){e[e.Show=0]="Show",e[e.CanNotModify=1]="CanNotModify",e[e.Hide=2]="Hide"}(W||(W={})),function(e){e[e.NoRestriction=0]="NoRestriction",e[e.Compliance=1]="Compliance",e[e.FamilyPairing=2]="FamilyPairing",e[e.PrivateAccount=3]="PrivateAccount"}(G||(G={}));let Y=class extends M.D{constructor(e){super(),this.service=e,this.defaultState={isPrivateBannerShowing:!1,videoPrivateSetting:{duet:{show_type:0,res_type:0},stitch:{show_type:0,res_type:0}}}}setIsPrivateBannerShowing(e,t){e.isPrivateBannerShowing=t}handleShowPrivateBanner(e){return e.pipe((0,A.b)((e=>{e&&$.W.event("private_account_pop")})),(0,E.U)((e=>this.getActions().setIsPrivateBannerShowing(e))))}handlePrivateBannerClose(e){return e.pipe((0,A.b)((()=>{var e;e="ok",$.W.event("private_account_pop_click",{result:e})})),(0,U.z)((()=>this.service.postPrivateBannerAck())),(0,A.b)((e=>{(0,q.k)(e.statusCode,[0])})),(0,E.U)((e=>0===e.statusCode?this.getActions().setIsPrivateBannerShowing(!1):this.noop())),(0,N.n)({}))}setVideoPrivateSetting(e,t){e.videoPrivateSetting=t}getVideoPrivateSetting(e){return e.pipe((0,V.M)(this.state$),(0,U.z)((([e,t])=>this.service.getVideoPrivateSetting().pipe((0,E.U)((e=>{var i,o,n,a;const{private_settings:r}=e;return this.getActions().setVideoPrivateSetting({duet:{show_type:null!==(i=null==r?void 0:r.video_privacy.duet.show_type)&&void 0!==i?i:t.videoPrivateSetting.duet.show_type,res_type:null!==(o=null==r?void 0:r.video_privacy.duet.res_type)&&void 0!==o?o:t.videoPrivateSetting.duet.res_type},stitch:{show_type:null!==(n=null==r?void 0:r.video_privacy.stitch.show_type)&&void 0!==n?n:t.videoPrivateSetting.stitch.show_type,res_type:null!==(a=null==r?void 0:r.video_privacy.stitch.res_type)&&void 0!==a?a:t.videoPrivateSetting.stitch.res_type}})}))))),(0,N.n)({}))}};(0,Z.__decorate)([(0,B.lF)(),(0,Z.__metadata)("design:type",Function),(0,Z.__metadata)("design:paramtypes",[Object,Boolean]),(0,Z.__metadata)("design:returntype",void 0)],Y.prototype,"setIsPrivateBannerShowing",null),(0,Z.__decorate)([(0,B.Qm)(),(0,Z.__metadata)("design:type",Function),(0,Z.__metadata)("design:paramtypes",[z.y]),(0,Z.__metadata)("design:returntype",void 0)],Y.prototype,"handleShowPrivateBanner",null),(0,Z.__decorate)([(0,B.Qm)(),(0,Z.__metadata)("design:type",Function),(0,Z.__metadata)("design:paramtypes",[z.y]),(0,Z.__metadata)("design:returntype",void 0)],Y.prototype,"handlePrivateBannerClose",null),(0,Z.__decorate)([(0,B.lF)(),(0,Z.__metadata)("design:type",Function),(0,Z.__metadata)("design:paramtypes",[Object,Object]),(0,Z.__metadata)("design:returntype",void 0)],Y.prototype,"setVideoPrivateSetting",null),(0,Z.__decorate)([(0,B.Qm)(),(0,Z.__metadata)("design:type",Function),(0,Z.__metadata)("design:paramtypes",[z.y]),(0,Z.__metadata)("design:returntype",void 0)],Y.prototype,"getVideoPrivateSetting",null),Y=(0,Z.__decorate)([(0,F.Y)("Compliance"),(0,Z.__metadata)("design:paramtypes",[H.n])],Y);var Q=i(52053);const J=(0,g.Z)("div",{target:"e1i2llgv1"})({padding:"32px",width:"332px"},"label:DivContentWrapper;"),K=(0,g.Z)("h2",{target:"e1i2llgv2"})((({theme:e})=>(0,x.GI)({theme:e,typography:"H4"})),{marginTop:"4px",textAlign:"center"},"label:H2Title;"),X=(0,g.Z)("p",{target:"e1i2llgv3"})((({theme:e})=>(0,x.GI)({theme:e,typography:"P2",fontWeight:"semiBold",fontFamily:"Proxima"})),{marginTop:"24px",marginBottom:"8px"},"label:PDesc;"),ee=(0,g.Z)("div",{target:"e1i2llgv4"})({marginTop:"16px"},"label:DivSwitchGroupContainer;"),te=(0,g.Z)("div",{target:"e1i2llgv5"})({display:"flex",flexDirection:"row",alignItems:"center",height:"40px"},"label:DivSwitchItemContainer;"),ie=(0,g.Z)("span",{target:"e1i2llgv6"})((({theme:e,disabled:t})=>[(0,x.GI)({theme:e,typography:"P2",fontWeight:"semiBold",color:t?"TextQuaternary":"TextPrimary"}),(0,x.YJ)({direction:e.direction,marginEnd:"12px"}),{flex:"1 1 auto"}]),"label:SpanSwitchText;"),oe=(0,g.Z)("p",{target:"e1i2llgv7"})((({theme:e})=>(0,x.GI)({theme:e,fontFamily:"Proxima",typography:"P4",color:"TextQuaternary"})),{marginTop:"4px"},"label:PHint;"),ne=(0,g.Z)("button",{target:"e1i2llgv8"})(x.Ph,(({theme:{colors:e}})=>({width:"100%",height:"48px",fontSize:"16px",lineHeight:"48px",borderTop:`1px solid ${e.LineSecondary}`,cursor:"pointer"})),"label:ButtonSave;"),ae=function(e){const{videoId:t,visible:i,onClose:n=u()}=e,r=(0,l.Q)(),s=function(e){return(0,R.mp)(L.A,{selector:t=>t[e],dependencies:[e]})}(t),d=(0,O.p)(null==s?void 0:s.author),{handleChange:c,optionsList:m,visibilityValue:h}=function({item:e,author:t}){const i=(0,l.Q)(),o=(0,R.qj)(Q.O),{forFriend:n,secret:r,id:s="",adAuthorization:d}=null!=e?e:{},{privateAccount:c}=null!=t?t:{};return{visibilityValue:(0,a.useMemo)((()=>n?"3":r?"2":"1"),[n,r]),optionsList:(0,a.useMemo)((()=>d?[{title:i("who_can_view_public"),desc:i("public_desc"),value:"1"},{title:i("new_video_status"),desc:i("pull_video_expl_available_for_ads"),value:"2"}]:[{title:i(c?"who_can_view_followers":"who_can_view_public"),desc:i(c?"followers_desc_for_private":"public_desc"),value:"1"},{title:i("who_can_view_friends"),desc:i("followers_desc"),value:"3"},{title:i("video_label_private"),desc:i("private_desc"),value:"2"}]),[d,c,i]),handleChange:(0,a.useCallback)((e=>{o.postModifyVisibility({aweme_id:s,type:e})}),[o,s])}}({item:s,author:d}),{comment:g,duet:v,stitch:x,hintTextKey:b}=function({item:e}){const[{isEnableDuet:t,isEnableStitch:i,isShowSafetyHint:o},n]=(0,R.b7)(Y,{selector:e=>({isEnableDuet:0===e.videoPrivateSetting.duet.show_type,isEnableStitch:0===e.videoPrivateSetting.stitch.show_type,isShowSafetyHint:1===e.videoPrivateSetting.duet.res_type||1===e.videoPrivateSetting.stitch.res_type}),dependencies:[]}),r=1===(null==e?void 0:e.duetDisplay)||1===(null==e?void 0:e.stitchDisplay),l=3!==(null==e?void 0:e.itemCommentStatus),s=Boolean(null==e?void 0:e.duetEnabled)&&!r,d=Boolean(null==e?void 0:e.stitchEnabled)&&!r,c=Number(null==e?void 0:e.video.duration)>=61,u=(0,R.qj)(Q.O),p=(0,a.useMemo)((()=>o?"setting_disabled_16":r?"duet_stitch_minor":c?"hint2":"hint1"),[c,o,r]);(0,a.useEffect)((()=>{n.getVideoPrivateSetting()}),[n]);const m=(0,a.useCallback)((t=>{var i;u.postUserSetting({field:"item_comment",aweme_id:null!==(i=null==e?void 0:e.id)&&void 0!==i?i:"",private_setting:t?0:3})}),[null==e?void 0:e.id,u]),h=(0,a.useCallback)((t=>i=>{var o;u.postDuetOrStitchChange({aweme_id:null!==(o=null==e?void 0:e.id)&&void 0!==o?o:"",type:t,enable:i?0:1})}),[null==e?void 0:e.id,u]);return{comment:{checked:l,onChange:m},duet:{checked:s,disabled:c||!t||r,onChange:h("item_duet")},stitch:{checked:d,disabled:c||!i||r,onChange:h("item_stitch")},hintTextKey:p}}({item:s,author:d});return(0,o.jsxs)(p.AR,Object.assign({e2eData:"video-setting-list",compact:!0,isOpen:i,onClose:n},{children:[(0,o.jsxs)(J,{children:[(0,o.jsx)(K,{children:r("privacy_set")},void 0),(0,o.jsx)(X,{children:r("view_access")},void 0),(0,o.jsx)(T,{e2eData:"video-setting-choose",itemE2eData:"video-watch-list",value:h,options:m,onChange:c},void 0),(0,o.jsxs)(ee,{children:[(0,o.jsx)(re,Object.assign({e2eData:"video-setting-comment",text:r("allow_comment")},g),void 0),(0,o.jsx)(re,Object.assign({e2eData:"video-setting-duet",text:r("allow_duet")},v),void 0),(0,o.jsx)(re,Object.assign({e2eData:"video-setting-stitch",text:r("allow_stitch")},x),void 0)]},void 0),(0,o.jsx)(oe,{children:r(b)},void 0)]},void 0),(0,o.jsx)(ne,Object.assign({"data-e2e":"video-setting-down",onClick:e.onClose},{children:r("privacy_settings_done")}),void 0)]}),void 0)},re=function(e){const{disabled:t,checked:i,text:n,e2eData:a}=e;return(0,o.jsxs)(te,{children:[(0,o.jsx)(ie,{children:n},void 0),(0,o.jsx)(m.r,{e2eData:a,checked:i,onChange:e.onChange,disabled:t},void 0)]},void 0)};var le=i(32543);const se=(0,g.Z)("div",{target:"e161jvwg0"})({position:"relative",flex:"0 0 24px",width:"24px",height:"24px"},"label:DivActionContainer;"),de=(0,g.Z)(le.Z,{target:"e161jvwg1"})({width:24,height:24,cursor:"pointer"},"label:StyledEllipsisHorizontal;"),ce=(0,g.Z)("ul",{target:"e161jvwg2"})((({theme:e})=>(0,x.GI)({theme:e,typography:"P2",fontWeight:"semiBold",fontFamily:"Proxima"})),{listStyle:"none",margin:"0",padding:"8px 16px",whiteSpace:"nowrap",minWidth:"200px"},"label:UlPopupContainer;"),ue=(0,g.Z)("li",{target:"e161jvwg3"})((({theme:{colors:e}})=>({position:"relative",padding:"13px",":last-of-type::before":{content:'""',position:"absolute",left:0,top:0,width:"100%",height:"1px",background:e.LineSecondary,transform:"scaleY(0.5)"}})),"label:LiPopupItem;"),pe=(0,g.Z)("button",{target:"e161jvwg4"})(x.Ph,(({theme:{colors:e}})=>({cursor:"pointer",":hover":{color:e.Primary}})),"label:ButtonAction;"),me=(0,g.Z)("p",{target:"e1qpteip0"})((({theme:e})=>(0,x.GI)({theme:e,typography:"H4",fontWeight:"bold"})),{padding:"36px 32px",textAlign:"center",width:"332px"},"label:PDeleteTitle;"),he=(0,g.Z)("button",{target:"e1qpteip1"})(x.Ph,(({theme:{colors:e}})=>({width:"100%",height:"48px",fontSize:"16px",lineHeight:"48px",borderTop:`1px solid ${e.LineSecondary}`,cursor:"pointer"})),"label:ButtonConfirm;"),ge=(0,g.Z)(he,{target:"e1qpteip2"})((({theme:{colors:e}})=>({color:e.TextSecondary})),"label:StyledButtonCancel;"),ve=function(e){const{visible:t,onClose:i=u(),videoId:n}=e,s=(0,l.Q)(),d=(0,R.qj)(Q.O),c=(0,a.useCallback)((()=>{d.postVideoDelete({aweme_id:n,target:n}),null==i||i()}),[d,i,n]),m=(0,a.useCallback)((()=>{r.o.handleVideoDelete("cancel"),null==i||i()}),[i]);return(0,o.jsxs)(p.AR,Object.assign({e2eData:"video-delete-modal",isOpen:t,compact:!0,onClose:i},{children:[(0,o.jsx)(me,{children:s("delete_confirm")},void 0),(0,o.jsx)(he,Object.assign({"data-e2e":"video-modal-delete",type:"button",onClick:c},{children:s("delete")}),void 0),(0,o.jsx)(ge,Object.assign({"data-e2e":"video-modal-cancel",type:"button",onClick:m},{children:s("cancel_settings")}),void 0)]}),void 0)},xe=function({videoId:e}){const{direction:t}=(0,n.u)(),i="ltr"===t?"bottomRight":"bottomLeft",c=(0,l.Q)(),{active:u,handleMouseEnter:p,handleMouseLeave:m}=(0,d.R)(),[h,g]=(0,a.useState)(!1),v=(0,a.useCallback)((()=>{g(!0)}),[]),x=(0,a.useCallback)((()=>{g(!1)}),[]),[b,y]=(0,a.useState)(!1),f=(0,a.useCallback)((()=>{y(!0),r.o.handleClickDeleteVideo({group_id:e})}),[e]),_=(0,a.useCallback)((()=>{y(!1)}),[]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(se,Object.assign({"data-e2e":"video-setting",onMouseEnter:p,onMouseLeave:m},{children:[(0,o.jsx)(de,{},void 0),(0,o.jsx)(s.G,Object.assign({placement:i,active:u,margin:-11,arrowMargin:10},{children:(0,o.jsxs)(ce,{children:[(0,o.jsx)(ue,Object.assign({"data-e2e":"video-privacy-settings"},{children:(0,o.jsx)(pe,Object.assign({onClick:v,type:"button"},{children:c("privacy_set")}),void 0)}),void 0),(0,o.jsx)(ue,Object.assign({"data-e2e":"video-delete"},{children:(0,o.jsx)(pe,Object.assign({onClick:f,type:"button"},{children:c("delete")}),void 0)}),void 0)]},void 0)}),void 0)]}),void 0),(0,o.jsx)(ae,{videoId:e,visible:h,onClose:x},void 0),(0,o.jsx)(ve,{visible:b,onClose:_,videoId:e},void 0)]},void 0)}},93583:(e,t,i)=>{i.d(t,{_:()=>Ie});var o=i(11040),n=i(9236),a=i(91051),r=i(89567),l=i(47393),s=i(58500),d=i(86385),c=i(35468),u=i(17936),p=i(8721),m=i(13964),h=i(48710),g=i(34708);const v=(0,i(80936).ZP)({resolved:{},chunkName:()=>"editor",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!i.m[t]},importAsync:()=>Promise.all([i.e(5932),i.e(4620),i.e(773),i.e(1483),i.e(1189)]).then(i.bind(i,15556)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>15556});var x=i(45802),b=i(32913),y=i(27918);const f=(0,b.Z)("div",{target:"exl80ic0"})((({theme:{colors:e}})=>({width:"100%",height:"100%",display:"flex",flexDirection:"column-reverse",backgroundColor:e.BGPrimary})),"label:DivEmojiSuggestionContainer;"),_=(0,b.Z)("ul",{target:"exl80ic1"})((({theme:{colors:e}})=>({listStyleType:"none",margin:0,padding:0,order:1,flex:"0 0 38px",borderTop:`1px solid ${e.LineSecondary}`,display:"flex",flexDirection:"row"})),"label:UlNavContainer;"),j=(0,b.Z)("div",{target:"exl80ic2"})((({theme:{colors:e}})=>({order:2,flex:"1 1 100%",overflowY:"scroll",scrollbarWidth:"none","::-webkit-scrollbar":{width:4},"::-webkit-scrollbar-track":{marginTop:8},"::-webkit-scrollbar-thumb":{borderRadius:2,backgroundColor:e.LineSecondary},":hover::-webkit-scrollbar-thumb":{backgroundColor:e.TextQuaternary}})),"label:DivPanelContainer;"),k=(0,b.Z)("ul",{target:"exl80ic3"})({listStyleType:"none",margin:0,padding:0,width:"100%",height:"100%",display:"flex",flexWrap:"wrap"},"label:UlPanelList;"),C=(0,b.Z)("li",{target:"exl80ic4"})((({theme:e,theme:{colors:t},isActive:i})=>[(0,y.GI)({theme:e,color:"ConstBGInverse",typography:"H4"}),{listStyleType:"none",flex:"0 0 auto",width:40,height:40,lineHeight:"46px",margin:"5px 6px",cursor:"pointer",textAlign:"center",backgroundColor:i?t.BGInput:t.BGPrimary,borderRadius:8,":hover":{backgroundColor:t.BGInput}}]),"label:LiItem;"),w=(0,a.memo)((function({emojis:e,onSelect:t}){const i=(0,a.useRef)(-1),n=(0,a.useCallback)((e=>{const t=e.target;if("li"===t.nodeName.toLocaleLowerCase()){const e=t.getAttribute("data-index");i.current=e?Number(e):-1}}),[]),r=(0,a.useCallback)((o=>{(0,m.NS)(o);const n=i.current;-1!==n&&t(e[n].emoji)}),[e,t]);return(0,o.jsx)(k,Object.assign({onMouseOver:n,onClick:r},{children:e.map(((e,t)=>(0,o.jsx)(C,Object.assign({"data-index":t,isActive:!1},{children:e.emoji}),e.alias)))}),void 0)})),S=[{name:"basic",data:x.Z,iconIndex:11}],P=(0,a.memo)((function(e){const[t,i]=(0,a.useState)(0),n=(0,a.useCallback)((e=>{(0,m.NS)(e);const t=e.target;if("li"===t.nodeName.toLocaleLowerCase()){const e=t.getAttribute("data-index");i(e?Number(e):0)}}),[]);return(0,o.jsxs)(f,{children:[(0,o.jsx)(_,Object.assign({onClick:n},{children:S.map((({name:e,data:i,iconIndex:n},a)=>(0,o.jsx)(C,Object.assign({"data-index":a,isActive:a===t},{children:i[n].emoji}),e)))}),void 0),(0,o.jsx)(j,Object.assign({"data-e2e":"comment-emoji-group"},{children:(0,o.jsx)(w,{emojis:S[t].data,onSelect:e.onSelect},S[t].name)}),void 0)]},void 0)}));var T=i(67862),I=i(74820),D=i(88671),O=i(53304),R=i(64047),L=i(73566),Z=i(48185),M=i(19630),B=i(82346),F=i(15608),z=i(11348),A=i(60595),E=i(20948),U=i(49584),V=i(53095),$=i(10026),W=i(5549),G=i(35435),q=i(56979),N=i(68854),H=i(47165),Y=i(2734),Q=i(57244),J=i(4206);let K=class{constructor(e){this.fetch=e}fetchAtDefaultList(){return this.fetch.get("/api/at/default/list/",{query:{cursor:0,count:25}})}fetchRecentContactList(){return this.fetch.get("/api/mention/recent/contact/list/",{query:{mention_type:3}})}fetchSearchList(e,t){return this.fetch.get("/api/comment/search/sug/user/",{query:{keyword:e,count:30,mention_type:3,uid_filter_list:t}})}};K=(0,R.__decorate)([(0,Q.G)(),(0,R.__metadata)("design:paramtypes",[J.r])],K);let X=class extends L.D{constructor(e){super(),this.service=e,this.defaultState={keyword:"",loading:!1,isFetchError:!1,defaultResult:{list:[]},searchResult:{list:[],hasMore:!0,uidFilterList:""},activeList:[],activeItem:{index:null,isActivatedByMouse:!1},recentCount:0}}setKeyword(e,t){e.keyword=t}setLoading(e,t){e.loading=t}setFetchError(e,t){e.isFetchError=t,t&&(e.searchResult.hasMore=!1)}setActiveList(e,t){e.activeList=t}setActiveItem(e,t){const{index:i,isActivatedByMouse:o=!1}=t;e.activeItem.index=i,e.activeItem.isActivatedByMouse=o}activePrev(e){const{activeItem:t,activeList:i}=e,{index:o}=t;if(null===o)return;const{length:n}=i;0!==n&&(e.activeItem.index=Math.max(0,o-1),e.activeItem.isActivatedByMouse=!1)}activeNext(e){const{activeItem:t,activeList:i}=e,{index:o}=t;if(null===o)return;const{length:n}=i;0!==n&&(e.activeItem.index=Math.min(o+1,n-1),e.activeItem.isActivatedByMouse=!1)}setDefaultList(e,t){e.defaultResult.list=t,e.activeList=t}setSearchResult(e,t){e.searchResult=t,0===t.list.length?e.activeList=e.defaultResult.list:e.activeList=t.list}setRecentCount(e,t){e.recentCount=t}fetchDefaultResult(e){return e.pipe((0,E.M)(this.state$),(0,U.z)((([e,t])=>t.defaultResult.list.length>0?(0,B.of)(this.getActions().setActiveItem({index:-1}),this.getActions().setKeyword(""),this.getActions().setActiveList(t.defaultResult.list)):(0,F.D)([this.service.fetchRecentContactList(),this.service.fetchAtDefaultList()]).pipe((0,V.z)((([e,t])=>{const{statusCode:i,userList:o=[]}=e,{status_code:n,user_list:a=[],block_results:r=[]}=t;if(0===i||0===n){const e=a.map((e=>(0,Y.yk)(e))).map((e=>(r.some((t=>((e,t)=>{var i,o;if(e.uid===t.id)return t.blockResult=null===(o=null===(i=e.user_blocked_results)||void 0===i?void 0:i[0])||void 0===o?void 0:o.block_type,!0})(t,e))),e)));return(0,B.of)(this.getActions().setRecentCount(o.length),this.getActions().setDefaultList(function(e,t){let i=t;return e.forEach((e=>{i=i.filter((t=>e.id!==t.id))})),[...e,...i]}(o,e)))}return(0,B.of)(this.getActions().setFetchError(!0))})),(0,$.O)(this.getActions().setLoading(!0),this.getActions().setFetchError(!1),this.getActions().setActiveItem({index:null})),(0,W.l)(this.getActions().setLoading(!1),this.getActions().setActiveItem({index:-1}),this.getActions().setKeyword("")),(0,H.n)({})))))}fetchSearchResult(e){return e.pipe((0,E.M)(this.state$),(0,G.w)((([e,t])=>{const{keyword:i,searchResult:{uidFilterList:o,list:n,hasMore:a}}=t,r=e===i,l=r?o:"";return""===e||r&&!a?z.E:this.service.fetchSearchList(e,l).pipe((0,q.U)((e=>{const{statusCode:t,userList:i=[],hasMore:o}=e;if(0===t||403===t||203===t){const e=r?[...n,...i]:i,t=encodeURIComponent(JSON.stringify(e.map((e=>e.id))));return this.getActions().setSearchResult({list:e,hasMore:1===o,uidFilterList:t})}return this.getActions().setFetchError(!0)})),(0,$.O)(this.getActions().setLoading(!r),this.getActions().setFetchError(!1),this.getActions().setActiveItem({index:r?t.activeItem.index:null})),(0,W.l)(this.getActions().setLoading(!1),this.getActions().setKeyword(e),this.getActions().setActiveItem({index:r?t.activeItem.index:-1})),(0,N.K)((()=>(0,B.of)(this.getActions().setLoading(!1),this.getActions().setFetchError(!0)))))})))}};(0,R.__decorate)([(0,Z.lF)(),(0,R.__metadata)("design:type",Function),(0,R.__metadata)("design:paramtypes",[Object,String]),(0,R.__metadata)("design:returntype",void 0)],X.prototype,"setKeyword",null),(0,R.__decorate)([(0,Z.lF)(),(0,R.__metadata)("design:type",Function),(0,R.__metadata)("design:paramtypes",[Object,Boolean]),(0,R.__metadata)("design:returntype",void 0)],X.prototype,"setLoading",null),(0,R.__decorate)([(0,Z.lF)(),(0,R.__metadata)("design:type",Function),(0,R.__metadata)("design:paramtypes",[Object,Boolean]),(0,R.__metadata)("design:returntype",void 0)],X.prototype,"setFetchError",null),(0,R.__decorate)([(0,Z.lF)(),(0,R.__metadata)("design:type",Function),(0,R.__metadata)("design:paramtypes",[Object,Array]),(0,R.__metadata)("design:returntype",void 0)],X.prototype,"setActiveList",null),(0,R.__decorate)([(0,Z.lF)(),(0,R.__metadata)("design:type",Function),(0,R.__metadata)("design:paramtypes",[Object,Object]),(0,R.__metadata)("design:returntype",void 0)],X.prototype,"setActiveItem",null),(0,R.__decorate)([(0,Z.lF)(),(0,R.__metadata)("design:type",Function),(0,R.__metadata)("design:paramtypes",[Object]),(0,R.__metadata)("design:returntype",void 0)],X.prototype,"activePrev",null),(0,R.__decorate)([(0,Z.lF)(),(0,R.__metadata)("design:type",Function),(0,R.__metadata)("design:paramtypes",[Object]),(0,R.__metadata)("design:returntype",void 0)],X.prototype,"activeNext",null),(0,R.__decorate)([(0,Z.lF)(),(0,R.__metadata)("design:type",Function),(0,R.__metadata)("design:paramtypes",[Object,Array]),(0,R.__metadata)("design:returntype",void 0)],X.prototype,"setDefaultList",null),(0,R.__decorate)([(0,Z.lF)(),(0,R.__metadata)("design:type",Function),(0,R.__metadata)("design:paramtypes",[Object,Object]),(0,R.__metadata)("design:returntype",void 0)],X.prototype,"setSearchResult",null),(0,R.__decorate)([(0,Z.lF)(),(0,R.__metadata)("design:type",Function),(0,R.__metadata)("design:paramtypes",[Object,Number]),(0,R.__metadata)("design:returntype",void 0)],X.prototype,"setRecentCount",null),(0,R.__decorate)([(0,Z.Qm)(),(0,R.__metadata)("design:type",Function),(0,R.__metadata)("design:paramtypes",[A.y]),(0,R.__metadata)("design:returntype",void 0)],X.prototype,"fetchDefaultResult",null),(0,R.__decorate)([(0,Z.Qm)(),(0,R.__metadata)("design:type",Function),(0,R.__metadata)("design:paramtypes",[A.y]),(0,R.__metadata)("design:returntype",void 0)],X.prototype,"fetchSearchResult",null),X=(0,R.__decorate)([(0,M.Y)("MentionSuggestionUserModule"),(0,R.__metadata)("design:paramtypes",[K])],X);var ee=i(43683),te=i(13761);const ie=(0,b.Z)("div",{target:"e16bf9xh0"})((({theme:{colors:e}})=>({width:"100%",height:"100%",overflowX:"hidden",overflowY:"scroll",backgroundColor:e.BGPrimary,scrollbarWidth:"none","::-webkit-scrollbar":{width:0}})),"label:DivContainer;"),oe=(0,b.Z)("div",{target:"e16bf9xh1"})({display:"flex",flexDirection:"column",alignItems:"center"},"label:DivNotItemContainer;"),ne=(0,b.Z)("p",{target:"e16bf9xh2"})((({theme:e})=>(0,y.GI)({theme:e,color:"TextTertiary",typography:"H6"})),{flex:"1 1 auto",margin:"18px auto"},"label:PLoadingText;"),ae=(0,b.Z)("p",{target:"e16bf9xh3"})((({theme:e})=>(0,y.GI)({theme:e,color:"TextTertiary",typography:"H5"})),{flex:"1 1 auto",marginTop:106},"label:PErrorText;"),re=(0,b.Z)("p",{target:"e16bf9xh4"})((({theme:e})=>(0,y.GI)({theme:e,color:"Primary",typography:"H6"})),{flex:"1 1 auto",margin:"11px auto",cursor:"pointer"},"label:PRetryText;"),le=(0,b.Z)("div",{target:"e16bf9xh5"})((({theme:{colors:e},isDisabled:t})=>({height:"100%",padding:"4px 0",margin:"0 16px",display:"flex",cursor:t?"default":"pointer",borderBottom:`1px solid ${e.LineSecondary}`})),"label:DivItemContainer;"),se=(0,b.Z)("div",{target:"e16bf9xh6"})((({theme:{colors:e},isActive:t,isDisabled:i})=>({height:48,backgroundColor:t?e.BGView:e.BGPrimary,opacity:i?.34:1})),"label:DivItemBackground;"),de=(0,b.Z)("div",{target:"e16bf9xh7"})([{flex:"1 1 auto",overflow:"hidden"},({theme:{direction:e}})=>(0,y.YJ)({direction:e,marginStart:8})],"label:DivInfoContainer;"),ce=(0,b.Z)("p",{target:"e16bf9xh8"})([{display:"flex",alignItems:"center"}],"label:PMentionInfoLine;"),ue=(0,b.Z)("span",{target:"e16bf9xh9"})((({theme:e})=>(0,y.GI)({theme:e,fontWeight:"semiBold",typography:"P3"})),y.wj,"label:SpanInfoNickname;"),pe=(0,b.Z)("span",{target:"e16bf9xh10"})((({theme:e})=>(0,y.GI)({theme:e,fontWeight:"normal",typography:"P4"})),y.wj,"label:SpanInfoUniqueId;"),me=(0,b.Z)("span",{target:"e16bf9xh11"})({margin:"0px 4px"},"label:SpanInfoDot;"),he=(0,b.Z)("span",{target:"e16bf9xh12"})({fontSize:"10px"},"label:SpanInfoVerify;"),ge=(0,b.Z)("span",{target:"e16bf9xh13"})((({theme:e})=>(0,y.GI)({theme:e,color:"TextTertiary",fontWeight:"semiBold",typography:"P4"})),{verticalAlign:"middle",flexShrink:0},"label:SpanInfoFollowing;"),ve=(0,a.memo)((function({isActive:e,index:t,user:i}){var r;const l=(0,p.Q)(),{user:s}=null!==(r=(0,g.L)((()=>["user"]),[]))&&void 0!==r?r:{},{nickname:d,uniqueId:c,verified:u,relation:m,avatarThumb:h,blockResult:v}=i,x=(0,a.useMemo)((()=>1===m||2===m),[m]),b=1===v||c===(null==s?void 0:s.uniqueId),{setActiveItem:y}=(0,n.qj)(X),f=(0,a.useCallback)((()=>{y({index:t,isActivatedByMouse:!0})}),[y,t]);return(0,o.jsx)(se,Object.assign({"data-e2e":"comment-at-list",isActive:e,isDisabled:b,onMouseEnter:f},{children:(0,o.jsxs)(le,Object.assign({isDisabled:b},{children:[(0,o.jsx)(te.q,{size:40,src:h,style:{flex:"0 0 40px"}},void 0),(0,o.jsxs)(de,{children:[(0,o.jsxs)(ce,{children:[(0,o.jsx)(ue,Object.assign({"data-e2e":"comment-at-nickname"},{children:d}),void 0),u&&(0,o.jsx)(he,{children:(0,o.jsx)(ee.Q,{},void 0)},void 0),x&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(me,{children:"·"},void 0),(0,o.jsx)(ge,{children:l("Following")},void 0)]},void 0)]},void 0),(0,o.jsx)(ce,{children:(0,o.jsx)(pe,Object.assign({"data-e2e":"comment-at-uniqueid"},{children:c}),void 0)},void 0)]},void 0)]}),void 0)}),void 0)}));var xe=i(12820);const be=(0,a.memo)((function({keyword:e="",onSelect:t}){var i;const r=(0,p.Q)(),{colors:l}=(0,I.u)(),{user:d}=null!==(i=(0,g.L)((()=>["user"]),[]))&&void 0!==i?i:{},[{loading:c,isFetchError:u,activeList:h,activeItem:v,recentCount:x},{fetchDefaultResult:b,fetchSearchResult:y}]=(0,n.b7)(X),{index:f}=v,_=(0,a.useRef)(null),j=(0,a.useRef)([]);(0,a.useEffect)((()=>{b()}),[b]),(0,a.useEffect)((()=>{""===e?b():y(e)}),[e,b,y]),(0,a.useEffect)((()=>{const{index:e,isActivatedByMouse:t}=v;t||function(e,t){if(null===t||-1===t||null===e.current)return;const i=48*t,o=48*(t+1),n=e.current.clientHeight,{scrollTop:a}=e.current;i<a?e.current.scrollTop=i:o>n+a&&(e.current.scrollTop=o-n)}(_,e)}),[v]);const k=(0,a.useCallback)((()=>""!==e&&y(e)),[y,e]);(0,O.s)({elemRef:_,onHitBottom:k,bottomThreshold:96});const C=(0,a.useCallback)((t=>{(0,m.NS)(t),""===e?b():y(e)}),[b,y,e]),w=(0,a.useCallback)((e=>{(0,m.NS)(e),null==t||t()}),[t]),S=(0,a.useCallback)((t=>{h.slice(t,t+5).forEach(((i,o)=>{if(j.current[t+o])return;const{blockResult:n,uniqueId:a,id:r,relation:l}=i,c=1===n||a===(null==d?void 0:d.uniqueId);let u="all_user";!e&&t+o<x?u="recent":1===l?u="following":2===l&&(u="friends"),s.y.handleMentionItemShow({to_user_id:r,user_type:u,search_keyword:e,is_valid:c?"0":"1"}),j.current[t+o]=!0}))}),[h,null==d?void 0:d.uniqueId,e,x]),P=(0,D.fB)((e=>{const{scrollTop:t}=e.target,i=Math.floor(t/48);S(i)}),[S],50);return(0,a.useEffect)((()=>{S(0)}),[S]),c?(0,o.jsx)(ie,{children:(0,o.jsxs)(oe,{children:[(0,o.jsx)(xe.$,{size:26,fill:l.TextTertiary,style:{marginTop:80,flex:"1 1 auto"}},void 0),(0,o.jsx)(ne,{children:r("comment_at_search")},void 0)]},void 0)},void 0):u?(0,o.jsx)(ie,{children:(0,o.jsxs)(oe,{children:[(0,o.jsx)(ae,{children:r("comment_at_load")},void 0),(0,o.jsx)(re,Object.assign({onClick:C},{children:r("comment_at_tryagain")}),void 0)]},void 0)},void 0):(0,o.jsx)(ie,Object.assign({ref:_,onClick:w,onScroll:P},{children:h.map(((e,t)=>(0,o.jsx)(ve,{user:e,index:t,isActive:f===t},e.id)))}),void 0)})),ye=(0,b.Z)("div",{target:"e1rzzhjk0"})({display:"flex",flexDirection:"row",alignItems:"flex-end"},"label:DivCommentContainer;"),fe=(0,b.Z)("div",{target:"e1rzzhjk1"})({flex:"1 1 auto"},"label:DivLayoutContainer;"),_e=(0,b.Z)("div",{target:"e1rzzhjk2"})((({theme:{colors:e},isFocus:t})=>({position:"relative",display:"flex",flexDirection:"row",alignItems:"flex-end",backgroundColor:e.BGInput,boxSizing:"border-box",border:"1px solid",borderColor:t?e.LinePrimary:"transparent",borderRadius:8,padding:"0 9px"})),"label:DivInputAreaContainer;");_e.defaultProps=Object.assign(Object.assign({},_e.defaultProps),{"data-e2e":"comment-input"});const je=(0,b.Z)("div",{target:"e1rzzhjk3"})({flex:"1 1 auto",height:"auto",margin:"10px 0"},(({theme:{direction:e}})=>(0,y.YJ)({direction:e,marginEnd:8})),"label:DivInputEditorContainer;");function ke({theme:e,isActive:t=!1}){return[{flex:"0 0 32px",width:32,height:32,padding:5,margin:3,cursor:"pointer",backgroundColor:t?e.colors.ShadowPrimary:"transparent",borderRadius:8,":hover":{backgroundColor:e.colors.ShadowPrimary},svg:{width:"100%",height:"100%"}}]}je.defaultProps=Object.assign(Object.assign({},je.defaultProps),{"data-e2e":"comment-text"});const Ce=(0,b.Z)("div",{target:"e1rzzhjk4"})(ke,"label:DivMentionButton;");Ce.defaultProps=Object.assign(Object.assign({},Ce.defaultProps),{"data-e2e":"comment-at-icon"});const we=(0,b.Z)("div",{target:"e1rzzhjk5"})(ke,"label:DivEmojiButton;");we.defaultProps=Object.assign(Object.assign({},we.defaultProps),{"data-e2e":"comment-emoji-icon"});const Se=(0,b.Z)("div",{target:"e1rzzhjk6"})((({theme:e,isActive:t})=>[(0,y.GI)({theme:e,color:t?"Primary":"TextQuaternary",typography:"H6"}),{cursor:t?"pointer":"default",flex:"0 0 48px",lineHeight:"39px",textAlign:(0,y.$K)(e.direction,"end")},(0,y.YJ)({direction:e.direction,marginEnd:4})]),"label:DivPostButton;");Se.defaultProps=Object.assign(Object.assign({},Se.defaultProps),{"data-e2e":"comment-post"});const Pe=(0,b.Z)("div",{target:"e1rzzhjk7"})((({display:e,theme:{colors:t,direction:i}})=>[{position:"absolute",width:280,height:256,top:-256,borderRadius:8,overflow:"hidden",backgroundColor:t.BGPrimary,boxShadow:`${t.ShadowPrimary} 0px 4px 16px 0px`,display:e?"block":"none"},(0,y.YJ)({direction:i,start:44})]),"label:DivMentionSuggestionContainer;"),Te=(0,b.Z)("div",{target:"e1rzzhjk9"})((({theme:{colors:e,direction:t}})=>[{position:"absolute",width:368,height:300,top:-300,borderRadius:8,overflow:"hidden",backgroundColor:e.BGPrimary,boxShadow:`${e.ShadowPrimary} 0px 4px 16px 0px`,outline:0,zIndex:1},(0,y.YJ)({direction:t,end:12})]),"label:DivEmojiPanelContainer;"),Ie=(0,a.memo)((function({itemId:e,disable:t,teaParams:i,onBlur:x=(()=>{}),onFocus:b=(()=>{})}){var y;const{user:f}=null!==(y=(0,g.L)((()=>["user"]),[]))&&void 0!==y?y:{},[{activeItem:_,activeList:j},{activePrev:k,activeNext:C}]=(0,n.b7)(X,{selector:({activeItem:e,activeList:t})=>({activeItem:e,activeList:t}),dependencies:[]}),{index:w}=_,[S,{publishComment:I,setNeedResetKeyword:D}]=(0,n.b7)(T.p,{selector:e=>e.isInputEmpty,dependencies:[]}),[O,R]=(0,a.useState)(null),[L,Z]=(0,a.useState)(!1),[M,B]=(0,a.useState)(!1),F=(0,a.useRef)(null),z=(0,p.Q)(),[A,E]=(0,a.useState)(!1);(0,a.useEffect)((()=>{E(!0)}),[]);const U=(0,a.useCallback)((e=>{var t;(0,m.NS)(e),null===(t=F.current)||void 0===t||t.handleInsertMentionTrigger(),s.y.handleSearchAt(Object.assign({enter_method:"button"},i))}),[i]),V=(0,a.useCallback)((e=>{"@"===e&&s.y.handleSearchAt(Object.assign({enter_method:"input"},i))}),[i]),$=(0,a.useCallback)((()=>{var e;if(null===O||null===w)return;const t=j[w];t&&(1!==t.blockResult?t.uniqueId!==(null==f?void 0:f.uniqueId)?(null===(e=F.current)||void 0===e||e.handleSelectUser(t),s.y.handleSelectAt(Object.assign(Object.assign({},i),{to_user_id:t.id}))):c.h.open({content:z("no_at_me"),duration:3,widthType:"half"}):c.h.open({content:z("mention_privacy_toast_cant_mention"),duration:3,widthType:"half"}))}),[w,j,O,z,i,f]),W=(0,a.useCallback)((e=>{var t,o,n;null===(t=F.current)||void 0===t||t.handleSelectEmoji(e),Z(!1),s.y.handleEmojiSelect(Object.assign({enter_method:"button",emoji_code:null===(n=e,o=[...n].map((e=>`${e.codePointAt(0)}`)))||void 0===o?void 0:o[0]},i))}),[i]),G=(0,a.useCallback)((e=>{var t;(0,m.NS)(e),Z(!L),R(null),null===(t=F.current)||void 0===t||t.focus()}),[L]),q=(0,a.useCallback)((t=>()=>{var o,n;if(!S){const a=null!==(n=null===(o=F.current)||void 0===o?void 0:o.getTextInfo())&&void 0!==n?n:{inputText:"",textExtra:[]};I(Object.assign(Object.assign({awemeId:e},a),{teaParams:Object.assign({enter_method:t},i)}))}}),[S,e,I,i]),N=(0,a.useCallback)((()=>{B(!0),b()}),[b]),H=(0,a.useCallback)((()=>{B(!1),x(),d.V.handleCloseText({group_id:i.group_id})}),[x,i.group_id]),Y=(0,a.useCallback)((()=>{d.V.handleEnterText({group_id:i.group_id})}),[i.group_id]),Q=(0,h.J)({upHandler:k,downHandler:C,confirmHandler:$});return(0,a.useEffect)((()=>{const e=()=>{L&&Z(!1),D(!0)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[L,D]),(0,o.jsxs)(ye,{children:[(0,o.jsx)(fe,{children:(0,o.jsxs)(_e,Object.assign({isFocus:M,onKeyDown:Q,onFocus:N,onBlur:H,onClick:Y},{children:[(0,o.jsx)(je,{children:A?(0,o.jsx)(v,{ref:F,disable:t,onKeywordChange:R,onPost:q("input"),onInputTrigger:V},void 0):null},void 0),(0,o.jsx)(u.u,Object.assign({overlay:z("comment_tray_at")},{children:(0,o.jsx)(Ce,Object.assign({onClick:U},{children:(0,o.jsx)(r.Z,{},void 0)}),void 0)}),void 0),(0,o.jsx)(u.u,Object.assign({overlay:z("comment_tray_emoji")},{children:(0,o.jsx)(we,Object.assign({isActive:L,onClick:G},{children:(0,o.jsx)(l.Z,{},void 0)}),void 0)}),void 0),null!==O&&!L&&(0,o.jsx)(Pe,Object.assign({"data-e2e":"comment-at-user",display:j.length>0},{children:(0,o.jsx)(be,{keyword:O,onSelect:$},void 0)}),void 0),L&&(0,o.jsx)(Te,Object.assign({"data-e2e":"comment-emoji-list"},{children:(0,o.jsx)(P,{onSelect:W},void 0)}),void 0)]}),void 0)},void 0),(0,o.jsx)(Se,Object.assign({isActive:!S,onClick:q("button")},{children:z("comment_tray_btn")}),void 0)]},void 0)}))},67862:(e,t,i)=>{i.d(t,{p:()=>C});var o=i(64047),n=i(73566),a=i(48185),r=i(19630),l=i(35167),s=i(82346),d=i(60595),c=i(20948),u=i(49584),p=i(93859),m=i(53095),h=i(58500),g=i(35468),v=i(47165),x=i(21396),b=i(19330),y=i(57244),f=i(30626),_=i(4206);let j=class{constructor(e){this.fetch=e}publishRequest(e){return this.fetch.post("/api/comment/publish/",{query:e,baseUrlType:8,headers:{[f.eD]:this.fetch.csrfToken}})}};j=(0,o.__decorate)([(0,y.G)(),(0,o.__metadata)("design:paramtypes",[_.r])],j);const k={nickname:"",replyId:void 0,replyToReplyId:void 0,position:-1};let C=class extends n.D{constructor(e,t,i){super(),this.service=e,this.comment=t,this.t=i,this.defaultState={reply:Object.assign({},k),mentionUserList:[],isInputEmpty:!0,needClearInput:!1,needResetKeyword:!1}}setReply(e,t){e.reply=null===t?Object.assign({},k):t}setMentionUserList(e,t){e.mentionUserList=null===t?[]:t}setIsInputEmpty(e,t){e.isInputEmpty=t}setNeedClearInput(e,t){e.needClearInput=t}setNeedResetKeyword(e,t){e.needResetKeyword=t}publishComment(e){return e.pipe((0,c.M)(this.state$),(0,u.z)((([e,t])=>{const{awemeId:i,inputText:o,textExtra:n,teaParams:a}=e,{reply:{replyId:r,replyToReplyId:l,nickname:d,position:c}}=t,u={aweme_id:i,text:o,reply_id:r,reply_to_reply_id:l,text_extra:JSON.stringify(n)};return this.service.publishRequest(u).pipe((0,p.b)((({status_code:e,comment:t})=>{if(0===e){const e=Boolean(d)?"0"===l?"reply":"reply_to_reply":"original",i=d?this.t("comment_reply_success"):this.t("comment_post_success");g.h.destroy(),g.h.open({content:i,duration:3}),h.y.handlePostComment(Object.assign({comment_category:e,comment_id:t.cid},a))}else 22===e?(g.h.destroy(),g.h.open({content:this.t("comment_banned_toast"),duration:3})):e?(g.h.destroy(),g.h.open({content:this.t("comment_post_failed"),duration:3})):(g.h.destroy(),g.h.open({content:this.t("comment_nointernet_toast"),duration:3}))})),(0,m.z)((({status_code:e,comment:t})=>0===e?d?(0,s.of)(this.getActions().setNeedClearInput(!0),this.comment.getActions().handleReplySuccess({comment:t,position:c})):(0,s.of)(this.getActions().setNeedClearInput(!0),this.comment.getActions().handlePostSuccess(t)):(0,s.of)(this.noop()))),(0,v.n)({}))})))}};(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],C.prototype,"setReply",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],C.prototype,"setMentionUserList",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],C.prototype,"setIsInputEmpty",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],C.prototype,"setNeedClearInput",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],C.prototype,"setNeedResetKeyword",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[d.y]),(0,o.__metadata)("design:returntype",d.y)],C.prototype,"publishComment",null),C=(0,o.__decorate)([(0,r.Y)("CommentInputModule"),(0,o.__param)(2,(0,l.t)(x.s)),(0,o.__metadata)("design:paramtypes",[j,b.x,Function])],C)},20417:(e,t,i)=>{i.d(t,{S:()=>v});var o=i(11040),n=i(91051),a=i(21041),r=i(76851),l=i(8721),s=i(32913),d=i(27918);const c=(0,s.Z)("div",{target:"e19twy0g0"})((({theme:{colors:e}})=>({position:"relative",width:310,height:218,boxSizing:"content-box",borderRadius:8,backgroundColor:e.BGPrimary,textAlign:"center"})),"label:DivLeaveModalContainer;"),u=(0,s.Z)("div",{target:"e19twy0g1"})((({theme:e})=>[(0,d.GI)({theme:e,color:"TextPrimary",typography:"H5"}),{position:"absolute",top:22,left:20,right:20}]),"label:DivTitle;"),p=(0,s.Z)("div",{target:"e19twy0g2"})((({theme:e})=>[(0,d.GI)({theme:e,color:"TextSecondary",typography:"H6"}),{position:"absolute",top:60,left:20,right:20}]),"label:DivSubTitle;"),m=(0,s.Z)("div",{target:"e19twy0g3"})({position:"absolute",top:118,left:20,right:20,height:100},"label:DivButtonContainer;"),h=(0,s.Z)("div",{target:"e19twy0g4"})((({theme:e})=>[(0,d.GI)({theme:e,color:"ConstTextInverse",typography:"H6"}),{height:48,lineHeight:"48px",borderRadius:2,backgroundColor:e.colors.Primary,cursor:"pointer"}]),"label:DivConfirmButton;"),g=(0,s.Z)("div",{target:"e19twy0g5"})((({theme:e})=>[(0,d.GI)({theme:e,color:"TextTertiary",typography:"H6"}),{height:48,lineHeight:"48px",cursor:"pointer",marginTop:2}]),"label:DivCancelButton;"),v=(0,n.memo)((function({needLeaveCheck:e,visible:t,onConfirmLeave:i,onCancelLeave:s}){const d=(0,l.Q)(),v=(0,a.k6)(),x=(0,n.useRef)(null),[b,y]=(0,n.useState)(!1),[f,_]=(0,n.useState)(!1),j=(0,n.useCallback)((()=>{y(!1),_(!0),i()}),[i]),k=(0,n.useCallback)((()=>{y(!1),x.current=null,s()}),[s]),C=(0,n.useCallback)((t=>!(!f&&e&&(y(!0),x.current=t,1))),[f,e]);return(0,n.useEffect)((()=>{const e=x.current;f&&e&&v.push(e)}),[f,v]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.NL,{when:e,message:C},void 0),(0,o.jsx)(r.AR,Object.assign({compact:!0,isOpen:t||b,closeOnBackdropClick:!1},{children:(0,o.jsxs)(c,{children:[(0,o.jsx)(u,{children:d("comment_tray_exit_title")},void 0),(0,o.jsx)(p,{children:d("comment_tray_exit_des")},void 0),(0,o.jsxs)(m,{children:[(0,o.jsx)(h,Object.assign({onClick:j},{children:d("comment_tray_exit_leave")}),void 0),(0,o.jsx)(g,Object.assign({onClick:k},{children:d("comment_tray_exit_stay")}),void 0)]},void 0)]},void 0)}),void 0)]},void 0)}))},15550:(e,t,i)=>{i.d(t,{r:()=>u});var o=i(64047),n=i(73566),a=i(48185),r=i(19630),l=i(25855),s=i.n(l),d=i(40316),c=i.n(d);let u=class extends n.D{constructor(){super(...arguments),this.defaultState={}}setItem(e,t){e[t.cid]=t}setItemDiggState(e,t){e[t.cid]&&(e[t.cid].user_digged=t.digged)}setItemDiggCount(e,t){e[t.cid]&&(e[t.cid].digg_count=t.count)}removeItem(e,t){e[t]=void 0}multiSetCommentItem(e,t){t.forEach((t=>{e[t.cid]=s()({},e[t.cid],t)}))}multiRemoveCommentItem(e,t){return t.forEach((t=>{e[t]=void 0})),e}reduceOrIncreaseCommentCount(e,{cid:t,isReduce:i}){var o,n;if(!e[t])return;const a=Number(null!==(n=null===(o=e[t])||void 0===o?void 0:o.reply_comment_total)&&void 0!==n?n:0);e[t].reply_comment_total=i?a-1:a+1}getProcessedCommentItem(e,t={}){var i;const o=c()(e,"user","reply_comment");return o.user=null!==(i=e.user.unique_id)&&void 0!==i?i:"",!e.reply_comment||t.ignoreReply?[o]:[o,...e.reply_comment.reduce(((e,t)=>(this.getProcessedCommentItem(t).forEach((t=>{e.push(t)})),e)),[])]}};(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"setItem",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"setItemDiggState",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"setItemDiggCount",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,String]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"removeItem",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Array]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"multiSetCommentItem",null),(0,o.__decorate)([(0,a.j)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Array]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"multiRemoveCommentItem",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"reduceOrIncreaseCommentCount",null),u=(0,o.__decorate)([(0,r.Y)("CommentItem")],u)},97446:(e,t,i)=>{i.d(t,{$:()=>qe});var o=i(11040),n=i(9236),a=i(91051),r=i(21041),l=i(2734),s=i(19330),d=i(30074),c=i(8721),u=i(90035),p=i(15550),m=i(58500),h=i(43683),g=i(35468),v=i(13761),x=i(66958),b=i(16454),y=i(88228),f=i(85404),_=i(47127),j=i(22509),k=i(1160),C=i(84785),w=i(34708),S=i(24878),P=i(76967),T=i(67862),I=i(74820),D=i(76851),O=i(18752),R=i(81634),L=i(13964),Z=i(84475),M=i(39973),B=i(16494),F=i(56187),z=i(38128),A=i(32913),E=i(27918);const U=(0,A.Z)("div",{target:"ezxoskx0"})((({theme:e})=>(0,E.GI)({theme:e,typography:"P4",color:"TextTertiary"})),{width:"20px",display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer"},"label:DivLikeWrapper;"),V=(0,A.Z)(U,{target:"ezxoskx1"})((({theme:e})=>(0,E.YJ)({direction:e.direction,marginStart:"24px"})),{width:"unset",height:"20px",display:"inline-flex",flexDirection:"row",alignItems:"center",cursor:"pointer",verticalAlign:"bottom"},"label:StyledLikeWrapper;"),$=(0,A.Z)("span",{target:"ezxoskx2"})((({theme:e})=>(0,E.GI)({theme:e,typography:"P4"})),(({theme:e})=>(0,E.YJ)({direction:e.direction,marginStart:"4px"})),"label:SpanCount;");$.defaultProps=Object.assign(Object.assign({},$.defaultProps),{"data-e2e":"comment-like-count"});const W=(0,a.memo)((function(e){const{count:t,liked:i}=e,{colors:n}=(0,I.u)(),a=i?(0,o.jsx)(F.Z,{width:20,height:20,fill:n.Primary},void 0):(0,o.jsx)(z.Z,{width:20,height:20},void 0);return(0,o.jsxs)(U,Object.assign({onClick:e.onClick},{children:[(0,o.jsx)("div",Object.assign({"data-e2e":"comment-like-icon"},{children:a}),void 0),(0,o.jsx)($,Object.assign({style:{marginLeft:0,marginRight:0}},{children:(0,l.BT)(t)}),void 0)]}),void 0)})),G=(0,a.memo)((function(e){const{count:t,liked:i}=e,{colors:n}=(0,I.u)(),a=i?(0,o.jsx)(F.Z,{width:20,height:20,fill:n.Primary},void 0):(0,o.jsx)(z.Z,{width:20,fill:n.ConstBGInverse,height:20},void 0);return(0,o.jsxs)(V,Object.assign({onClick:e.onClick},{children:[a,(0,o.jsx)($,Object.assign({style:{color:n.ConstBGInverse,fontSize:"14px"}},{children:(0,l.BT)(t)}),void 0)]}),void 0)}));var q=i(32543);const N=(0,A.Z)("div",{target:"esns4rh0"})((({theme:{direction:e}})=>[(0,E.YJ)({direction:e,marginStart:"18px",paddingEnd:"2px"}),{width:"24px",flex:"0 0 24px",paddingTop:"24px",display:"flex",flexDirection:"column",alignItems:"center"}]),"label:DivActionContainer;"),H=(0,A.Z)("div",{target:"esns4rh1"})({position:"relative",display:"none"},"label:DivMoreContainer;"),Y=(0,A.Z)(q.Z,{target:"esns4rh2"})({width:"24px",height:"24px",cursor:"pointer",display:"block"},"label:StyledMoreIcon;");Y.defaultProps=Object.assign(Object.assign({},Y.defaultProps),{"data-e2e":"comment-more-icon"});const Q=(0,A.Z)("div",{target:"esns4rh3"})((({theme:e})=>(0,E.GI)({theme:e,typography:"P2",fontWeight:"bold",fontFamily:"Proxima"})),{padding:"8px 16px",minWidth:"200px"},"label:DivPopupContainer;"),J=(0,A.Z)("p",{target:"esns4rh4"})((({theme:{colors:e}})=>({display:"flex",alignItems:"center",padding:"12px 0",whiteSpace:"nowrap",cursor:"pointer","&:not(:last-of-type)":{borderBottom:`1px solid ${e.LineSecondary}`},":hover":{color:e.Primary}})),"label:PActionItem;"),K=(0,A.Z)("span",{target:"esns4rh5"})((({theme:{direction:e}})=>(0,E.YJ)({direction:e,marginStart:"12px"})),"label:SpanActionText;"),X=(0,A.Z)("div",{target:"esns4rh6"})((({theme:e})=>(0,E.GI)({theme:e,typography:"H4",fontFamily:"Sofia",fontWeight:"bold"})),{padding:"28px 24px",textAlign:"center"},"label:DivModalContentContainer;"),ee=(0,A.Z)("div",{target:"esns4rh7"})({display:"flex",flexDirection:"column"},"label:DivButtonContainer;"),te=(0,A.Z)("button",{target:"esns4rh8"})(E.Ph,(({primary:e,theme:t})=>[(0,E.GI)({theme:t,typography:"H6",color:e?"TextPrimary":"TextTertiary",fontWeight:e?"semiBold":"normal"}),{height:"48px",lineHeight:"48px",cursor:"pointer",":first-of-type":{"::before":{content:'""',width:"100%",height:"1px",display:"block",background:t.colors.LineSecondary,transform:"scaleY(0,5)"},"::after":{content:'""',width:"100%",height:"1px",display:"block",background:t.colors.LineSecondary,transform:"scaleY(0,5)"}}}]),"label:ButtonAction;"),ie=function(e){const{itemId:t,cid:i,count:r,liked:l,onDelete:s,isShowReport:d,isShowDelete:u,inDetailPage:m=!1}=e,h=(0,c.Q)(),{direction:g}=(0,I.u)(),{active:v,handleMouseEnter:x,handleMouseLeave:b}=(0,M.R)(),y=function({itemId:e,cid:t,onShow:i}){var o;const a=(0,n.mp)(C.G,{selector:e=>e.lang,dependencies:[]}),r=(0,n.mp)(P.A,{selector:t=>{var i,o;return null!==(o=null===(i=t[e])||void 0===i?void 0:i.author)&&void 0!==o?o:""},dependencies:[e]}),l=(0,n.mp)(p.r,{dependencies:[t],selector:e=>e[t]}),s=(0,n.mp)(S.z,{dependencies:[null==l?void 0:l.user],selector:e=>{var t,i;return null===(i=e.users[null!==(t=null==l?void 0:l.user)&&void 0!==t?t:""])||void 0===i?void 0:i.secUid}}),d=(0,n.mp)(P.A,{selector:t=>t[e],dependencies:[e]}),c=(0,n.mp)(S.z,{selector:e=>{var t;return e.users[null!==(t=null==d?void 0:d.author)&&void 0!==t?t:""]},dependencies:[null==d?void 0:d.author]}),{handleShowReport:u}=(0,B.Q)({onShow:i,reportTarget:{lang:a,report_type:"comment",comment_with_emoji:/\[(\w+)\]/g.test(null!==(o=null==l?void 0:l.text)&&void 0!==o?o:"")?1:0,object_id:t,owner_id:null!=s?s:"",object_owner_id:null!=s?s:"",video_owner_id:r,video_id:e,video_owner:c}});return u}({itemId:t,cid:i,onShow:L.NS}),[f,_]=(0,a.useState)(!1),j=(0,a.useCallback)((()=>{_(!0)}),[]),k=(0,a.useCallback)((()=>{s(),_(!1)}),[s]),w=(0,a.useCallback)((()=>{_(!1)}),[]),T="ltr"===g?"bottomRight":"bottomLeft";return(0,o.jsxs)(N,{children:[(0,o.jsxs)(H,Object.assign({onMouseEnter:x,onMouseLeave:b},{children:[(0,o.jsx)("div",Object.assign({"data-e2e":"comment-more-icon"},{children:(0,o.jsx)(Y,{},void 0)}),void 0),(0,o.jsx)(Z.G,Object.assign({active:v,placement:T,margin:-6},{children:(0,o.jsxs)(Q,{children:[d&&(0,o.jsxs)(J,Object.assign({onClick:y,"data-e2e":"comment-report"},{children:[(0,o.jsx)(O.Z,{width:24,height:24},void 0),(0,o.jsx)(K,{children:h("Report")},void 0)]}),void 0),u&&(0,o.jsxs)(J,Object.assign({"data-e2e":"comment-delete",onClick:j},{children:[(0,o.jsx)(R.Z,{width:24,height:24},void 0),(0,o.jsx)(K,{children:h("comment_delete_btn")},void 0)]}),void 0)]},void 0)}),void 0)]}),void 0),m?null:(0,o.jsx)(W,{count:r,liked:l,onClick:e.onLike},void 0),u&&(0,o.jsx)(D.AR,Object.assign({compact:!0,isOpen:f,closeOnEsc:!1,closeOnBackdropClick:!1},{children:(0,o.jsxs)("div",Object.assign({"data-e2e":"comment-delete-modal",style:{width:310}},{children:[(0,o.jsx)(X,{children:h("comment_delete_des")},void 0),(0,o.jsxs)(ee,{children:[(0,o.jsx)(te,Object.assign({"data-e2e":"comment-modal-delete",primary:!0,onClick:k},{children:h("comment_delete_confirm")}),void 0),(0,o.jsx)(te,Object.assign({"data-e2e":"comment-modal-cancel",onClick:w},{children:h("comment_delete_cancel")}),void 0)]},void 0)]}),void 0)}),void 0)]},void 0)};var oe=i(3624),ne=i(11838);const ae={boxShadow:"0 2px 12px rgb(0 0 0 / 12%)",padding:"8px 16px",margin:"-8px -16px 8px",borderRadius:"8px"},re={boxShadow:"none",padding:"0",margin:"0 0 16px"},le=(0,oe.F4)({"0%":re,"10%":ae,"90%":ae,"100%":re}),se=(0,A.Z)("div",{target:"e1g2efjf0"})({display:"flex",flexDirection:"row",alignItems:"flex-start",marginBottom:"16px",position:"relative",":hover":{[`${H}`]:{display:"block"},[`${N}`]:{paddingTop:"0"}}},(({highlighted:e})=>e?{animationName:le,animationDuration:"3s"}:null),"label:DivCommentContentContainer;"),de=(0,A.Z)("div",{target:"e1g2efjf1"})({flex:"1 1 auto"},"label:DivContentContainer;"),ce=(0,A.Z)("span",{target:"e1g2efjf2"})((({theme:{colors:e},isCreator:t})=>({fontSize:"16px",color:t?e.Primary:e.TextTertiary})),"label:SpanIdentity;"),ue=(0,A.Z)("span",{target:"e1g2efjf3"})("label:SpanUserNameText;"),pe=(0,A.Z)(ne.D,{target:"e1g2efjf4"})((({theme:e})=>(0,E.GI)({theme:e,typography:"P1",fontFamily:"Sofia",fontWeight:"bold"})),E.gi,{[`:hover ${ue}`]:{textDecoration:"underline"}},"label:StyledUserLinkName;"),me=(0,A.Z)(ne.D,{target:"e1g2efjf5"})((({theme:{direction:e}})=>[{":hover":{[`~ ${de} ${pe} ${ue}`]:{textDecoration:"underline"}}},(0,E.YJ)({direction:e,marginEnd:"12px"})]),"label:StyledUserLinkAvatar;"),he=(0,A.Z)("p",{target:"e1g2efjf6"})((({theme:e})=>(0,E.GI)({theme:e,typography:"P2"})),{whiteSpace:"pre-line",wordBreak:"break-word",marginBottom:"6px"},"label:PCommentText;"),ge=(0,A.Z)("p",{target:"e1g2efjf8"})((({theme:e})=>(0,E.GI)({theme:e,typography:"P3",color:"TextTertiary"})),"label:PCommentSubContent;"),ve=(0,A.Z)("span",{target:"e1g2efjf9"})((({inDetailPage:e=!1,theme:{colors:t}})=>({cursor:"pointer",color:e?t.ConstBGInverse:t.TextTertiary})),(({theme:e,inDetailPage:t=!1})=>(0,E.GI)({theme:e,fontWeight:t?"semiBold":"normal"})),(({theme:{direction:e}})=>(0,E.YJ)({direction:e,marginStart:24})),"label:SpanReplyButton;"),xe=(0,A.Z)(ne.D,{target:"e1g2efjf10"})((({theme:{colors:e}})=>({display:"inline-block",direction:"ltr",color:e.Primary,cursor:"pointer",":hover":{color:e.Primary},"&:-webkit-any-link":{color:e.Primary}})),"label:StyledUserLinkContent;");var be=i(48036);const ye=(0,A.Z)(he,{target:"exi6j8f0"})((({theme:e})=>(0,E.GI)({theme:e,typography:"P3"})),"label:StyledPCommentTextForSwiper;"),fe=(0,a.memo)((e=>{const{isInVideoFeedRedesign:t}=(0,be.y7)(),i=t?ye:he;return(0,o.jsx)(i,Object.assign({},e),void 0)}));var _e;!function(e){e[e.PlainText=0]="PlainText",e[e.User=1]="User"}(_e||(_e={}));const je=(0,a.memo)((function({commentItem:e,e2eTag:t,onLinkClick:i}){const{text:n,text_extra:r}=e,l=((0,c.Q)(),(0,a.useMemo)((()=>function(e,t){if(!t||0===t.length)return[{type:0,text:e}];const i=[];let o=0;return t.forEach((({start:t,end:n,sec_uid:a,user_id:r})=>{o!==t&&i.push({type:0,text:e.substring(o,t)}),i.push({type:1,text:e.substring(t,n),uid:r,secUid:a}),o=n})),i.push({type:0,text:e.substring(o,e.length)}),i}(n,r)),[n,r]));return(0,o.jsxs)(fe,Object.assign({"data-e2e":t},{children:["",l.map((({text:e,type:t,uid:n,secUid:a},r)=>0===t?(0,o.jsx)("span",{children:e},r):1===t?(0,o.jsx)(xe,Object.assign({uniqueId:null!=a?a:"",secUid:a,isInBrowserMode:!0,onLinkClick:i,teaParams:{to_user_id:null!=n?n:"",enter_method:"comment"}},{children:e}),r):null))]}),void 0)}));var ke;!function(e){e[e.Level1=1]="Level1",e[e.Level2=2]="Level2"}(ke||(ke={}));const Ce={1:40,2:24};var we;!function(e){e[e.Creator=1]="Creator",e[e.Following=2]="Following",e[e.Friends=8]="Friends"}(we||(we={}));const Se={1:"creator",2:"following_acc",8:"friends_acc"},Pe={1:"comment-creator",2:"comment-following",8:"comment-friends"},Te=(0,a.memo)((function({parentCid:e,item:t,level:i,disableReply:l,index:d,subIndex:c,teaParams:I,onLinkClick:D,inDetailPage:O=!1}){var R;const{t:L,timeTranslator:Z}=(0,f.e)(),M=(0,n.mp)(p.r,{selector:e=>e[t.cid],dependencies:[t.cid]}),B=(0,n.mp)(S.z,{selector:e=>{var t;return e.users[null!==(t=null==M?void 0:M.user)&&void 0!==t?t:""]},dependencies:[null==M?void 0:M.user]}),{loginUserId:F,loginUserUid:z}=(0,n.mp)(C.G,{selector:e=>{var t,i,o,n;return{loginUserId:null===(i=null===(t=e.appContext)||void 0===t?void 0:t.user)||void 0===i?void 0:i.uniqueId,loginUserUid:null===(n=null===(o=e.appContext)||void 0===o?void 0:o.user)||void 0===n?void 0:n.uid}},dependencies:[]}),{videoAuthorId:A,teaAuthorId:E,videoAuthorSecId:U}=(0,n.mp)(P.A,{selector:e=>{var t,i,o,n,a,r,l;return{videoAuthorId:null===(i=e[null!==(t=null==M?void 0:M.aweme_id)&&void 0!==t?t:""])||void 0===i?void 0:i.author,teaAuthorId:null!==(a=null===(n=e[null!==(o=null==M?void 0:M.aweme_id)&&void 0!==o?o:""])||void 0===n?void 0:n.authorId)&&void 0!==a?a:"",videoAuthorSecId:null===(l=e[null!==(r=null==M?void 0:M.aweme_id)&&void 0!==r?r:""])||void 0===l?void 0:l.authorSecId}},dependencies:[]}),V=(0,n.qj)(s.x),{setReply:$}=(0,n.qj)(T.p),{showing:W,handleCardEnter:q,handleCardLeave:N,handleItemEnter:H,handleItemLeave:Y}=(0,k.V)(),Q=(0,a.useMemo)((()=>Ce[i]),[i]),J=(0,a.useCallback)((()=>{if(!M)return;const{aweme_id:e,cid:t}=M;V.handleCommentLike({itemId:e,cid:t,teaAuthorId:E})}),[V,M,E]),K=(0,_.X)({action:J,modalConfig:{query:{enter_method:"click_like_comment"}}}),{region:X=""}=null!==(R=(0,w.L)((()=>["region"]),[]))&&void 0!==R?R:{},ee=(0,a.useCallback)((()=>{if(!M)return;const{aweme_id:t,cid:i}=M;V.handleCommentDelete({itemId:t,cid:i,parentCid:e,index:d,subIndex:c})}),[V,M,d,c,e]),te=(0,a.useCallback)((()=>{const{nickname:e=""}=null!=B?B:{},{cid:t="",reply_id:o=""}=null!=M?M:{};$({nickname:e,replyId:1===i?t:o,replyToReplyId:1===i?"0":t,position:d})}),[B,M,$,i,d]),oe=(0,_.X)({action:te,modalConfig:{query:{enter_method:"click_reply_comment"}}}),ne=(0,a.useCallback)((e=>{const t=b.S.includes(X);if(!z||!t||!M)return;const{cid:i,aweme_id:o,text:n}=M;e.stopPropagation();const a=(0,x.fH)({uniqueId:null!=A?A:"",secUid:null!=U?U:"",videoId:o}),r=(0,y.n)(i);if(!r)return;const l=`${window.location.host}${a}?cid=${r}`,s=document.createElement("input");s.style.fontSize="16px",document.body.appendChild(s),s.value=l,s.select(),s.setSelectionRange(0,l.length),document.execCommand&&document.execCommand("copy"),s.remove(),g.h.open({content:L("WebApp_comment_copyurl_id"),duration:1,style:{width:"560px"}}),m.y.handleCopyCommentUrl({copy:i,comment:n,group_id:o,user_id:z})}),[X,z,A,U,M,L]),ae=(0,a.useMemo)((()=>{var e;return Object.assign(Object.assign({},I),{to_user_id:null!==(e=null==B?void 0:B.id)&&void 0!==e?e:"",enter_method:"comment"})}),[null==B?void 0:B.id,I]),{state:re}=(0,r.TH)(),le=(null==re?void 0:re.cid)===t.cid;if(!M||!B)return(0,u.G)(["commentItem","user"]);const{avatarThumb:he,nickname:xe,verified:be,uniqueId:ye,secUid:fe}=B,{label_type:_e,create_time:ke,aweme_id:we,cid:Te,digg_count:Ie,user_digged:De}=M,Oe=Z(1e3*Number(ke)),Re=Boolean(F)&&A===F,Le=Boolean(F)&&ye===F,Ze=!Le,Me=Re||Le;return(0,o.jsxs)(se,Object.assign({id:t.cid,highlighted:le},{children:[(0,o.jsx)(me,Object.assign({style:{flex:`0 0 ${Q}px`},uniqueId:ye,secUid:fe,onMouseEnter:H,onMouseLeave:Y,isInBrowserMode:!0,teaParams:ae,"data-e2e":`comment-avatar-${i}`,onLinkClick:D},{children:(0,o.jsx)(v.q,{size:Q,src:he},void 0)}),void 0),(0,o.jsxs)(de,{children:[(0,o.jsxs)(pe,Object.assign({uniqueId:ye,secUid:fe,onMouseEnter:H,onMouseLeave:Y,isInBrowserMode:!0,teaParams:ae,onLinkClick:D},{children:[(0,o.jsxs)(ue,Object.assign({"data-e2e":`comment-username-${i}`},{children:[xe," ",be&&(0,o.jsx)(h.Q,{"data-e2e":`comment-bluev-${i}`},void 0)]}),void 0),_e&&Boolean(Se[_e])&&(0,o.jsxs)(o.Fragment,{children:["·"," ",(0,o.jsx)(ce,Object.assign({isCreator:1===_e,"data-e2e":`${Pe[_e]}-${i}`},{children:L(Se[_e])}),void 0)]},void 0)]}),void 0),(0,o.jsx)(je,{onLinkClick:D,commentItem:M,e2eTag:`comment-level-${i}`},void 0),(0,o.jsxs)(ge,{children:[(0,o.jsx)("span",Object.assign({"data-e2e":`comment-time-${i}`,onClick:ne},{children:Oe}),void 0),O?(0,o.jsx)(G,{count:Ie,liked:Boolean(De),onClick:K},void 0):null,!l&&(0,o.jsx)(ve,Object.assign({inDetailPage:O,onClick:oe,"data-e2e":`comment-reply-${i}`},{children:L("comment_reply_btn")}),void 0)]},void 0)]},void 0),(0,o.jsx)(ie,{itemId:we,cid:Te,inDetailPage:O,count:Ie,liked:Boolean(De),onLike:K,onDelete:ee,isShowDelete:Me,isShowReport:Ze},void 0),W&&(0,o.jsx)(j.C,{uniqueId:ye,onMouseEnter:q,onMouseLeave:N},void 0)]}),void 0)}));var Ie=i(19761);const De=(0,A.Z)("div",{target:"eo72wou0"})({marginBottom:"16px"},"label:DivCommentItemContainer;"),Oe=(0,A.Z)("div",{target:"eo72wou1"})((({theme:{direction:e}})=>(0,E.YJ)({direction:e,paddingStart:52})),"label:DivReplyContainer;"),Re=(0,A.Z)("div",{target:"eo72wou2"})({display:"flex",flexDirection:"row",justifyContent:"space-between",position:"relative"},(({isUnfold:e,hasMore:t,theme:{direction:i,colors:o}})=>e?[t?(0,E.YJ)({direction:i,paddingStart:"52px"}):null,{"::before":Object.assign({content:'""',position:"absolute",top:"50%",width:"36px",height:"1px",background:o.LineSecondary,transform:"scaleY(0.5)"},(0,E.YJ)({direction:i,start:"0"}))}]:null),"label:DivReplyActionContainer;"),Le=(0,A.Z)(Ie.Z,{target:"eo72wou3"})((({reversed:e,theme:{direction:t}})=>[(0,E.YJ)({direction:t,marginStart:"6px"}),{width:"14px",height:"14px",verticalAlign:"middle",transform:e?"rotate(180deg)":"none"}]),"label:StyledChevronDownFill;"),Ze=(0,A.Z)("p",{target:"eo72wou4"})((({theme:e})=>(0,E.GI)({theme:e,color:"TextTertiary",typography:"P3",fontWeight:"semiBold"})),{cursor:"pointer",":hover":{textDecoration:"underline"}},"label:PReplyActionText;"),Me=(0,a.memo)((function({item:e,disableReply:t,index:i,onHideReply:r,teaParams:l,onLinkClick:m,inDetailPage:h=!1}){var g,v;const x=(0,c.Q)(),b=(0,n.qj)(s.x),y=(0,n.mp)(p.r,{selector:t=>t[e.cid],dependencies:[e.cid]}),f=(0,a.useCallback)((()=>{y&&b.handleShowMoreReply({itemId:y.aweme_id,cid:y.cid})}),[b,y]),_=(0,a.useRef)(null),j=(0,a.useCallback)((()=>{var e,t;y&&(null==r||r(null!==(t=null===(e=_.current)||void 0===e?void 0:e.scrollHeight)&&void 0!==t?t:0),b.handleCollapseReply({itemId:y.aweme_id,cid:y.cid}))}),[b,y,r]),k=(0,a.useMemo)((()=>{var t,i,n,a,r,l;if(!y)return null;if(null===(t=e.replyCache)||void 0===t?void 0:t.loading)return(0,o.jsx)(Re,{children:(0,o.jsx)(d.g,{center:!0,size:"small"},void 0)},void 0);const s=null!==(n=null===(i=e.reply_comment)||void 0===i?void 0:i.length)&&void 0!==n?n:0,c=Number(null!==(a=y.reply_comment_total)&&void 0!==a?a:0)-s;if(!c)return null;if(!e.replyCache||!(null===(r=e.reply_comment)||void 0===r?void 0:r.length))return(0,o.jsx)(Re,{children:(0,o.jsxs)(Ze,Object.assign({onClick:f,"data-e2e":"view-more-1"},{children:[x("view_more_replies",{num:c}),(0,o.jsx)(Le,{},void 0)]}),void 0)},void 0);const u=e.replyCache.hasMore||e.replyCache.comments.length>e.reply_comment.length;return Number(null===(l=e.reply_comment)||void 0===l?void 0:l.length)>0?(0,o.jsxs)(Re,Object.assign({isUnfold:!0,hasMore:u},{children:[(0,o.jsx)(Ze,Object.assign({onClick:f,"data-e2e":"view-more-2"},{children:Boolean(u)&&(0,o.jsxs)(o.Fragment,{children:[x("view_more_comm"),(0,o.jsx)(Le,{},void 0)]},void 0)}),void 0),(0,o.jsxs)(Ze,Object.assign({onClick:j,"data-e2e":"comment-hide"},{children:[x("hide"),(0,o.jsx)(Le,{reversed:!0},void 0)]}),void 0)]}),void 0):null}),[j,f,y,e.replyCache,null===(g=e.reply_comment)||void 0===g?void 0:g.length,x]);return y?(0,o.jsxs)(De,{children:[(0,o.jsx)(Te,{inDetailPage:h,item:e,disableReply:t,index:i,level:1,teaParams:l,onLinkClick:m},void 0),Boolean(y.reply_comment_total)&&(0,o.jsxs)(Oe,Object.assign({ref:_},{children:[null===(v=e.reply_comment)||void 0===v?void 0:v.map(((n,a)=>(0,o.jsx)(Te,{parentCid:e.cid,item:n,disableReply:t,index:i,subIndex:a,level:2,teaParams:l,onLinkClick:m,inDetailPage:h},n.cid))),k]}),void 0)]},void 0):(0,u.G)(["item"])})),Be=(0,oe.F4)({"0%":{backgroundPositionX:"200%"},"100%":{backgroundPositionX:"-150%"}}),Fe=(0,A.Z)("div",{target:"eht1nyc0"})({width:"100%",marginTop:"16px",display:"flex",flexDirection:"column"},"label:DivCommentItemSkeletonContainer;"),ze=(0,A.Z)("div",{target:"eht1nyc1"})({width:"100%",marginBottom:"24px",display:"flex",alignItems:"flex-start"},"label:DivCommentItemSkeleton;"),Ae=(0,A.Z)("div",{target:"eht1nyc2"})((({theme:e})=>({width:"40px",height:"40px",borderRadius:"100px",backgroundColor:e.colors.BGPlaceholderDefault,flexShrink:0,backgroundImage:"linear-gradient(90deg, rgba(22, 24, 35, 0) 0%, rgba(22, 24, 35, .04) 50%, rgba(22, 24, 35, 0) 100%)",backgroundSize:"200% 100%",backgroundRepeat:"no-repeat",animation:`${Be} cubic-bezier(0, 0, 1, 1) 1.5s infinite`})),"label:DivCommentItemSkeletonAvatar;"),Ee=(0,A.Z)("div",{target:"eht1nyc3"})({width:"100%",display:"flex",flexDirection:"column"},(({theme:{direction:e}})=>(0,E.YJ)({direction:e,marginStart:"20px"})),"label:DivCommentItemSkeletonInfo;"),Ue=(0,A.Z)("div",{target:"eht1nyc4"})((({width:e="100%",height:t="24px",marginTop:i="0px",theme:o})=>({width:e,height:t,marginTop:i,backgroundColor:o.colors.BGPlaceholderDefault,backgroundImage:"linear-gradient(90deg, rgba(22, 24, 35, 0) 0%, rgba(22, 24, 35, .04) 50%, rgba(22, 24, 35, 0) 100%)",backgroundSize:"200% 100%",backgroundRepeat:"no-repeat",animation:`${Be} cubic-bezier(0, 0, 1, 1) 1.5s infinite`})),"label:DivCommentItemSkeletonLine;"),Ve=(0,a.memo)((function({num:e=3}){const t=[];for(let i=0;i<e;i++)t.push(i);return(0,o.jsx)(Fe,{children:t.map((e=>(0,o.jsxs)(ze,{children:[(0,o.jsx)(Ae,{},void 0),(0,o.jsxs)(Ee,{children:[(0,o.jsx)(Ue,{width:"160px"},void 0),(0,o.jsx)(Ue,{height:"20px",marginTop:"4px"},void 0),(0,o.jsx)(Ue,{height:"12px",marginTop:"8px",width:"96px"},void 0)]},void 0)]},e)))},void 0)})),$e=(0,A.Z)("div",{target:"ekjxngi0"})((({theme:e,empty:t=!1,inDetailPage:i=!1})=>({paddingTop:t?"":"16px",width:"100%",padding:i?"none":t?"0 32px":"24px 32px",boxSizing:"border-box",backgroundColor:i?"":e.colors.BGCreation3,borderTop:i||t?"none":"1px solid rgba(18, 18, 18, 0.12)",borderBottom:i?"none":"1px solid rgba(18, 18, 18, 0.12)",overflowY:"auto",overflowX:"hidden",flexGrow:1})),"label:DivCommentListContainer;"),We=(0,A.Z)($e,{target:"e1u1vkmc0"})({borderTop:"none",padding:"16px",margin:0,background:"#f8f8f8",border:"none"},"label:StyledDivCommentListContainerForSwiper;"),Ge=(0,a.memo)((0,a.forwardRef)(((e,t)=>{const{isInVideoFeedRedesign:i}=(0,be.y7)(),n=i?We:$e;return(0,o.jsx)(n,Object.assign({},e,{ref:t}),void 0)}))),qe=(0,a.memo)((0,a.forwardRef)((function({itemId:e,disableReply:t,teaParams:i,onLinkClick:d,inDetailPage:c=!1,hasMore:u=!0},p){var m,h;const[g,v]=(0,n.b7)(s.x),x=(0,r.TH)();(0,a.useEffect)((()=>{const{browserMode:t,vid:i,cid:o}=(0,l.m7)(x.state),n=i===e&&t?o:void 0;e!==g.awemeId&&e&&v.switchVideo({currId:e,insertCid:n})}),[v,g.awemeId,e,x.state]);const b=(0,a.useMemo)((()=>{var e;if(!g||!(null===(e=g.comments)||void 0===e?void 0:e.length)&&g.loading&&u)return(0,o.jsx)(Ve,{num:9},void 0);const n=[];return g.comments.forEach(((e,a)=>{var r;const l=(0,o.jsx)(Me,{item:e,disableReply:t,index:a,teaParams:i,onLinkClick:d,inDetailPage:c},e.cid);(null===(r=x.state)||void 0===r?void 0:r.cid)===e.cid?n.unshift(l):n.push(l)})),(0,o.jsxs)(o.Fragment,{children:[n,g.loading&&(0,o.jsx)(Ve,{num:1},void 0)]},void 0)}),[t,d,g,i,null===(m=x.state)||void 0===m?void 0:m.cid,c,u]);return(0,o.jsx)(Ge,Object.assign({inDetailPage:c,ref:p,empty:0===(null===(h=null==g?void 0:g.comments)||void 0===h?void 0:h.length)},{children:b}),void 0)})))},19330:(e,t,i)=>{i.d(t,{x:()=>B});var o=i(64047),n=i(73566),a=i(48185),r=i(19630),l=i(35167),s=i(80390),d=i.n(s),c=i(82346),u=i(11348),p=i(60595),m=i(53095),h=i(20948),g=i(56979),v=i(93859),x=i(49584),b=i(10026),y=i(5549),f=i(12167),_=i(58500),j=i(35468),k=i(90035),C=i(47165),w=i(21396),S=i(2734),P=i(84785),T=i(24878),I=i(76967),D=i(15550),O=i(57244),R=i(30626),L=i(4206);let Z=class{constructor(e){this.fetch=e}getCommentList(e){return this.fetch.get("/api/comment/list/",{query:Object.assign(Object.assign({},e),{count:20,aid:1988,app_language:"ja-JP",device_platform:"web_pc",current_region:"JP",fromWeb:1}),baseUrlType:2})}getCommentReply(e){return this.fetch.get("/api/comment/list/reply/",{query:Object.assign(Object.assign({},e),{count:3,aid:1988,app_language:"ja-JP",device_platform:"web_pc",current_region:"JP",fromWeb:1}),baseUrlType:2})}postCommentLike(e){return this.fetch.post("/api/comment/digg/",{query:Object.assign(Object.assign({},e),{aid:1988,channel_id:0}),headers:{[R.eD]:this.fetch.csrfToken},baseUrlType:2})}postCommentDelete(e){return this.fetch.post("/api/comment/delete/",{query:e,baseUrlType:2,headers:{[R.eD]:this.fetch.csrfToken}})}};var M;Z=(0,o.__decorate)([(0,O.G)(),(0,o.__metadata)("design:paramtypes",[L.r])],Z),function(e){e[e.Like=1]="Like",e[e.Unlike=2]="Unlike"}(M||(M={}));let B=class extends n.D{constructor(e,t,i,o,n,a){super(),this.service=e,this.commentItem=t,this.item=i,this.user=o,this.t=n,this.home=a,this.defaultState={awemeId:void 0,cursor:"0",comments:[],hasMore:!0,loading:!0}}setCommentItem(e,t){return t?e=Object.assign(Object.assign({},e),t):e}setReplyLoading(e,t){var i,o,n;const a=e.comments.find((({cid:e})=>e===t.cid));if(!a)return e;a.replyCache?a.replyCache.loading=t.loading:a.replyCache={comments:null!==(i=a.reply_comment)&&void 0!==i?i:[],cursor:null!==(n=null===(o=a.reply_comment)||void 0===o?void 0:o.length)&&void 0!==n?n:"0",hasMore:!0,loading:t.loading}}setReplyComment(e,t){const i=this.getCommentItem(e,t.cid);if(!i)return e;i.reply_comment=t.comments}setReplyCommentCache(e,t){const i=this.getCommentItem(e,t.cid);if(!i)return e;i.replyCache?(i.replyCache.comments=t.comments,i.replyCache.hasMore=t.hasMore,i.replyCache.cursor=t.cursor):i.replyCache={comments:t.comments,cursor:t.cursor,hasMore:t.hasMore,loading:!1}}deleteCommentFromList(e,t){var i,o;const{index:n,subIndex:a}=t;void 0===a?e.comments.splice(n,1):(null===(i=e.comments[n].reply_comment)||void 0===i||i.splice(a,1),null===(o=e.comments[n].replyCache)||void 0===o||o.comments.splice(a,1))}addCommentToFirst(e,t){e.comments.unshift({cid:t.cid,reply_comment:[],replyCache:null})}addReplyToFirst(e,{comment:t,position:i}){var o,n;const a=e.comments[i];a&&(a.reply_comment=null!==(o=a.reply_comment)&&void 0!==o?o:[],a.reply_comment.unshift({cid:t.cid,reply_comment:null,replyCache:null}),null===(n=a.replyCache)||void 0===n||n.comments.unshift({cid:t.cid,reply_comment:null,replyCache:null}))}handlePostSuccess(e){return e.pipe((0,m.z)((e=>{const{users:t,commentItems:i}=this.processCommentList([e]);return(0,c.of)(this.getActions().addCommentToFirst(e),this.user.getActions().multiSetUser(t),this.commentItem.getActions().multiSetCommentItem(i),this.item.getActions().reduceOrIncreaseCommentCount({id:e.aweme_id,isReduce:!1}))})))}handleReplySuccess(e){return e.pipe((0,m.z)((({comment:e,position:t})=>{const{users:i,commentItems:o}=this.processCommentList([e],{ignoreReply:!0});return(0,c.of)(this.getActions().addReplyToFirst({comment:e,position:t}),this.user.getActions().multiSetUser(i),this.commentItem.getActions().multiSetCommentItem(o),this.commentItem.getActions().reduceOrIncreaseCommentCount({cid:e.reply_id}),this.item.getActions().reduceOrIncreaseCommentCount({id:e.aweme_id,isReduce:!1}))})))}fetchComment(e){return e.pipe((0,h.M)(this.state$,this.home.state$),(0,g.U)((([e,t])=>({query:e,item:t}))),(0,v.b)((({item:e})=>{})),(0,x.z)((({query:{aweme_id:e,insert_ids:t},item:i})=>{var o;if(!(null==i?void 0:i.hasMore))return u.E;const n=null!==(o=null==i?void 0:i.cursor)&&void 0!==o?o:"0";return this.service.getCommentList({insert_ids:"0"===n?t:void 0,aweme_id:e,cursor:n}).pipe((0,v.b)((e=>{(0,k.k)(e.status_code,[0])})),(0,m.z)((t=>{var o,n,a;if(0===t.status_code&&(null===(o=t.comments)||void 0===o?void 0:o.length)){const{users:o,comments:a,commentItems:r}=this.processCommentList(t.comments),l=null!==(n=null==i?void 0:i.comments)&&void 0!==n?n:[],s=d()(l.concat(a),"cid"),u=[this.user.getActions().multiSetUser(o),this.commentItem.getActions().multiSetCommentItem(r),this.getActions().setCommentItem({comments:s,hasMore:Boolean(t.has_more),cursor:t.cursor,loading:!1})];return t.total&&u.push(this.item.getActions().setCommentCount({id:e,commentCount:Number(t.total)})),(0,c.of)(...u)}return 0!==t.status_code||(null===(a=t.comments)||void 0===a?void 0:a.length)||t.has_more?(0,c.of)(this.noop()):(0,c.of)(this.getActions().setCommentItem({hasMore:Boolean(t.has_more),loading:!1}))})),(0,b.O)(this.getActions().setCommentItem({awemeId:e,loading:!0})),(0,y.l)(this.getActions().setCommentItem({loading:!1}),this.terminate()),(0,C.n)({shouldShowMsg:!1}),(0,f.R)(this.dispose$))})))}fetchCommentReply(e){return e.pipe((0,h.M)(this.state$),(0,g.U)(this.mapCommentItemFromQuery.bind(this)),(0,v.b)((([e,t])=>{t||console.warn("No item here in fetch commoent reply")})),(0,m.z)((([e,t])=>{var i,o;return t?this.service.getCommentReply({comment_id:e.cid,item_id:e.itemId,cursor:null!==(o=null===(i=t.replyCache)||void 0===i?void 0:i.cursor)&&void 0!==o?o:"0"}).pipe((0,v.b)((e=>{(0,k.k)(e.status_code,[0])})),(0,m.z)((i=>{var o;if(0===i.status_code){const{users:n,comments:a,commentItems:r}=this.processCommentList(i.comments),l=null!==(o=null==t?void 0:t.reply_comment)&&void 0!==o?o:[],s=d()(l.concat(a),"cid");return(0,c.of)(this.user.getActions().multiSetUser(n),this.commentItem.getActions().multiSetCommentItem(r),this.getActions().setReplyComment(Object.assign({comments:[...s]},e)),this.getActions().setReplyCommentCache(Object.assign({comments:[...s],hasMore:Boolean(i.has_more),cursor:i.cursor},e)))}return(0,c.of)(this.noop())})),(0,b.O)(this.getActions().setReplyLoading(Object.assign(Object.assign({},e),{loading:!0}))),(0,y.l)(this.getActions().setReplyLoading(Object.assign(Object.assign({},e),{loading:!1}))),(0,C.n)({})):u.E})))}handleCollapseReply(e){return e.pipe((0,h.M)(this.state$),(0,v.b)((([e,t])=>{this.getCommentItem(t,e.cid)||console.warn("item is null")})),(0,g.U)((([e,t])=>this.getCommentItem(t,e.cid)?this.getActions().setReplyComment(Object.assign(Object.assign({},e),{comments:[]})):this.noop())))}handleShowMoreReply(e){return e.pipe((0,h.M)(this.state$),(0,g.U)(this.mapCommentItemFromQuery.bind(this)),(0,v.b)((([{cid:e,itemId:t}])=>{_.y.handleShowMoreReply({parent_comment_id:e,group_id:t})})),(0,v.b)((([e,t])=>{t||console.warn("item is null")})),(0,g.U)((([e,t])=>{if(!t)return this.noop();if(!t.reply_comment||!t.replyCache)return this.getActions().fetchCommentReply(e);const i=t.reply_comment.length,o=t.replyCache.comments.length;if(i<o){const n=i+3>o?o:i+3;return this.getActions().setReplyComment(Object.assign(Object.assign({},e),{comments:t.replyCache.comments.slice(0,n)}))}return this.getActions().fetchCommentReply(e)})))}handleCommentLike(e){return e.pipe((0,h.M)(this.commentItem.state$,this.user.state$),(0,g.U)((([e,t,i])=>{var o;const n=t[e.cid];return{query:e,commentItem:n,user:i.users[null!==(o=null==n?void 0:n.user)&&void 0!==o?o:""]}})),(0,v.b)((({commentItem:e})=>{e||console.warn("No comment item here in hendle comment like")})),(0,x.z)((({query:e,commentItem:t,user:i})=>{if(!t)return u.E;const o=t.user_digged?2:1;return this.service.postCommentLike({aweme_id:e.itemId,cid:e.cid,digg_type:o}).pipe((0,v.b)((t=>{var n;0===(null==t?void 0:t.status_code)?_.y.handleCommentLike({isLike:1===o,comment_id:e.cid,group_id:e.itemId,comment_user_id:null!==(n=null==i?void 0:i.id)&&void 0!==n?n:"",author_id:e.teaAuthorId}):3002043===(null==t?void 0:t.status_code)?(j.h.destroy(),j.h.open({content:this.t(2===o?"comment_turnoff_unlike":"comment_turnoff_like"),duration:3})):(null==t?void 0:t.status_code)?(j.h.destroy(),j.h.open({content:this.t("Sorry, something wrong with the server, please try again."),duration:3,widthType:"half"})):(j.h.destroy(),j.h.open({content:this.t("comment_nointernet_toast"),duration:3,widthType:"half"}))})),(0,m.z)((i=>{if(0===i.status_code){let i,n;return 1===o?(i=1,n=t.digg_count+1):(i=0,n=Math.max(t.digg_count-1,0)),(0,c.of)(this.commentItem.getActions().setItemDiggState({cid:e.cid,digged:i}),this.commentItem.getActions().setItemDiggCount({cid:e.cid,count:n}))}return 3002043===i.status_code?(0,c.of)(this.item.getActions().updateItem({id:e.itemId,itemCommentStatus:3})):u.E})),(0,C.n)({}))})))}handleCommentDelete(e){return e.pipe((0,m.z)((e=>{const{itemId:t,cid:i,parentCid:o,subIndex:n}=e;return this.service.postCommentDelete({cid:i}).pipe((0,v.b)((({status_code:e})=>{0===e?j.h.open({content:this.t("comment_delete_success"),duration:3,widthType:"half"}):j.h.open({content:this.t("comment_delete_failed"),duration:3,widthType:"half"})})),(0,m.z)((a=>{if(0===a.status_code){const a=[this.getActions().deleteCommentFromList(e),this.commentItem.getActions().removeItem(i),this.item.getActions().reduceOrIncreaseCommentCount({id:t,isReduce:!0})];return void 0!==n&&o&&a.push(this.commentItem.getActions().reduceOrIncreaseCommentCount({cid:o,isReduce:!0})),(0,c.of)(...a)}return(0,c.of)(this.noop())})),(0,C.n)({}))})))}switchVideo(e){return e.pipe((0,m.z)((({currId:e,insertCid:t})=>(0,c.of)(this.getActions().dispose$(),this.getActions().setCommentItem({awemeId:e,cursor:"0",hasMore:!0,loading:!1,comments:[]}),this.getActions().fetchComment({insert_ids:t,aweme_id:e})))))}mapCommentItemFromQuery([e,t]){return[e,this.getCommentItem(t,e.cid)]}getCommentItem(e,t){return e.comments.find((({cid:e})=>e===t))}processCommentList(e=[],t={}){return e.reduce(((e,i)=>{const{user:o,reply_comment:n}=i;return e.users.push((0,S.yk)(o)),(null!=n?n:[]).forEach((({user:t})=>{e.users.push((0,S.yk)(t))})),e.comments.push(this.processComment(i,t)),this.commentItem.getProcessedCommentItem(i,t).forEach((t=>{e.commentItems.push(t)})),e}),{users:[],comments:[],commentItems:[]})}processComment(e,t={}){var i;return{cid:e.cid,reply_comment:null===(i=e.reply_comment)||void 0===i?void 0:i.map((e=>this.processComment(e,t))),replyCache:null}}};(0,o.__decorate)([(0,a.cQ)(),(0,o.__metadata)("design:type",p.y)],B.prototype,"dispose$",void 0),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],B.prototype,"setCommentItem",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],B.prototype,"setReplyLoading",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],B.prototype,"setReplyComment",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],B.prototype,"setReplyCommentCache",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],B.prototype,"deleteCommentFromList",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],B.prototype,"addCommentToFirst",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],B.prototype,"addReplyToFirst",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],B.prototype,"handlePostSuccess",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],B.prototype,"handleReplySuccess",null),(0,o.__decorate)([(0,a.Qm)({payloadGetter:1,skipFirstClientDispatch:!0}),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],B.prototype,"fetchComment",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],B.prototype,"fetchCommentReply",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],B.prototype,"handleCollapseReply",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],B.prototype,"handleShowMoreReply",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],B.prototype,"handleCommentLike",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],B.prototype,"handleCommentDelete",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],B.prototype,"switchVideo",null),B=(0,o.__decorate)([(0,r.Y)("Comment"),(0,o.__param)(4,(0,l.t)(w.s)),(0,o.__metadata)("design:paramtypes",[Z,D.r,I.A,T.z,Function,P.G])],B)},77015:(e,t,i)=>{i.d(t,{EN:()=>r,OH:()=>l,Gg:()=>s,hh:()=>d,TK:()=>c,Is:()=>u,Vk:()=>p});var o=i(32913),n=i(27918),a=i(57354);const r=(0,o.Z)("div",{target:"e1mecfx00"})({flex:"0 0 544px",width:"544px",display:"flex",flexDirection:"column",padding:"32px 0 0"},"label:DivContentContainer;"),l=(0,o.Z)("div",{target:"e1mecfx01"})({padding:"0 32px",overflow:"visible",display:"flex",flexDirection:"column",flexShrink:0},"label:DivMainContent;"),s=(0,o.Z)(a.W,{target:"e1mecfx02"})((({theme:{colors:e}})=>({marginTop:"9px",marginBottom:"17px",background:"transparent",color:e.TextSecondary})),"label:StyledScheduleTime;"),d=(0,o.Z)("div",{target:"e1mecfx03"})((({theme:{colors:e}})=>({width:"100%",padding:"0 32px",boxSizing:"border-box",backgroundColor:e.BGCreation3,borderTop:"none",borderBottom:"1px solid rgba(18, 18, 18, 0.12)",overflowX:"hidden",flexGrow:1})),"label:DivCommentContainerPolyfill;"),c=(0,o.Z)("div",{target:"e1mecfx04"})((({theme:{colors:e}})=>({flex:"0 0 auto",backgroundColor:e.BGPrimary,margin:"0 30px",padding:"21px 0"})),"label:DivBottomCommentContainer;"),u=(0,o.Z)("div",{target:"e1mecfx05"})((({theme:e})=>[(0,n.GI)({theme:e,typography:"P2",color:"TextSecondary"}),{flex:"1 1 0px",display:"flex",alignItems:"center",justifyContent:"center"}]),"label:DivErrorMessage;"),p=(0,o.Z)("div",{target:"e1mecfx06"})((({theme:e})=>(0,n.GI)({theme:e,fontWeight:"semiBold",color:"Primary"})),{height:"100%",background:"#F8F8F8",borderRadius:"2px",padding:"14px 16px",fontSize:"16px",cursor:"pointer"},"label:DivLoginBar;")},65915:(e,t,i)=>{i.d(t,{r:()=>Ui});var o=i(11040),n=i(9236),a=i(91051),r=i(21041),l=i(63464),s=i(8456),d=i(52053),c=i(49541),u=i(33156),p=i(96770),m=i(27319),h=i(9517),g=i(91036),v=i(89811),x=i(35468),b=i(8721),y=i(76679),f=i(13964),_=i(90035),j=i(15073),k=i(14870),C=i(48036),w=i(40599),S=i(2734),P=i(47127),T=i(14452),I=i(56344),D=i(57354),O=i(62321),R=i(16926),L=i(25615),Z=i.n(L),M=i(93859),B=i(76851),F=i(43893),z=i(56277),A=i(26802),E=i(17936),U=i(30074),V=i(85404),$=i(57107),W=i(82774),G=i(32913),q=i(27918);const N=(0,G.Z)("div",{target:"e1t8v77z0"})((({theme:{direction:e},align:t})=>[{textAlign:t},(0,q.YJ)({direction:e,textAlign:"left"===t?"start":"end"})]),"label:DivStatisticContainer;"),H=(0,G.Z)("div",{target:"e1t8v77z1"})({color:"inherit",display:"inline-block"},"label:DivValue;"),Y=(0,G.Z)("div",{target:"e1t8v77z2"})((({color:e})=>({color:e,":global(svg)":{verticalAlign:"text-bottom"}})),"label:DivComparison;");var Q;!function(e){e.Rise="rise",e.Fall="fall",e.NoChange="no-change"}(Q||(Q={}));const J={rise:(0,o.jsx)($.Z,{width:16,height:16},void 0),fall:(0,o.jsx)(W.Z,{width:16,height:16},void 0),"no-change":null},K={rise:"#10A2C5",fall:"#FF4C3A","no-change":"inherit"},X=(0,a.memo)((({value:e,comparison:t,suffix:i,growth:n,align:a="left",children:r,showArrow:l=!1})=>{const s=K[n];return(0,o.jsxs)(N,Object.assign({align:a},{children:[(0,o.jsx)(H,{children:e},void 0),(0,o.jsxs)(Y,Object.assign({color:s},{children:[null!=t?t:r,l&&J[n],i]}),void 0)]}),void 0)})),ee=(0,G.Z)("div",{target:"e6a09rd0"})((({theme:{colors:e}})=>({fontSize:"13px",lineHeight:"17px",color:e.TextReverse3,background:e.BGPrimary})),"label:DivTooltipOverlay;"),te=(0,G.Z)("span",{target:"e6a09rd1"})((({theme:e})=>({display:"inline-flex",justifyContent:"center",alignItems:"center",padding:"0 4px",height:"16px",color:e.colors.TextQuaternary,cursor:"pointer"})),"label:SpanTooltipWrapper;"),ie=(0,a.memo)((({desc:e})=>{const t=(0,a.useMemo)((()=>(0,o.jsx)(ee,{children:e},void 0)),[e]),i=(0,a.useMemo)((()=>({borderRadius:"8px",boxShadow:"3px 6px 14px rgba(0, 0, 0, 0.17)"})),[]);return(0,o.jsx)(E.u,Object.assign({zIndex:1e4,tooltipTheme:"white",placement:"top",overlay:t,overlayStyle:i},{children:(0,o.jsx)(te,{children:(0,o.jsx)(F.Z,{width:16,height:16},void 0)},void 0)}),void 0)})),oe=(0,G.Z)("div",{target:"e1m23xuv0"})((({height:e})=>({width:"100%",height:null!=e?e:"unset",display:"flex",flexDirection:"column",justifyContent:"space-around"})),"label:DivVerticalChartContainer;"),ne=(0,G.Z)("div",{target:"e1m23xuv1"})({width:"100%",height:"40px",display:"flex",justifyContent:"space-between",alignItems:"center"},"label:DivVerticalChartItemContainer;"),ae=(0,G.Z)("div",{target:"e1m23xuv2"})((({width:e})=>({width:e,height:"40px",background:"#4DDDF0",justifySelf:"flex-end",cursor:"pointer",transition:"background 200ms linear",animation:"width-expand ease 400ms","@keyframes width-expand":{"0%":{width:0},"100%":{width:e}},":hover":{background:"#00bbd4"}})),"label:DivVerticalBar;"),re=(0,G.Z)("span",{target:"e1m23xuv3"})((({theme:e})=>[(0,q.GI)({theme:e,fontFamily:"Proxima",typography:"P3",color:"TextSecondary"}),{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",flexFlow:"1"}]),"label:SpanBarLabel;"),le=(0,G.Z)("span",{target:"e1m23xuv4"})((({theme:e})=>[(0,q.GI)({theme:e,fontFamily:"Proxima",fontWeight:"semiBold",typography:"P2",color:"TextSecondary"}),{width:"40px",flexShrink:0,alignItems:"center",justifyContent:"flex-end",textAlign:"right"},(0,q.YJ)({direction:e.direction,textAlign:"end"})]),"label:SpanBarValue;"),se=(0,a.memo)((e=>{const{chartData:t}=e,i=(0,a.useCallback)((()=>{const e=[...t].filter((e=>Number(e.value)>=.01));return e.length>5?null:60*e.length+32/e.length+"px"}),[t]),n=(0,a.useMemo)(i,[t,i]);return(0,o.jsx)(oe,Object.assign({height:null!=n?n:""},{children:t.map((({value:e=0,key:t})=>(0,o.jsxs)(ne,{children:[(0,o.jsxs)(re,{children:[t,(0,o.jsx)(ae,{width:100*(null!=e?e:0)+"%"},t)]},void 0),(0,o.jsx)(le,{children:`${(100*(0,S.G)(e)).toFixed(0)}%`},void 0)]},t)))}),void 0)}));var de=i(34708),ce=i(98465),ue=i(64047),pe=i(73566),me=i(48185),he=i(19630),ge=i(82346),ve=i(60595),xe=i(49584),be=i(58755),ye=i(68854),fe=i(53095),_e=i(10026),je=i(5549),ke=i(17230),Ce=i(57244),we=i(40316),Se=i.n(we),Pe=i(4206);let Te=class{constructor(e){this.fetch=e}getAnalyticsData(e){return this.fetch.post("/aweme/v1/data/insighs/",{query:Se()(e,"body"),headers:{"Content-Type":"application/x-www-form-urlencoded"},baseUrlType:1,credentials:"include",body:e.body})}};Te=(0,ue.__decorate)([(0,Ce.G)(),(0,ue.__metadata)("design:paramtypes",[Pe.r])],Te);const Ie=new Set(["video_output_time","self_rooms_has_more","self_rooms"]),De={status_code:0},Oe=-1*(new Date).getTimezoneOffset()*60;let Re=class extends pe.D{constructor(e){super(),this.service=e,this.defaultState={translationLoading:!1,translationLoaded:!1,loading:!1,hideTerritories:!1,isOldVideo:!1,statusCode:0,requestData:{},analyticsData:{}}}setAnalyticsData(e,t){var i,o;const{status_code:n,user_info:a,video_info:r}=t,{create_time:l}=null!=r?r:{},s=a&&-1!==["HK"].indexOf((null!==(i=null==a?void 0:a.region)&&void 0!==i?i:"").toUpperCase()),d=(null!==(o=null==a?void 0:a.open_insight_time)&&void 0!==o?o:0)>Number(null!=l?l:0);e.statusCode=n,e.hideTerritories=null!=s&&s,e.isOldVideo=d,e.analyticsData=t}setLoading(e,t){e.loading=t}setTranslationLoading(e,t){e.translationLoading=t}setTranslationLoaded(e,t){e.translationLoaded=t}getAnalyticsData(e){return e.pipe((0,xe.z)((({requestData:e,aid:t,region:i})=>{const{existData:o,notExistRequest:n=[],cacheResponse:a}=this.cacheQuest(e);return o.vv_history&&(o.isNewUser=o.vv_history.every((e=>0!==e.status))),0===n.length?(0,ge.of)(this.getActions().setAnalyticsData(o)):this.service.getAnalyticsData({tz_offset:Oe,aid:t,carrier_region:i,body:`type_requests=${JSON.stringify(e)}`}).pipe((0,be.V)(ke.ES),(0,ye.K)((()=>(0,ge.of)({status_code:-1}))),(0,fe.z)((e=>{const{vv_history:t}=e;return t&&(e.isNewUser=t.every((e=>0!==e.status))),a(e),(0,ge.of)(this.getActions().setAnalyticsData(e))})),(0,_e.O)(this.getActions().setLoading(!0)),(0,je.l)(this.getActions().setLoading(!1),this.terminate()))})))}cacheQuest(e){let t={status_code:0};const i=[],o={};return e.forEach((e=>{const n=JSON.stringify(e);o[e.insigh_type]=n,De[n]?t=Object.assign(Object.assign({},t),De[n]):i.push(e)})),{existData:t,notExistRequest:i,cacheResponse:e=>{Object.keys(e).forEach((t=>{Ie.has(t)||o[t]&&e[t]&&(De[o[t]]={[t]:e[t]})}))}}}};var Le;function Ze(){return Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Ze.apply(this,arguments)}(0,ue.__decorate)([(0,me.lF)(),(0,ue.__metadata)("design:type",Function),(0,ue.__metadata)("design:paramtypes",[Object,Object]),(0,ue.__metadata)("design:returntype",void 0)],Re.prototype,"setAnalyticsData",null),(0,ue.__decorate)([(0,me.lF)(),(0,ue.__metadata)("design:type",Function),(0,ue.__metadata)("design:paramtypes",[Object,Boolean]),(0,ue.__metadata)("design:returntype",void 0)],Re.prototype,"setLoading",null),(0,ue.__decorate)([(0,me.lF)(),(0,ue.__metadata)("design:type",Function),(0,ue.__metadata)("design:paramtypes",[Object,Boolean]),(0,ue.__metadata)("design:returntype",void 0)],Re.prototype,"setTranslationLoading",null),(0,ue.__decorate)([(0,me.lF)(),(0,ue.__metadata)("design:type",Function),(0,ue.__metadata)("design:paramtypes",[Object,Boolean]),(0,ue.__metadata)("design:returntype",void 0)],Re.prototype,"setTranslationLoaded",null),(0,ue.__decorate)([(0,me.Qm)({}),(0,ue.__metadata)("design:type",Function),(0,ue.__metadata)("design:paramtypes",[ve.y]),(0,ue.__metadata)("design:returntype",void 0)],Re.prototype,"getAnalyticsData",null),Re=(0,ue.__decorate)([(0,he.Y)("AnalyticsModule"),(0,ue.__metadata)("design:paramtypes",[Te])],Re);const Me=function(e){return a.createElement("svg",Ze({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},e),Le||(Le=a.createElement("path",{fill:"#161823",fillOpacity:.34,fillRule:"evenodd",d:"M21.75 11.471c0 2.306-1.13 4.286-3.064 6.187-2.365 2.324-5.344 3.7-5.344 3.7-.663.342-1.2.013-1.2-.734v-1.262c-5.386 0-9.892-3.212-9.892-7.89C2.25 6.791 6.615 3 12 3s9.75 3.793 9.75 8.471zm-7.877 7.909a20.644 20.644 0 002.623-1.784c.407-.327.788-.664 1.138-1.008 1.785-1.754 2.616-3.373 2.616-5.117 0-3.8-3.65-6.971-8.25-6.971s-8.25 3.172-8.25 6.971c0 3.621 3.591 6.39 8.391 6.39h1.5v1.65l.232-.131zM6.25 11.25a1.25 1.25 0 102.501 0 1.25 1.25 0 00-2.501 0zM12 12.5a1.25 1.25 0 110-2.5 1.25 1.25 0 010 2.5zm3.25-1.25a1.25 1.25 0 102.5.001 1.25 1.25 0 00-2.5-.002z",clipRule:"evenodd"})))};var Be;function Fe(){return Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Fe.apply(this,arguments)}const ze=function(e){return a.createElement("svg",Fe({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},e),Be||(Be=a.createElement("path",{fill:"#161823",fillOpacity:.34,fillRule:"evenodd",d:"M12.111 5.218c.87-1.22 2.299-1.864 3.87-1.864 2.993 0 5.483 2.555 5.483 5.592 0 .087-.002.153-.003.2a.442.442 0 00.003.111c-.012.639-.124 1.167-.323 1.864-.113.126-.218.361-.322.622a2.75 2.75 0 00-.323.621c-1.885 3.114-5.858 6.307-7.1 7.305-.2.161-.33.265-.368.302-.27.266-.539.53-1.078.53s-.808-.264-1.077-.53a7.836 7.836 0 00-.365-.29c-1.337-1.04-5.873-4.572-7.45-7.93-.27-.53-.605-1.793-.621-2.494.006-.006.005-.04.003-.107a7.258 7.258 0 01-.003-.204c0-3.039 2.488-5.592 5.482-5.592 1.569 0 2.999.644 4.192 1.864zm7.37 5.831c.099-.236.185-.421.286-.585.129-.483.183-.808.195-1.163-.002-.039-.002-.05-.002-.087 0-.036 0-.077.002-.132l.002-.136c0-2.221-1.83-4.092-3.982-4.092-1.138 0-2.09.45-2.65 1.235a1.5 1.5 0 01-2.292.178c-.925-.945-1.975-1.413-3.12-1.413-2.154 0-3.983 1.87-3.983 4.092 0 .046 0 .086.002.134l.003.138c0 .033 0 .047-.002.075.033.475.283 1.438.476 1.82.083.177.178.358.285.545.647 1.127 1.696 2.377 3.041 3.681 1.399 1.357 4.46 3.835 4.191 3.572l-.008-.009.025.025.026-.025c.055-.054.434-.363.817-.675.264-.215.531-.432.693-.567.96-.8 1.87-1.614 2.722-2.456 1.191-1.176 2.158-2.303 2.827-3.334.04-.06.078-.12.115-.18a3.9 3.9 0 01.332-.64z",clipRule:"evenodd"})))};var Ae,Ee;function Ue(){return Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Ue.apply(this,arguments)}const Ve=function(e){return a.createElement("svg",Ue({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},e),Ae||(Ae=a.createElement("g",{opacity:.34},a.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12z",clipRule:"evenodd",opacity:.01}))),Ee||(Ee=a.createElement("path",{fill:"#161823",fillOpacity:.34,fillRule:"evenodd",d:"M14.629 4.678c-.922-.86-1.675-.536-1.675.728V7.92c-9.041 0-10.644 6.101-11.429 10.01-.188 2.123.735 1.974.972 1.548 2.54-4.564 10.457-3.168 10.457-3.168v2.21c0 1.269.78 1.624 1.742.802l7-5.98c.642-.549.66-1.458.044-2.033l-7.111-6.631zm-1.675 4.743h1.5V6.567l6.15 5.734-6.15 5.255v-2.504l-1.239-.219a13.368 13.368 0 00-.869-.115c-1.71-.18-3.544-.163-5.302.19-1.371.275-2.59.738-3.607 1.417.45-1.645 1.007-2.852 1.872-3.922 1.554-1.92 3.96-2.982 7.645-2.982z",clipRule:"evenodd"})))};var $e;function We(){return We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},We.apply(this,arguments)}const Ge=function(e){return a.createElement("svg",We({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},e),$e||($e=a.createElement("path",{fill:"#161823",fillOpacity:.34,fillRule:"evenodd",d:"M5.505 5.08v13.967l12.3-6.984-12.3-6.983zm-1.636-.458c0-1.012 1.15-1.64 2.058-1.124l13.107 7.442a1.279 1.279 0 010 2.247L5.927 20.63c-.909.516-2.058-.112-2.058-1.124V4.622z",clipRule:"evenodd"})))};var qe=i(91497);const Ne=(0,G.Z)("p",{target:"e1icgj7e0"})((({theme:e})=>[(0,q.GI)({theme:e,fontFamily:"Proxima",color:"TextQuaternary",typography:"P4"})]),"label:PEmptyText;"),He=(0,G.Z)("div",{target:"e1icgj7e1"})((({theme:e})=>({width:"987px",minHeight:"500px",padding:"48px",background:e.colors.BGPrimary,borderRadius:"8px"})),"label:DivAnalyticsVideo;"),Ye=(0,G.Z)("div",{target:"e1icgj7e2"})((({theme:e})=>({position:"absolute",right:"24px",top:"24px",width:"40px",height:"40px",boxSizing:"border-box",background:e.colors.BGView,color:"#B0B0B4",padding:"8px",borderRadius:"50%",cursor:"pointer"})),"label:DivCloseBtn;"),Qe=(0,G.Z)("div",{target:"e1icgj7e3"})((({theme:e})=>({textAlign:"center",ul:{margin:"16px auto 32px",padding:0,display:"flex",justifyContent:"center",listStyle:"none",li:{minWidth:"100px",marginLeft:"17px",marginBottom:0,"&:first-child":{marginLeft:0}},p:{fontSize:"17px",lineHeight:"20px",color:e.colors.TextPrimary}}})),"label:DivAnalyticsVideoHeader;"),Je=(0,G.Z)("div",{target:"e1icgj7e4"})({display:"flex",justifyContent:"space-between","& > div":{width:"49%",alignSelf:"flex-start"}},"label:DivAnalyticsVideoContent;"),Ke=(0,G.Z)("div",{target:"e1icgj7e5"})({display:"inline-flex",position:"relative",fontSize:0,marginBottom:"12px",cursor:"pointer"},"label:DivImageContainer;"),Xe=(0,G.Z)("img",{target:"e1icgj7e6"})({width:"88px"},"label:ImgVideoCover;"),et=(0,G.Z)("div",{target:"e1icgj7e7"})({position:"absolute",top:0,left:0,bottom:0,right:0,backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, .5))"},"label:DivImgMask;"),tt=(0,G.Z)("p",{target:"e1icgj7e8"})((({theme:e})=>[(0,q.GI)({theme:e,color:"ConstTextInverse"}),{zIndex:2,position:"absolute",width:"100%",textAlign:"center",bottom:"4px",background:"transparent",fontSize:"12px"}]),"label:PDuration;"),it=(0,G.Z)("p",{target:"e1icgj7e9"})((({theme:e})=>[(0,q.GI)({theme:e,fontWeight:"semiBold",typography:"P3",color:"TextPrimary"}),{display:"flex",justifyContent:"center",alignItems:"center"}]),"label:PTextWithTooltip;"),ot=(0,G.Z)("div",{target:"e1icgj7e10"})((({theme:e})=>[(0,q.GI)({theme:e,fontWeight:"semiBold"}),{textAlign:"initial",fontSize:"13px",lineHeight:"16px",color:e.colors.TextReverse3,marginBottom:"12px",display:"flex",alignItems:"center",":global(.tooltip)":{marginInlineStart:"4px",display:"inline-block",height:"16px"}}]),"label:DivUpdateTimeContainer;"),nt=(0,G.Z)("div",{target:"e1icgj7e11"})((({theme:{colors:e}})=>({marginBottom:"16px",padding:"24px",border:`1px solid ${e.LineSecondary}`,boxSizing:"border-box",borderRadius:"8px"})),"label:DivChartContainer;"),at=(0,G.Z)("h5",{target:"e1icgj7e12"})((({theme:e})=>[(0,q.GI)({theme:e,fontFamily:"Proxima",fontWeight:"bold"}),{margin:0,marginBottom:"24px",display:"flex",alignItems:"center",fontSize:"13px",lineHeight:"17px"}]),"label:H5TrafficSource;"),rt=(0,G.Z)("div",{target:"e1icgj7e13"})((({theme:e})=>[(0,q.GI)({theme:e,fontFamily:"Proxima"}),{display:"flex",justifyContent:"space-between",alignItems:"center",height:"56px",p:{display:"inline-flex"},"&:first-of-type":{marginTop:0},span:{fontSize:"17px",lineHeight:"20px",color:e.colors.TextPrimary}}]),"label:DivVideoStatistics;"),lt=(0,G.Z)("span",{target:"e1icgj7e14"})((({theme:e})=>({fontSize:"12px !important",lineHeight:"15px !important",color:`${e.colors.TextTertiary}  !important`})),"label:SpanComparison;"),st=(0,G.Z)("span",{target:"e1icgj7e15"})({marginInlineStart:"4px",display:"inline-block",height:"16px",cursor:"pointer"},"label:SpanTooltip;"),dt=(0,G.Z)("div",{target:"e1icgj7e16"})((({theme:e})=>[(0,q.GI)({theme:e,fontFamily:"Proxima"}),{fontSize:"13px",lineHeight:"17px",color:e.colors.TextTertiary}]),"label:DivVideoTooltip;"),ct=(0,G.Z)("div",{target:"e1icgj7e17"})((({hideTerritories:e})=>({width:e?"100%":"unset"})),"label:DivWidthWrapper;"),ut=(0,G.Z)("p",{target:"e1icgj7e18"})((({theme:e})=>[(0,q.GI)({theme:e,fontFamily:"Proxima",fontWeight:"semiBold",color:"TextTertiary"}),{marginTop:"24px",fontSize:"13px",lineHeight:"17px"}]),"label:PUTCTime;");var pt=i(7582);const mt=(e,t=0,i="",o=!1,n=0,a=0)=>{const r={insigh_type:e};return t&&(r.days=t+a),a&&(r.end_days=1+a),i&&(o?r.room_id=i:r.aweme_id=i),"self_rooms"===e&&n&&(r.end_time=n),r};var ht,gt;!function(e){e.Time="time",e.Number="number"}(ht||(ht={})),function(e){e.Short="short",e.Full="full",e.Default=""}(gt||(gt={}));const vt=1e3,xt=36e5;function bt(e,t="number",i="",o=!1){return"time"===t?function(e,t="",i=0,o=!1){if((0,pt.kK)(e))return"--";const n=e=>{const t=Math.pow(10,i);return(Math.max(Math.round(e*t),e>0?1:0)/t).toFixed(i)},a=e>=0?o?"+":"":"-";let r=Math.abs(Number(e));const l=Math.floor(r/xt);r-=l*xt;let s=Math.floor(r/6e4);r-=6e4*s;const d=Math.floor(r/vt);return"short"===t?l>0&&d>29&&(s+=1,60===s)?`${a}${n(l+1)}h`:l>0?`${a}${n(l+s/60)}h`:s>0?`${a}${n(s+d/60)}m`:(r-=d*vt,`${a}${n(d+r/vt)}s`):l>0||"full"===t?`${a}${l}h:${s}m:${d}s`:s>0?`${a}${s}m:${d}s`:`${a}${d}s`}(e,i,1,o):Math.abs(e)<.01&&0!==e?e>0?(o?"+":"")+"0.01":"-0.01":"short"===i?(0,pt.wm)(e,o):(0,pt.GF)(e,o)}function yt(e,t,i,o){const{type:n="number",format:a="full",comparisonFormat:r="short"}=null!=o?o:{};let l=bt(e,n,a);if(2===i?l="--":1===i&&(l="N/A"),(0,pt.kK)(e)||(0,pt.kK)(t))return{valueStr:l,comparisonStr:"--",percentStr:"--",growth:"no-change"};const s=e-t,d=s>0?"rise":s<0?"fall":"no-change";var c;return{valueStr:l,comparisonStr:bt(s,n,r,!0),percentStr:0===s?"+0%":0===t?">999%":`${s/t>=0?"+":""}${c=s/t*100,Math.abs(c)<.01&&0!==c?c<0?"-0.01":"0.01":(0,pt.uY)(Number(c.toFixed(2)))}%`,growth:d}}const ft=24,_t=(0,a.memo)((e=>{const t=(0,b.Q)("MT_Analytics"),{isOldVideo:i,updateTime:n}=e,r=(0,a.useMemo)((()=>({borderRadius:"8px",boxShadow:"3px 10px 14px rgba(0, 0, 0, 0.17)"})),[]),l=(0,a.useMemo)((()=>(0,o.jsxs)(dt,{children:[(0,o.jsx)("div",Object.assign({className:"title"},{children:t("estimate_data_title")}),void 0),(0,o.jsx)("div",Object.assign({className:"contents"},{children:t("estimate_data_tips")}),void 0)]},void 0)),[t]),s=(0,a.useCallback)(((e,t)=>{const[i]=e.getElementsByClassName("tiktok-tooltip-arrow");i&&(i.style.transform=`translateX(${0-t.offset[0]}px) rotate(180deg)`)}),[]);return i?(0,o.jsx)(o.Fragment,{children:t("tips_of_update_none")},void 0):null===n||0===n||"number"!=typeof n?(0,o.jsx)(o.Fragment,{children:t("tips_of_update_wait")},void 0):(0,o.jsxs)(o.Fragment,{children:[t("tips_of_update_normal",{create_time:(0,pt.p6)(n,t,"MMM DD, YYYY")}),(0,o.jsx)(E.u,Object.assign({tooltipTheme:"white",placement:"top",overlayStyle:r,onPopupAlign:s,overlay:l},{children:(0,o.jsx)(st,{children:(0,o.jsx)(F.Z,{width:16,height:16},void 0)},void 0)}),void 0)]},void 0)})),jt=(0,a.memo)((e=>{const{show:t,id:i,videoInfo:r,onClose:l=Z()}=e,s=(0,b.Q)("MT_Analytics"),{language:d,region:c="",appType:u}=(0,S.m7)((0,de.L)((()=>["language","region","appType"]),[])),p="m"===u?1233:1180,[{loading:m,translationLoading:h,translationLoaded:g,isOldVideo:v,hideTerritories:x,analyticsData:y},f]=(0,n.b7)(Re,{selector:e=>({loading:e.loading,translationLoading:e.translationLoading,translationLoaded:e.translationLoaded,statusCode:e.statusCode,analyticsData:e.analyticsData,isOldVideo:e.isOldVideo,hideTerritories:e.hideTerritories}),dependencies:[]}),{isNewUser:_,video_page_percent:j={},video_region_percent:k={},video_total_duration:C={},video_total_duration_before:w={},video_per_duration:P={},video_per_duration_before:T={},finish_rate:I={},finish_rate_before:D={},video_uv:O={},video_uv_before:L={},video_output_time:F}=y,E=(0,a.useRef)(!1),{isRTL:$}=(0,qe.Y)(),{video:W,statistics:G,author:q,aweme_id:N,create_time:H}=r,{cover:Y,duration:Q}=(0,S.m7)(W),{uniqueId:J=""}=(0,S.m7)(q),{shareCount:K=0,commentCount:ee=0,diggCount:te=0,playCount:oe=0}=(0,S.m7)(G),ne=(0,a.useCallback)((e=>{const t=(e=>[mt("video_info",null,e),mt("video_page_percent",null,e),mt("video_region_percent",null,e),mt("video_total_duration",null,e),mt("video_total_duration_before",null,e),mt("video_per_duration",null,e),mt("video_per_duration_before",null,e),mt("user_info"),mt("video_uv",null,e),mt("video_uv_before",null,e),mt("finish_rate",null,e),mt("finish_rate_before",null,e),mt("video_output_time"),mt("vv_history",8)])(e);f.getAnalyticsData({requestData:t,aid:p,region:c})}),[c,p,f]),ae=yt((0,S.G)(null==O?void 0:O.value),(0,S.G)(null==L?void 0:L.value),0,{type:"number",format:"short"}),re=(0,a.useCallback)((e=>{let t=s("Not enough data yet.");return v||!_&&2!==e.status||(t=s("Insights will be updated tomorrow")),(0,o.jsx)(Ne,{children:t},void 0)}),[s,_,v]),le=(0,a.useCallback)((()=>{const e=yt((0,S.G)(C.value),(0,S.G)(w.value),0,{type:"time",format:"full"}),t=yt((0,S.G)(P.value),(0,S.G)(T.value),0,{type:"time",format:"short"}),i=yt((0,S.G)(I.value),(0,S.G)(D.value),0,{format:"full"});return(0,o.jsxs)(nt,{children:[(0,o.jsxs)(rt,{children:[(0,o.jsx)("p",{children:s("total_time_watched")},void 0),(0,o.jsx)("span",{children:"--"===e.valueStr?"--":(0,o.jsx)(X,Object.assign({align:"right",growth:e.growth,value:e.valueStr},{children:(0,o.jsxs)(lt,{children:["(",e.comparisonStr," ",s("compare_1d_ago"),")"]},void 0)}),void 0)},void 0)]},void 0),(0,o.jsxs)(rt,{children:[(0,o.jsx)("p",{children:s("average_time_watched")},void 0),(0,o.jsx)("span",{children:"--"===t.valueStr?"--":(0,o.jsx)(X,Object.assign({align:"right",growth:t.growth,value:t.valueStr},{children:(0,o.jsxs)(lt,{children:["(",t.comparisonStr," ",s("compare_1d_ago"),")"]},void 0)}),void 0)},void 0)]},void 0),(0,o.jsxs)(rt,{children:[(0,o.jsx)("p",{children:s("watch_full_video")},void 0),(0,o.jsx)("span",{children:"--"===i.valueStr?"--":(0,o.jsx)(X,Object.assign({align:"right",growth:i.growth,value:`${(100*(0,S.G)(I.value)).toFixed(1)}%`},{children:(0,o.jsxs)(lt,{children:["(",i.percentStr," ",s("compare_1d_ago"),")"]},void 0)}),void 0)},void 0)]},void 0)]},void 0)}),[I.value,D.value,s,P.value,T.value,C.value,w.value]),ue=(0,a.useCallback)((()=>{null==l||l()}),[l]),pe=(0,a.useCallback)((()=>{A.F.handleClickAnalyticsVideoCover(),window.open(`https://www.tiktok.com/@${J}/video/${N}`)}),[N,J]);return(0,a.useEffect)((()=>{t&&!E.current&&ne(null!=i?i:"")}),[t,i,ne]),function(e){const{domain:t,teaDomain:i}=(0,V.o)(),o=(0,n.mp)(ce.L,{selector:({lang:e})=>e,dependencies:[]}),r=(0,R.fz)(ce.L),[{translationLoaded:l},s]=(0,n.b7)(Re,{selector:e=>({translationLoaded:e.translationLoaded}),dependencies:[]});(0,a.useEffect)((()=>{e&&!l&&r.loadData$({lang:o,namespaces:["MT_Analytics"],domain:t,teaDomain:i}).pipe((0,M.b)((()=>{s.setTranslationLoading(!1),s.setTranslationLoaded(!0)}))).subscribe()}),[s,t,r,o,e,i,l])}(t),(0,o.jsx)(B.AR,Object.assign({compact:!0,isOpen:t},{children:m||h&&!g?(0,o.jsx)(U.g,{center:!0,size:"small"},void 0):(0,o.jsxs)(He,{children:[(0,o.jsx)(Ye,Object.assign({onClick:ue},{children:(0,o.jsx)(z.Z,{width:24,height:24},void 0)}),void 0),(0,o.jsxs)(Qe,{children:[(0,o.jsxs)(Ke,Object.assign({onClick:pe},{children:[(0,o.jsx)(et,{},void 0),(0,o.jsx)(Xe,{src:Y},void 0),(0,o.jsx)(tt,{children:(0,pt.LU)((0,S.G)(Q),"s")},void 0)]}),void 0),(0,o.jsxs)(it,{children:[s("Data since post time {0}",{0:(0,pt.JN)((0,S.G)(H),s)}),(0,o.jsx)(ie,{isRTL:$,desc:(me=(0,S.G)(H),s("Post time displays in your local time (UTC{shift_X}h)").replace("{shift_X}",(0,pt.Bv)(me)))},void 0)]},void 0),(0,o.jsxs)("ul",{children:[(0,o.jsxs)("li",{children:[(0,o.jsx)(Ge,{width:ft,height:ft},void 0),(0,o.jsx)("p",{children:(0,pt.wm)((0,S.G)(oe))},void 0)]},void 0),(0,o.jsxs)("li",{children:[(0,o.jsx)(ze,{width:ft,height:ft},void 0),(0,o.jsx)("p",{children:(0,pt.wm)((0,S.G)(te))},void 0)]},void 0),(0,o.jsxs)("li",{children:[(0,o.jsx)(Me,{width:ft,height:ft},void 0),(0,o.jsx)("p",{children:(0,pt.wm)((0,S.G)(ee))},void 0)]},void 0),(0,o.jsxs)("li",{children:[(0,o.jsx)(Ve,{width:ft,height:ft},void 0),(0,o.jsx)("p",{children:(0,pt.wm)((0,S.G)(K))},void 0)]},void 0)]},void 0),(0,o.jsx)(ot,{children:(0,o.jsx)(_t,{isOldVideo:v,updateTime:(0,S.G)(F),isRTL:$},void 0)},void 0)]},void 0),(0,o.jsxs)(Je,{children:[(0,o.jsxs)(ct,Object.assign({hideTerritories:x},{children:[le(),(0,o.jsxs)(nt,{children:[(0,o.jsxs)(at,{children:[s("traffic_sources"),(0,o.jsx)(ie,{isRTL:$,desc:s("Where your video traffic comes from.")},void 0)]},void 0),(0,pt.V5)(j)?(0,o.jsx)(se,{lang:d,chartData:null==j?void 0:j.value},void 0):re(j)]},void 0)]}),void 0),!x&&(0,o.jsxs)(nt,{children:[(0,o.jsxs)(at,{children:[s("audience_territories"),(0,o.jsx)(ie,{isRTL:$,desc:s("Location distribution of users who watched your videos")},void 0)]},void 0),(0,pt.V5)(k)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(rt,{children:[(0,o.jsx)("p",{children:s("total_audience")},void 0),(0,o.jsx)("span",{children:(0,o.jsx)(X,Object.assign({align:"right",growth:ae.growth,value:ae.valueStr},{children:(0,o.jsxs)(lt,{children:["(",ae.comparisonStr," ",s("compare_1d_ago"),")"]},void 0)}),void 0)},void 0)]},void 0),(0,o.jsx)(se,{lang:d,chartData:k.value},void 0)]},void 0):re(k)]},void 0)]},void 0),(0,o.jsx)(ut,{children:s("Data displays in UTC time zone")},void 0)]},void 0)}),void 0);var me}));var kt=i(33104),Ct=i(12853),wt=i(81578),St=i(23683),Pt=i(83421),Tt=i(23855),It=i(36761),Dt=i(74472),Ot=i(76967),Rt=i(20417),Lt=i(96207),Zt=i(99727),Mt=i(57462),Bt=i(74820),Ft=i(10388),zt=i(56187),At=i(80149),Et=i(79489),Ut=i(66958),Vt=i(48793),$t=i(84475),Wt=i(39973),Gt=i(34447),qt=i(12886),Nt=i(10126),Ht=i(44401),Yt=i(32045),Qt=i(24878),Jt=i(48382);const Kt=(0,o.jsx)(Ft.Z,{width:20,height:20},void 0),Xt=(0,a.memo)((function(e){var t;const i=(0,Bt.u)(),r="rtl"===i.direction,l=(0,R.fz)(Et.p),s=(0,b.Q)(),{itemId:d,teaParams:c}=e,u=(0,qt.V)(d),[p,m]=(0,n.b7)(Ot.A,{selector:e=>e[d],dependencies:[d]}),h=(0,n.mp)(Qt.z,{selector:e=>{var t;return e.users[null!==(t=null==p?void 0:p.author)&&void 0!==t?t:""]},dependencies:[null==p?void 0:p.author]}),[g,v]=(0,a.useState)(!1),{stats:y,digged:f,id:_=""}=null!=p?p:{},{uniqueId:j="",secUid:k}=null!=h?h:{},C=(0,Ut.fH)({uniqueId:j,secUid:k,videoId:_}),{wid:w=""}=null!==(t=(0,de.L)((()=>["wid"]),[]))&&void 0!==t?t:{},T=`https://www.tiktok.com${C}?is_from_webapp=1&sender_device=pc&web_id=${w}`,I=(0,a.useMemo)((()=>(0,Nt.IG)({platform:"copy",url:T})),[T]),D=(0,a.useCallback)((()=>{l.handleShare(Object.assign({platform:"copy",author_id:null==h?void 0:h.id,group_id:d,play_mode:"browser_mode",share_click_from:"short"},c)),I(),x.h.open({content:s("Copied"),duration:1.2,widthType:"half"})}),[I,d,l,s,null==h?void 0:h.id,c]),O=(0,a.useCallback)((()=>{m.postLikeVideo(Object.assign({id:d},c))}),[m,d,c]),L=(0,P.X)({action:O,modalConfig:{query:{enter_method:"click_like"}}}),Z=(0,a.useMemo)((()=>(0,o.jsx)(zt.Z,{fill:f?i.colors.Primary:i.colors.Primary2,width:20,height:20},void 0)),[f,i.colors.Primary,i.colors.Primary2]),M=(0,a.useMemo)((()=>Object.assign({author_id:null==h?void 0:h.id,group_id:d,play_mode:"browser_mode"},c)),[c,d,null==h?void 0:h.id]),{active:B,handleMouseEnter:F,handleMouseLeave:z}=(0,Wt.R)(200),{expanded:A}=(0,Ht.c1)(),E=(0,a.useCallback)((()=>{l.handleSharePanelShow({group_id:d,author_id:null==h?void 0:h.id,share_option_type:A}),F()}),[F,l,d,null==h?void 0:h.id,A]),U=(0,Ht.JW)();(0,a.useEffect)((()=>{U()}),[U]);const V=(0,a.useCallback)((()=>{v(!0)}),[v]),$=(0,a.useCallback)((()=>{v(!1)}),[v]);return(0,o.jsxs)(Jt.wu,{children:[(0,o.jsxs)(Jt.SD,{children:[(0,o.jsxs)(Jt.AZ,{children:[(0,o.jsx)(Vt.t,{styleType:2,text:(0,S.BT)(null==y?void 0:y.diggCount),Icon:Z,onClick:L,e2eTag:"browse-like"},void 0),(0,o.jsx)(Vt.t,{styleType:2,text:(0,S.BT)(null==y?void 0:y.commentCount),Icon:Kt,disabled:!0,e2eTag:"browse-comment"},void 0)]},void 0),(0,o.jsxs)(Jt.AZ,Object.assign({"data-e2e":"browse-share-group"},{children:[(0,o.jsx)(Yt.mB,{videoId:_,enabled:null==p?void 0:p.shareEnabled,mode:0,url:T,embedCode:u,onEmbedModalVisibleChange:e.onEmbedModalVisibleChange,teaParams:M,onSendMessagePanelOpen:V},void 0),(0,o.jsxs)(Jt.no,Object.assign({onMouseEnter:E,onMouseLeave:z},{children:[(0,o.jsx)(At.Z,{width:"16",height:"16"},void 0),(0,o.jsx)($t.G,Object.assign({placement:r?"bottomLeft":"bottomRight",active:B,margin:-12,arrowMargin:12},{children:(0,o.jsx)(Jt.qf,{children:(0,o.jsx)(Yt.mB,{videoId:_,mode:1,url:T,enabled:null==p?void 0:p.shareEnabled,embedCode:u,onEmbedModalVisibleChange:e.onEmbedModalVisibleChange,teaParams:M,onSendMessagePanelOpen:V,from:3},void 0)},void 0)}),void 0)]}),void 0)]}),void 0)]},void 0),(0,o.jsxs)(Jt.cl,{children:[(0,o.jsx)(Jt.ky,{children:T},void 0),(0,o.jsx)(Jt.z5,Object.assign({onClick:D},{children:s("copy_link")}),void 0)]},void 0),g&&(0,o.jsx)(Gt.J,{visible:g,videoId:_,onClose:$},void 0)]},void 0)}));var ei=i(85291),ti=i(65513),ii=i(59151),oi=i(43683),ni=i(75546),ai=i(22509),ri=i(1160),li=i(84785),si=i(88650),di=i(38993),ci=i(80537),ui=i(11838),pi=i(63092);const mi=(0,G.Z)("div",{target:"evv7pft0"})({display:"flex",flexDirection:"row",alignItems:"center",padding:"22px 32px 15px",position:"relative",flex:"0 0 82px"},"label:DivInfoContainer;"),hi=(0,G.Z)("span",{target:"evv7pft1"})((({theme:e})=>(0,q.GI)({theme:e,typography:"P1",fontWeight:"bold",fontFamily:"Sofia"})),"label:SpanUniqueId;");hi.defaultProps=Object.assign(Object.assign({},hi.defaultProps),{"data-e2e":"browse-username"});const gi=(0,G.Z)("span",{target:"evv7pft2"})((({theme:e})=>(0,q.GI)({theme:e,typography:"P3",fontFamily:"Proxima"})),{display:"flex",alignItems:"center"},"label:SpanOtherInfos;");gi.defaultProps=Object.assign(Object.assign({},gi.defaultProps),{"data-e2e":"browser-nickname"});const vi=(0,G.Z)(ui.D,{target:"evv7pft3"})(q.wj,q.gi,{flex:"1 1 auto",":hover":{[`${hi}`]:{textDecoration:"underline"}}},(({theme:{direction:e}})=>(0,q.YJ)({direction:e,marginEnd:"12px"})),"label:StyledLink;"),xi=({theme:{direction:e}})=>[{flex:"0 0 40px",":hover":{[`~ ${vi} ${hi}`]:{textDecoration:"underline"}}},(0,q.YJ)({direction:e,marginEnd:"12px"})],bi=(0,G.Z)(ci.W,{target:"evv7pft6"})({justifySelf:"flex-end","& > svg":{marginRight:"6px"}},"label:StyledFollowButton;");bi.defaultProps=Object.assign(Object.assign({},bi.defaultProps),{"data-e2e":"browse-follow"});var yi=i(87616);const fi=(0,a.memo)((function(e){const{uniqueId:t,videoId:i,teaParams:r}=e,l=(0,n.mp)(Qt.z,{selector:e=>e.users[t],dependencies:[t]}),{t:s,timeTranslator:d}=(0,V.e)(),c=(0,n.mp)(Ot.A,{selector:e=>null==e?void 0:e[i],dependencies:[i]}),{secret:u,forFriend:p,createTime:m,adAuthorization:h}=null!=c?c:{},{showing:g,handleCardEnter:v,handleCardLeave:x,handleItemEnter:b,handleItemLeave:y}=(0,ri.V)(),f=(0,si.zW)(l),{isShowLive:j}=f;(0,si.TB)({isShowLive:j,reportTrigger:j,user:l,enterMethod:j?"video_head_browser":"creator",autoReport:!0,reportValidator:()=>void 0!==(null==l?void 0:l.relation),once:!0});const k=(0,si.CN)(Object.assign({user:l,enterMethod:j?"video_head_browser":"creator"},r)),C=(0,a.useMemo)((()=>Object.assign(Object.assign({},k),{author_id:k.to_user_id,group_id:i})),[k,i]),w=(0,a.useMemo)((()=>{if(l)return Object.assign(Object.assign({},k),{author_id:l.id,to_user_id:l.id,group_id:i,enterMethod:"creator"})}),[l,i,k]);if(!l)return(0,_.G)(["authorInfo"]);const{nickname:S,secUid:P,verified:T}=l,I=function(e){return e?(0,G.Z)(pi.G,{target:"evv7pft4"})(xi):(0,G.Z)(ui.D,{target:"evv7pft5"})(xi)}(j);return(0,o.jsxs)(mi,{children:[(0,o.jsx)(I,Object.assign({uniqueId:t,secUid:P,onMouseEnter:b,onMouseLeave:y,isInBrowserMode:!0,teaParams:C,"data-e2e":"browse-user-avatar",onClick:e.onClick,onLinkClick:e.onLinkClick},{children:(0,o.jsx)(ni.k,Object.assign({needAnimation:!0,liveTheme:2,size:40},f),void 0)}),void 0),(0,o.jsxs)(vi,Object.assign({uniqueId:t,secUid:P,onMouseEnter:b,onMouseLeave:y,isInBrowserMode:!0,teaParams:w,onClick:e.onClick,onLinkClick:e.onLinkClick},{children:[(0,o.jsxs)(hi,{children:[t,T&&(0,o.jsx)(oi.Q,{width:14,height:14,"data-e2e":"browse-bluev"},void 0)]},void 0),(0,o.jsx)("br",{},void 0),(0,o.jsxs)(gi,{children:[S,(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",Object.assign({style:{margin:"0 4px"}},{children:" · "}),void 0),(0,o.jsx)("span",{children:d(1e3*Number(m))},void 0)]},void 0),u&&!h&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",Object.assign({style:{margin:"0 4px"}},{children:" · "}),void 0),(0,o.jsx)(ei.Z,{width:16,height:16,style:{fill:"#121212",opacity:.5,margin:"0 4px"}},void 0),(0,o.jsx)("span",{children:s("video_label_private")},void 0)]},void 0),p&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{children:" · "},void 0),(0,o.jsx)(ti.Z,{style:{margin:"0 4px"},width:20,height:20},void 0),(0,o.jsx)("span",Object.assign({className:"friend"},{children:s("Friends only")}),void 0)]},void 0)]},void 0)]}),void 0),(0,o.jsx)(_i,{author:l,video:c,videoReportParams:r},void 0),g&&(0,o.jsx)(ai.C,{top:30,fixedLeft:32,onMouseEnter:v,onMouseLeave:x,uniqueId:t},void 0)]},void 0)})),_i=function({author:e,video:t,videoReportParams:i}){var a;const r=(0,n.mp)(li.G,{selector:t=>{var i,o;return(null===(o=null===(i=t.appContext)||void 0===i?void 0:i.user)||void 0===o?void 0:o.uniqueId)===e.uniqueId},dependencies:[e.uniqueId]}),l=(0,P.Q)({query:{enter_method:"click_follow"}}),{text:s,handleFollow:d,isFollowing:c,relation:u}=(0,kt.w)({uniqueId:e.uniqueId,onNeedLogin:l,teaParams:Object.assign({group_id:null==t?void 0:t.id},i)});return(null==t?void 0:t.scheduleTime)?(0,o.jsx)(di.Q,{video:t},void 0):r?(0,o.jsx)(yi.C,{videoId:null!==(a=null==t?void 0:t.id)&&void 0!==a?a:""},void 0):(0,o.jsxs)(bi,Object.assign({size:"small",buttonTheme:c?"default":"line",onClick:d},{children:[2===u?(0,o.jsx)(ii.Z,{},void 0):null,s]}),void 0)};var ji=i(97446),ki=i(93583),Ci=i(97801),wi=i(77015);const Si=(0,a.memo)((function(e){var t;const{item:i,teaParams:n,videoReportParams:r}=e,l=(0,b.Q)(),{user:s}=null!==(t=(0,de.L)((()=>["user"]),[]))&&void 0!==t?t:{},d=Boolean(s),{id:c,author:u="",scheduleTime:p}=i,m=(0,kt.p)(null==i?void 0:i.author),{nickname:h=""}=null!=m?m:{},g=(0,a.useMemo)((()=>3===(null==i?void 0:i.itemCommentStatus)||3===(null==m?void 0:m.commentSetting)),[null==m?void 0:m.commentSetting,null==i?void 0:i.itemCommentStatus]),v=(0,a.useMemo)((()=>(0,S.sA)(m,null==s?void 0:s.uid)),[m,null==s?void 0:s.uid]),{isInNewVideoDetail:x}=(0,C.xy)(),y=(0,Ci.Ui)({id:c,needDispose:!x}),f=(0,P.Q)();return p?(0,o.jsxs)(wi.EN,{children:[(0,o.jsx)(fi,{onLinkClick:e.onLinkClick,uniqueId:u,videoId:c,teaParams:n},void 0),(0,o.jsxs)(wi.OH,{children:[(0,o.jsx)(Lt.Q,{onLinkClick:e.onLinkClick,item:i,e2eTag:"browse-video-desc",reportParams:n},void 0),(0,o.jsx)(wi.Gg,{scheduledTime:Number(p),height:22,fontSize:16,iconSize:20,iconMargin:4},void 0)]},void 0),(0,o.jsx)(wi.hh,{},void 0),(0,o.jsx)(wi.TK,{children:(0,o.jsx)(wi.Is,{children:l("scheduled_video_comment_unavailable")},void 0)},void 0)]},void 0):(0,o.jsxs)(wi.EN,{children:[(0,o.jsx)(fi,{onLinkClick:e.onLinkClick,uniqueId:u,videoId:c,teaParams:n},void 0),(0,o.jsxs)(wi.OH,{children:[(0,o.jsx)(Lt.Q,{onLinkClick:e.onLinkClick,item:i,e2eTag:"browse-video-desc",reportParams:n},void 0),(0,o.jsx)(Mt.C,{item:i},void 0),(0,o.jsx)(Zt._,{onLinkClick:e.onLinkClick,styleType:1,item:i,e2eTag:"browse-music",teaParams:n},void 0),(0,o.jsx)(Xt,{itemId:c,onEmbedModalVisibleChange:e.onEmbedVisibleChange,teaParams:n},void 0)]},void 0),g?(0,o.jsx)(wi.Is,Object.assign({"data-e2e":"comment-turned-off"},{children:l("comment_off")}),void 0):(0,o.jsx)(ji.$,{itemId:c,disableReply:v,ref:y,teaParams:n},void 0),d&&!g&&(0,o.jsx)(wi.TK,{children:v?(0,o.jsx)("div",{children:l("comment_disable_notfollow").replace("%@",h)},void 0):(0,o.jsx)(ki._,{itemId:c,teaParams:r},void 0)},void 0),!d&&(0,o.jsx)(wi.TK,Object.assign({onClick:f},{children:(0,o.jsx)(wi.Vk,{children:"Please log in to comment"},void 0)}),void 0)]},void 0)}));var Pi=i(46562),Ti=i(23028),Ii=i(75595),Di=i(76985),Oi=i(17118),Ri=i(70643),Li=i(2218);const Zi=(0,a.memo)((function(e){var t,i,r;const l=(0,a.useRef)(null),s=(0,a.useRef)(null),d=(0,a.useRef)(null),c=(0,a.useRef)(null),[u,p]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!1),[g,v]=(0,a.useState)(!0),{direction:x}=(0,Bt.u)(),b=(0,a.useRef)("0"),{abTestVersion:y,user:_}=null!==(t=(0,de.L)((()=>["abTestVersion","user"]),[]))&&void 0!==t?t:{},[{duration:j,videoPercent:k,currentTime:C}]=(0,n.b7)(O.M,{selector:t=>t[e.vid]?t[e.vid]:{duration:0,videoPercent:0,currentTime:0},dependencies:[e.vid]}),w=(0,Ti.x)(y,"seekbar_persistent_and_tooltip_test"),S="v1"!==w,P=(0,Ti.x)(y,"seekbar_theme_test"),{vid:T,seek:I,videoRef:D,progressReportCallback:R,extraBottomSpace:L=!1,isXgPlayer:Z,isBrowserMode:M}=e;(0,a.useEffect)((()=>{b.current=T}),[T]);const{percent:B,bindDrag:F,seek:z}=(0,Ii.S)({direction:x,progressRef:s,circleRef:d,barRef:c,initialPercent:0,draggingStateCb:p,draggingPercentCb:I,progressReportCallback:R});(0,a.useEffect)((()=>{var e,t;null===(e=D.current)||void 0===e||e.onSeeked((()=>{setTimeout((()=>{h(!1)}),0)})),null===(t=D.current)||void 0===t||t.onSeeking((()=>{h(!0)}))}),[D.current,h]),(0,a.useEffect)((()=>{var e;"v3"===w&&(null===(e=D.current)||void 0===e?void 0:e.currentCanPlay)&&v((0,Ri.Z)(`${null==_?void 0:_.uid}`))}),[null===(i=D.current)||void 0===i?void 0:i.currentCanPlay]);const A=(0,a.useCallback)((()=>{(0,Ri.j)(`${null==_?void 0:_.uid}`)}),[null==_?void 0:_.uid]),E=(0,a.useCallback)((()=>{(0,Ri.Z)(`${null==_?void 0:_.uid}`)||A(),g||v(!0)}),[null==_?void 0:_.uid,A,g]);if(0===C||!(null===(r=null==D?void 0:D.current)||void 0===r?void 0:r.currentCanPlay)&&Z&&M)return null;const U=u||m?B:k,V="ltr"===x?{left:`calc(${100*U}%)`}:{right:`calc(${100*U}%)`};return(0,o.jsx)(Oi.H,Object.assign({visible:!g,text:"webapp_seekbar_tooltip",onShow:A},{children:(0,o.jsxs)(Li.ov,Object.assign({show:u||S,extraBottomSpace:L,onMouseDown:f.UW,onClick:E},{children:[(0,o.jsxs)(Li.yx,Object.assign({ref:l},{children:[(0,o.jsx)(Li.MT,{ref:s,onClick:z,onMouseDown:F},void 0),(0,o.jsx)(Li.FL,{ref:d,style:V,onMouseDown:F},void 0),(0,o.jsx)(Li.$_,{backgroundTheme:"v2"===P?"primary":void 0,ref:c,style:{transform:`scaleX(${U}) translateY(-50%)`},onClick:z,onMouseDown:F},void 0)]}),void 0),(0,o.jsx)(Li.F7,{children:"ltr"===x?`${(0,Di.x)(C)}/${(0,Di.x)(j)}`:`${(0,Di.x)(j)}/${(0,Di.x)(C)}`},void 0)]}),void 0)}),void 0)}));var Mi=i(14563),Bi=i(88671),Fi=i(16929),zi=i(41273);const Ai=(0,a.memo)((function(){var e;const t=(0,a.useRef)(null),i=(0,a.useRef)(null),n=(0,a.useRef)(null),r=(0,a.useRef)(!0),[l,s]=(0,a.useState)(!1),{mute:d,volume:c,setVolume:u}=(0,k.DZ)(),{abTestVersion:p}=null!==(e=(0,de.L)((()=>["abTestVersion"]),[]))&&void 0!==e?e:{},m=(0,Ti.x)(p,"seekbar_theme_test"),h=(0,a.useCallback)(((e,t)=>{Mi.$.handleSwitchSound({playMode:2,volume_from:e,volume_to:t}),Mi.$.handleVolumeChange({volume_to:c,click_mute:!0})}),[c]),g=(0,a.useRef)(d);(0,a.useEffect)((()=>{g.current=d}),[d]);const{percent:v,bindDrag:x,seek:b,update:y}=(0,Ii.S)({direction:"vertical",progressRef:t,circleRef:i,barRef:n,initialPercent:c,draggingStateCb:s,progressReportCallback:h}),_=(0,Bi.fB)((e=>{r.current?r.current=!1:u(e,g.current)}),[u],160);(0,a.useEffect)((()=>_(v)),[v]),(0,a.useEffect)((()=>{d||c!==Fi.G||y(Fi.G)}),[d,c,y]);const j=d?0:v,C=0===j?8:72*j;return(0,o.jsxs)(zi.nW,Object.assign({dragging:l,onClick:f.UW},{children:[(0,o.jsx)(zi.CY,{ref:t,onClick:b,onMouseDown:x},void 0),(0,o.jsx)(zi.tP,{ref:i,style:{transform:`translateY(-${C}px)`},onMouseDown:x},void 0),(0,o.jsx)(zi.SM,{backgroundTheme:"v2"===m?"primary":void 0,ref:n,style:{transform:`scaleY(${j})`},onClick:b,onMouseDown:x},void 0)]}),void 0)})),Ei=(0,a.memo)((function({itemListKey:e,currentIndex:t,needUrlDelegate:i=!0,onCloseBrowserMode:r,onNextVideo:l,onPrevVideo:s,teaParams:d,onJumpSamePage:R}){var L,Z,M,B,F;const z=(0,b.Q)(),{user:A}=null!==(L=(0,de.L)((()=>["user"]),[]))&&void 0!==L?L:{},[E,U]=(0,a.useState)(!1),V=(0,a.useRef)(!1),$=(0,a.useRef)(null),W=(0,a.useRef)(!1),{mute:G,setMute:q}=(0,k.s_)(2),{isUseNativePlayer:N}=(0,C.It)(),H=(0,a.useCallback)(((e,t="click")=>{e.preventDefault(),e.stopPropagation(),q(!G,t)}),[G,q]),Y=(0,n.mp)(Dt.h,{selector:i=>{const o=i[null!=e?e:""];return o?{id:o.browserList[t],listLength:o.browserList.length}:null},dependencies:[e,t]}),[Q,J]=(0,n.b7)(Ot.A,{selector:e=>{var t;return e[null!==(t=null==Y?void 0:Y.id)&&void 0!==t?t:""]},dependencies:[Y]}),K=null!==(Z=null==Q?void 0:Q.id)&&void 0!==Z?Z:"",X=(0,kt.p)(null==Q?void 0:Q.author),ee=null!==(M=null==Q?void 0:Q.downloadSetting)&&void 0!==M?M:0,te=null!==(B=null==Q?void 0:Q.authorPrivate)&&void 0!==B&&B;(0,Ci.xf)({author:X,item:Q,currentIndex:t,itemListKey:e,needUrlDelegate:i,onCloseBrowserMode:r});const ie=null!==(F=null==Y?void 0:Y.listLength)&&void 0!==F?F:0,oe=t<ie-1,ne=(0,a.useCallback)(((e="click")=>{J.postLikeVideo(Object.assign({id:K,enter_method:e},d))}),[J,K,d]),ae=(0,P.X)({action:ne,modalConfig:{query:{enter_method:"click_like"}}}),re=(0,n.mp)(j.bg,{selector:e=>e.blockedVideos||[],dependencies:[]}),le=(0,n.qj)(j.bg),se=(0,a.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),Q&&le.removeBlockVideo(Q.id)}),[le,Q]),[ce,ue]=(0,a.useState)(!1);(0,a.useEffect)((()=>{ue(!0)}),[]);const{showVideoMask:pe,maskType:me,videoMaskTitle:he,videoMaskDesc:ge,icon:ve,videoMaskFirstButtonText:xe,videoMaskSecondButtonText:be}=(0,Ct.g)({playMode:2,item:null!=Q?Q:{},isLogin:Boolean(A)}),[{photoSensitiveVideosSetting:ye,hideMaskTempVideoId:fe},_e]=(0,n.b7)(wt.P),je=pe&&fe!==K,{handleLinkClick:ke,handleClose:Ce,handleNext:we,handlePrev:Se,preventDefault:Pe,videoPlayerRef:Te,togglePlay:Ie,isInputEmpty:De,showLeaveModal:Oe,handleConfirmLeave:Re,handleCancelLeave:Le}=(0,Ci.q5)({onCloseBrowserMode:r,onNextVideo:l,onPrevVideo:s,pause:E,shouldPause:je,setPause:e=>{U(e),V.current=e},embedVisibleRef:W,group_id:K,handleLikeClick:ae,author_id:null==Q?void 0:Q.authorId,itemListKey:e,onJumpSamePage:R}),Ze=(0,a.useCallback)((()=>{U(!0),V.current=!0}),[]),Me=(0,a.useRef)(!1),Be=(0,a.useCallback)((e=>{var t,i;null===(i=null===(t=Te.current)||void 0===t?void 0:t.seek)||void 0===i||i.call(t,e)}),[Te]),Fe=(0,a.useCallback)((()=>{Me.current=!0,setTimeout((()=>{Me.current=!1}),500)}),[]),ze=(0,a.useCallback)((()=>{Me.current&&(Ie(),Me.current=!1)}),[Ie]);(0,Ci._0)({showLeaveModal:Oe,group_id:K});const Ae=(0,P.X)({action:(0,a.useCallback)((e=>{if(!Me.current)return;const{clientX:t,clientY:i}=e;new T.B(t,i).emit(),J.postLikeVideo({id:K,forceLike:!0}),Me.current=!1}),[K,J])}),Ee=(0,y.D)((()=>({onClick:ze,onDoubleClick:Ae})),[Ae,ze]),Ue=(0,It.Q)({item:Q,onShow:f.NS}),Ve=(0,a.useCallback)((e=>{W.current=e}),[]),$e=G?c.Z:u.Z,We=(0,Ci.om)({handleNext:we,handlePrev:Se,hasNext:oe,currentIndex:t,itemListKey:e});(0,k.$v)(2);const{showModal:Ge,hideModal:qe}=(0,w.J)();(0,a.useEffect)((()=>(Ge(!0),()=>{qe()})),[qe,Ge]),(0,a.useEffect)((()=>{var e,t;Q&&re.includes(Q.id)&&(null===(t=null===(e=Te.current)||void 0===e?void 0:e.pause)||void 0===t||t.call(e))}),[re,Q,Te]),(0,a.useEffect)((()=>{var e;(null==Q?void 0:Q.video)||r({playProgress:null===(e=Te.current)||void 0===e?void 0:e.currentTime})}),[Q,r,Te]);const{showAnalyticsButton:Ne,showAnalyticsModal:He,handleOpenAnalyticsModal:Ye,handleCloseAnalyticsModal:Qe}=(0,Ci.zX)(Q),Je=(0,a.useMemo)((()=>{const{video:{bitrate:e=-1,encodedType:t="",format:i="",videoQuality:o="",encodeUserTag:n="",codecType:a="",definition:r=""}={},authorId:l="",id:s="",scheduleTime:c}=null!=Q?Q:{},u=Object.assign({author_id:l,group_id:s,is_scheduled:Boolean(c),bitrate:Number(e),encodedType:t,format:i,videoQuality:o,encodeUserTag:n,codecType:a,definition:r},d);return $.current=u,u}),[Q,d]),Ke=(0,a.useCallback)(((e,t)=>{var i,o;g.Z.handleSeekBarClick(Object.assign({fromPercent:e,toPercent:t,video_length:null!==(o=null===(i=Te.current)||void 0===i?void 0:i.duration)&&void 0!==o?o:0,is_pause:V.current,play_mode:"browser_mode"},$.current))}),[Te]),Xe=(0,n.qj)(O.M),et=(0,a.useCallback)((e=>{var t,i,o;const n=null===(t=Te.current)||void 0===t?void 0:t.duration;Xe.setVideoInfo({videoId:K,videoPercent:e,currentTime:null!==(o=null===(i=Te.current)||void 0===i?void 0:i.currentTime)&&void 0!==o?o:0,duration:n})}),[K,Xe,Te]),tt=(0,a.useRef)(-1),it=(0,a.useRef)(void 0),ot=(0,a.useRef)(-1),nt=(0,a.useRef)(0),at=(0,a.useCallback)((()=>{clearTimeout(ot.current),nt.current=0}),[]),[rt,lt]=(0,n.b7)(Pt.f,{selector:e=>{var t;return Number(null===(t=e.currentVideo)||void 0===t?void 0:t.index)},dependencies:[]}),st=(0,a.useRef)(!1);(0,a.useEffect)((()=>{var e,i,o,n,a,r;je||(lt.updateVideo({currentVideo:{id:K,index:t,mode:2},playProgress:null!==(i=null===(e=Te.current)||void 0===e?void 0:e.currentTime)&&void 0!==i?i:0}),null===(n=null===(o=Te.current)||void 0===o?void 0:o.play)||void 0===n||n.call(o),at()),t!==tt.current&&(-1!==tt.current&&(_e.setHideMaskTempVideoId(""),ce&&ue(!1),st.current=!1),at(),void 0===ye&&"photo_sensitive"===it.current&&_e.setSkipPhotoSensitive(!1),pe?("photo_sensitive_denied"===me?v.W.handleShowPhotosensitiveRemoved({group_id:K}):v.W.handleShowMaskLayer({scenario:"general_sensitive"===me?"general":"photosensitive",group_id:K}),ot.current=window.setInterval((()=>{var e,t,i;nt.current++>100&&at(),(null===(e=Te.current)||void 0===e?void 0:e.currentCanPlay)&&(null===(i=(t=Te.current).pause)||void 0===i||i.call(t),at())}),50)):null===(r=null===(a=Te.current)||void 0===a?void 0:a.play)||void 0===r||r.call(a),tt.current=t,it.current=me)}),[pe,je,Te,t,me,_e,ye,at,ce,fe,K,lt]);const dt=(0,a.useCallback)((e=>{Ce(e),at()}),[Ce,at]),ct=(0,a.useCallback)((e=>{if((0,f.NS)(e),"general_sensitive"===me){if(st.current)return;oe?we(e):ie>1?Se(e):Ce(e),v.W.handleMaskLayerClickSkip({scenario:"general",group_id:K}),x.h.open({content:z("photosensitive_skepped_toast"),duration:3,widthType:"half"}),st.current=!0}else _e.setSkipPhotoSensitive(!1),at(),v.W.handleMaskLayerClickWatch({scenario:"photosensitive",group_id:K})}),[me,oe,ie,z,we,Se,Ce,_e,at,K]),ut=(0,a.useCallback)((e=>{if((0,f.NS)(e),"general_sensitive"===me)_e.setHideMaskTempVideoId(K),at(),v.W.handleMaskLayerClickWatch({scenario:"general",group_id:K});else{if(st.current)return;oe?we(e):1===ie?(null==A?void 0:A.uid)===(null==Q?void 0:Q.authorId)&&Ce(e):Se(e),_e.setSkipPhotoSensitive(!0),v.W.handleMaskLayerClickSkip({scenario:"photosensitive",group_id:K}),x.h.open({content:z("photosensitive_skepped_toast"),duration:3,widthType:"half"}),st.current=!0}}),[me,_e,K,at,oe,z,we,ie,null==A?void 0:A.uid,null==Q?void 0:Q.authorId,Ce,Se]),pt=(0,a.useRef)(null),mt=(0,a.useRef)([]),ht=(0,a.useRef)(-1),gt=(0,a.useRef)((new Date).getTime()),vt=(0,a.useCallback)((e=>{(0,f.NS)(e),ht.current&&clearTimeout(ht.current),ht.current=window.setTimeout((()=>{mt.current=[]}),400);const t=(new Date).getTime(),i=e.wheelDelta||-e.deltaY||-e.detail,o=Math.max(-1,Math.min(1,i)),n=t-gt.current;mt.current=[...mt.current,Math.abs(i)],gt.current=t,n>400&&1===mt.current.length&&(o<0?we(e,"scroll"):Se(e,"scroll"))}),[we,Se]),{video:xt,stats:bt,createTime:yt,video:{cover:ft,playAddr:_t="",width:Lt=1,height:Zt=1},id:Mt,itemMute:Bt,warnInfo:Ft,scheduleTime:zt}=(0,S.m7)(Q),At=(Lt/Zt||1)>=1,Et=Boolean(null==Ft?void 0:Ft[0])||Boolean(zt),Ut=(0,a.useMemo)((()=>({video:xt,stats:bt,author:X,create_time:Number(yt),aweme_id:Mt})),[X,yt,Mt,bt,xt]);return(null==Q?void 0:Q.video)?(0,o.jsxs)(Pi.E9,{children:[(0,o.jsxs)(Pi.ik,Object.assign({onWheel:vt,ref:pt,onClick:Ee,onMouseDown:Fe},{children:[(0,o.jsx)(Pi.lI,{style:{backgroundImage:`url(${ft})`}},void 0),(0,o.jsxs)(Pi.L7,{children:[(0,o.jsx)(Tt.S,{poster:ft,horizontal:At,mode:2,ref:Te,desc:Q.desc,id:Mt,playUrl:_t,index:t,itemMute:Boolean(Bt),teaParams:Je,onVideoError:Ze,onTimeUpdate:et,e2eTag:"browse-video",disableDownload:te||0!==ee},Mt),(0,o.jsx)(Zi,{seek:Be,videoRef:Te,vid:Mt,progressReportCallback:Ke,extraBottomSpace:Et,isXgPlayer:!N,isBrowserMode:!0},void 0),(0,o.jsx)(Li.Am,{onMouseDown:f.UW},void 0),(0,o.jsx)(Li.Gb,{onMouseDown:f.UW},void 0),re.includes(Q.id||"")?(0,o.jsx)(Pi.qq,{children:(0,o.jsxs)(Pi.uc,{children:[(0,o.jsx)(Pi.Vz,{children:(0,o.jsx)(p.Z,{width:40,height:40},void 0)},void 0),(0,o.jsx)(Pi.Eb,{children:z("Web_report_thanks_for_report")},void 0),(0,o.jsx)(Pi.vN,{children:z("Web_report_hide_video")},void 0),(0,o.jsx)(Pi.b7,Object.assign({onClick:se},{children:z("Web_report_show_video")}),void 0)]},void 0)},void 0):null,je&&(0,o.jsx)(St.a,{playMode:2,icon:ve,title:he,desc:ge,firstButtonText:xe,secondButtonText:be,onClickFirstButton:ct,onClickSecondButton:ut},void 0)]},void 0),E&&(0,o.jsx)(Pi.Sd,Object.assign({viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:70,height:70,fill:"#fff"},{children:(0,o.jsx)("use",{xlinkHref:"#svg-play-fill"},void 0)}),void 0),(0,o.jsx)(Pi.Sf,Object.assign({onClick:dt,onMouseDown:f.UW},{children:(0,o.jsx)(m.Z,{width:18,height:18,fill:"#fff"},void 0)}),void 0),(0,o.jsx)(Pi.ps,{width:40,height:40,onClick:Pe},void 0),(0,o.jsxs)(Pi.oT,Object.assign({widerBottom:Et,onMouseDown:f.UW},{children:[(0,o.jsx)(Ai,{},void 0),(0,o.jsx)(Pi.sL,Object.assign({onClick:H,widerBottom:Et},{children:(0,o.jsx)($e,{width:40,height:40,fill:"none"},void 0)}),void 0)]}),void 0),We,(0,o.jsxs)(Pi.Q9,Object.assign({onClick:Ue},{children:[(0,o.jsx)(Pi.Y1,Object.assign({viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:16,height:15},{children:(0,o.jsx)("use",{xlinkHref:"#svg-flag"},void 0)}),void 0),z("Report")]}),void 0),Ne&&!zt&&(0,o.jsxs)(Pi.oH,Object.assign({onClick:Ye},{children:[(0,o.jsx)(h.Z,{width:20,height:20,fill:"#fff",style:{marginInlineEnd:"6px"}},void 0),z("view_analytics")]}),void 0),(null==Ft?void 0:Ft[0])&&(0,o.jsx)(Pi.zo,{children:(0,o.jsx)(I.p,{info:Ft[0]},void 0)},void 0),Boolean(zt)&&(0,o.jsx)(Pi.zo,{children:(0,o.jsx)(D.W,{isTextAlignStart:!0,scheduledTime:Number(zt),height:56,fontSize:14,iconSize:18.33,iconMargin:4.83},void 0)},void 0)]}),void 0),(0,o.jsx)(Si,{item:Q,teaParams:d,onLinkClick:ke,onEmbedVisibleChange:Ve,videoReportParams:Je},void 0),(0,o.jsx)(Rt.S,{visible:Oe,needLeaveCheck:!De,onConfirmLeave:Re,onCancelLeave:Le},void 0),(0,o.jsx)(jt,{id:Mt,videoInfo:Ut,show:He,onClose:Qe},void 0)]},void 0):(0,_.G)(["item.video"])}));function Ui(e,t=!0){return function(i){const c=l=>{const{closeBrowserMode:c,isBrowserModeShowing:u,showBrowserMode:p,teaParams:m}=(0,s.J)(),[h,g]=(0,n.b7)(d.O),v=(0,r.k6)(),x=(0,a.useCallback)((({playProgress:e,fromPopState:i,shouldPause:o}={})=>{!i&&t&&v.goBack(),c({playProgress:e,shouldPause:o})}),[c,v]),b=(0,a.useCallback)((()=>{g.clickSamePage()}),[g]),y=(0,a.useCallback)((()=>(u&&c(void 0),!0)),[c,u]);(0,a.useEffect)((()=>{g.setItemListKey(e)}),[g]);const f=(0,a.useMemo)((()=>({closeBrowserMode:c,showBrowserMode:p,isBrowserModeShowing:u})),[c,u,p]);return(0,o.jsxs)(s._.Provider,Object.assign({value:f},{children:[(0,o.jsx)(i,Object.assign({},l),void 0),(0,o.jsx)(r.NL,{message:y},void 0),Boolean(u)&&(0,o.jsx)(Ei,{itemListKey:h.itemListKey,currentIndex:h.currentIndex,onNextVideo:g.handleNextVideo,onPrevVideo:g.handlePrevVideo,needUrlDelegate:t,onCloseBrowserMode:x,teaParams:m,onJumpSamePage:b},void 0)]}),void 0)};return c.displayName=`WithBrowserMode(${(0,l.i)(i)})`,c}}},97801:(e,t,i)=>{i.d(t,{xf:()=>O,q5:()=>L,Ui:()=>Z,_0:()=>M,om:()=>B,zX:()=>F,AS:()=>z});var o,n=i(11040),a=i(9236),r=i(40316),l=i.n(r),s=i(53586),d=i.n(s),c=i(90293),u=i(91051),p=i(21041),m=i(39903),h=i(29046),g=i(12285),v=i(58500),x=i(26802),b=i(66958),y=i(15073),f=i(14870),_=i(53304),j=i(93328),k=i(34708),C=i(61453),w=i(33104),S=i(74472),P=i(67862),T=i(19330),I=i(52053),D=i(46562);function O({itemListKey:e,item:t,author:i,needUrlDelegate:o,onCloseBrowserMode:n}){const{search:a}=(0,p.TH)(),r=(0,p.k6)(),s=(0,u.useRef)(!1);(0,u.useEffect)((()=>{const e=()=>{n({fromPopState:!0})};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}}),[]),(0,u.useEffect)((()=>{if(!t||!e||!o)return;const{scheduleTime:n,id:r,author:d=""}=t,u=n?(0,b.yl)({uniqueId:d,secUid:null==i?void 0:i.secUid}):(0,c.stringifyUrl)({url:(0,b.fH)({uniqueId:d,videoId:r,secUid:null==i?void 0:i.secUid}),query:Object.assign(Object.assign({},l()((0,c.parse)(a),"sender_device","sender_web_id","item_id")),{is_from_webapp:"v1",is_copy_url:"1"})},{skipNull:!0});s.current?window.history.replaceState(window.history.state,"video-detail",u):(window.history.pushState(window.history.state,"video-detail",u),s.current=!0)}),[null==i?void 0:i.secUid,r,t,e,o,a])}!function(e){e[e.Null=0]="Null",e[e.Close=1]="Close",e[e.Prev=2]="Prev",e[e.Next=3]="Next",e[e.Redirect=4]="Redirect"}(o||(o={}));const R=e=>{null==e||e.preventDefault(),null==e||e.stopPropagation()};function L({onCloseBrowserMode:e,onNextVideo:t,onPrevVideo:i,pause:o,setPause:n,embedVisibleRef:r,group_id:l,handleLikeClick:s,author_id:d,itemListKey:c,onJumpSamePage:m,shouldPause:x}){const[b,_]=(0,u.useState)(!1),[k,w]=(0,u.useState)(0),[{isInputEmpty:S,noReplyUser:T},{setNeedClearInput:I}]=(0,a.b7)(P.p,{selector:({isInputEmpty:e,reply:t})=>({isInputEmpty:e,noReplyUser:0===t.nickname.length}),dependencies:[]}),{mute:D,setMute:O}=(0,f.s_)(2),L=(0,u.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),O(!D,"keydown")}),[D,O]),{enhanceVideoConsumptionVersion:Z="v1"}=(0,j.m)(),M=["v2","v3"].includes(Z),B=(0,a.mp)(y.bg,{selector:({showing:e})=>e,dependencies:[]}),F=(0,a.mp)(C.r,{selector:e=>e.isOpen,dependencies:[]}),z=(0,u.useRef)(null),A=(0,u.useCallback)((()=>{var e,t,i,a;o?null===(t=null===(e=z.current)||void 0===e?void 0:e.play)||void 0===t||t.call(e):null===(a=null===(i=z.current)||void 0===i?void 0:i.pause)||void 0===a||a.call(i),n(!o)}),[o,n]),{pathname:E}=(0,p.TH)(),U=(0,p.k6)(),V=(0,u.useCallback)((t=>{var i;R(t),S&&T?e({playProgress:null===(i=z.current)||void 0===i?void 0:i.currentTime,shouldPause:x}):(w(1),_(!0))}),[S,T,x,e]),$=(0,u.useRef)(""),W=(0,u.useCallback)(((e,t)=>{if(t.includes(E)&&E!==h.Ad.home)return V(e),void m();S&&T||(R(e),w(4),_(!0),$.current=t)}),[V,S,T,E,m]),G=(0,u.useCallback)(((e,i="click")=>{if(e&&R(e),S&&T){t(),n(!1);const e={enter_method:i,play_mode:"browser_mode",group_id:l,author_id:d,skipped_group_num:0,skipped_group_ids:""};g.r.handleVideoChange(e,"next"),"foryou"===c&&g.r.handleHotVideoChange(e,"next")}else w(3),_(!0)}),[S,T,t,n,l,d,c]),q=(0,u.useCallback)(((e,t="click")=>{if(e&&R(e),S&&T){i(),n(!1);const e={enter_method:t,play_mode:"browser_mode",group_id:l,author_id:d,skipped_group_num:0,skipped_group_ids:""};g.r.handleVideoChange(e,"prev"),"foryou"===c&&g.r.handleHotVideoChange(e,"prev")}else w(2),_(!0)}),[S,T,i,n,l,d,c]),N=(0,u.useCallback)((e=>{if(27!==e.keyCode&&["input","textarea"].includes(e.target.tagName.toLocaleLowerCase())||"true"===e.target.getAttribute("contenteditable")||F)return;const t=new Map([[27,()=>{B||r.current||V(e)}],[40,()=>{M&&G(e,"keydown")}],[32,()=>{A()}],[39,()=>{M||G(e,"keydown")}],[38,()=>{M&&q(e,"keydown")}],[37,()=>{M||q(e,"keydown")}],[76,()=>{"v3"===Z&&s("keydown")}],[77,()=>{"v3"===Z&&L(e)}]]),{keyCode:i}=e;t.has(i)&&(e.preventDefault(),t.get(i)())}),[r,V,s,G,q,L,F,B,M,A,Z]),H=(0,u.useCallback)((()=>{var o;switch(k){case 1:e({playProgress:null===(o=z.current)||void 0===o?void 0:o.currentTime,shouldPause:x});break;case 2:i(),n(!1);break;case 3:t(),n(!1);break;case 4:$.current&&U.push($.current)}_(!1),I(!0),v.y.handleLeaveComment({group_id:l})}),[k,l,U,x,e,t,i,I,n]),Y=(0,u.useCallback)((()=>{w(0),_(!1),v.y.handleKeepComment({group_id:l})}),[l]);return(0,u.useEffect)((()=>(document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",N)})),[N]),{handleLinkClick:W,handleClose:V,handleNext:G,handlePrev:q,preventDefault:R,togglePlay:A,videoPlayerRef:z,showLeaveModal:b,isInputEmpty:S,handleConfirmLeave:H,handleCancelLeave:Y}}function Z({id:e,needDispose:t=!0}){const i=(0,a.qj)(T.x),o=(0,u.useRef)(null),n=(0,u.useCallback)((()=>{i.fetchComment({aweme_id:e})}),[i,e]);return(0,u.useEffect)((()=>()=>{t&&(i.dispose$(),i.setCommentItem({awemeId:""}))}),[i,t]),(0,_.s)({elemRef:o,onHitBottom:n,bottomThreshold:200,throttle:200}),o}function M({showLeaveModal:e,group_id:t}){(0,u.useEffect)((()=>{e&&v.y.handleClose({group_id:t})}),[t,e]),(0,u.useEffect)((()=>()=>{v.y.handleClose({group_id:t})}),[t])}const B=({currentIndex:e,handlePrev:t,hasNext:i,handleNext:o,itemListKey:a})=>{const{isEnhanceVideoConsumptionV1:r,enhanceVideoConsumptionVersion:l}=(0,j.m)(),s=(0,u.useCallback)(d()((e=>{a&&e.srcElement.classList.value.includes("BasicVideo")&&(e.deltaY>=1?o(e,"scroll"):e.deltaY<=-1&&t(e,"scroll"))}),100),[o,t]);return(0,u.useEffect)((()=>("v3"===l&&window.addEventListener("wheel",s),()=>{"v3"===l&&window.removeEventListener("wheel",s)}))),r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(D.o1,Object.assign({disabled:0===e,isPrev:!0,onClick:t,"data-e2e":"arrow-left"},{children:(0,n.jsx)(m.Z,{width:26,height:26,fill:"#fff"},void 0)}),void 0),(0,n.jsx)(D.o1,Object.assign({disabled:!i,isPrev:!1,onClick:o,"data-e2e":"arrow-right"},{children:(0,n.jsx)(m.Z,{width:26,height:26,fill:"#fff"},void 0)}),void 0)]},void 0):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(D.He,Object.assign({disabled:0===e,isPrev:!0,onClick:t,isUpAndDown:!r,"data-e2e":"arrow-left"},{children:(0,n.jsx)(m.Z,{width:26,height:26,fill:"#fff"},void 0)}),void 0),(0,n.jsx)(D.He,Object.assign({disabled:!i,isPrev:!1,onClick:o,isUpAndDown:!r,"data-e2e":"arrow-right"},{children:(0,n.jsx)(m.Z,{width:26,height:26,fill:"#fff"},void 0)}),void 0)]},void 0)},F=e=>{var t,i;let o=!0;const n=(0,w.p)(null==e?void 0:e.author),{user:a={}}=null!==(t=(0,k.L)((()=>["user"]),[]))&&void 0!==t?t:{},[r,l]=(0,u.useState)(!1),s=(0,u.useCallback)((e=>{e.stopPropagation(),x.F.handleClickAnalyticsButton(),l(!0)}),[]),d=(0,u.useCallback)((()=>{l(!1)}),[]);a||(o=!1);const{secUid:c,analyticsOn:p}=null!=a?a:{};return c===(null!==(i=null==n?void 0:n.secUid)&&void 0!==i?i:"")&&p||(o=!1),{showAnalyticsButton:o,showAnalyticsModal:r,handleOpenAnalyticsModal:s,handleCloseAnalyticsModal:d}};function z(e,t){const{listLength:i,statusCode:o}=(0,a.mp)(S.h,{selector:t=>{var i,o,n;return{listLength:null!==(o=null===(i=t[e])||void 0===i?void 0:i.list.length)&&void 0!==o?o:0,statusCode:null===(n=t[e])||void 0===n?void 0:n.statusCode}},dependencies:[]}),n=(0,a.mp)(I.O,{selector:e=>e.currentIndex,dependencies:[]});(0,u.useEffect)((()=>{0===o&&(!i||i-n<=3)&&t()}),[n,t,i,o])}},46562:(e,t,i)=>{i.d(t,{b7:()=>f,sL:()=>F,oH:()=>U,lI:()=>_,TK:()=>L,E9:()=>m,lk:()=>O,Is:()=>h,qq:()=>g,uc:()=>v,vN:()=>y,Vz:()=>x,Eb:()=>b,Q9:()=>Z,ik:()=>A,L7:()=>j,oT:()=>z,zo:()=>E,o$:()=>R,Sf:()=>w,hy:()=>D,ps:()=>S,o1:()=>P,He:()=>T,Y1:()=>M,Sd:()=>k});var o,n,a=i(32913),r=i(56277),l=i(27918),s=i(91051);function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},d.apply(this,arguments)}const c=function(e){return s.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 48 48",width:"1em",height:"1em"},e),o||(o=s.createElement("g",{fillRule:"evenodd",clipPath:"url(#logo-icon_svg__a)",clipRule:"evenodd"},s.createElement("path",{fill:"#000",d:"M0 36c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12V12c0-6.628-5.373-12-12-12H12C5.373 0 0 5.372 0 12v24z"}),s.createElement("path",{fill:"#25F4EE",d:"M30.636 6.288A9.23 9.23 0 0130.35 4h-6.97v26.133c0 3.014-2.056 5.457-5.062 5.457-3.006 0-5.443-2.443-5.443-5.456 0-3.014 2.437-5.457 5.443-5.457.6 0 .797.098 1.337.278v-7.051c-.562-.079-.754-.12-1.337-.12C11.515 17.785 6 23.315 6 30.135c0 6.82 5.515 12.349 12.318 12.349 6.708 0 12.357-5.375 12.51-12.062V17.049c2.528 1.733 5.395 2.746 8.689 2.746V13.19c-4.275 0-7.866-2.933-8.88-6.902z"}),s.createElement("path",{fill:"#fff",d:"M33.12 8.77a9.23 9.23 0 01-.287-2.288h-6.971v26.134c0 3.014-2.055 5.456-5.061 5.456s-5.443-2.442-5.443-5.456a5.45 5.45 0 015.443-5.456c.6 0 .797.097 1.337.277v-7.05c-.562-.08-.754-.12-1.337-.12-6.803 0-12.318 5.529-12.318 12.349S13.998 44.965 20.8 44.965c6.707 0 12.357-5.374 12.51-12.062V19.531c2.528 1.733 5.395 2.747 8.689 2.747v-6.606c-4.275 0-7.866-2.933-8.88-6.901z"}),s.createElement("path",{fill:"#FE2C55",d:"M15.92 35.033a5.446 5.446 0 01-.562-2.416c0-3.014 2.437-5.457 5.443-5.457.523 0 .739.074 1.143.212l.194.066v-7.051l-.21-.03c-.411-.059-.623-.09-1.127-.09-.386 0-.769.018-1.146.053v4.635l-.194-.066c-.404-.138-.62-.212-1.143-.212-3.006 0-5.443 2.443-5.443 5.457a5.46 5.46 0 003.045 4.9zm-4.972 4.997a12.29 12.29 0 009.853 4.935c6.707 0 12.357-5.374 12.51-12.061V19.532c2.528 1.733 5.395 2.746 8.689 2.746v-6.605a9.2 9.2 0 01-2.483-.341v4.463c-3.294 0-6.161-1.013-8.69-2.746v13.372c-.152 6.688-5.802 12.062-12.509 12.062-2.763 0-5.314-.912-7.37-2.453zm23.455-28.401a9.206 9.206 0 01-3.715-5.146h2.145a9.155 9.155 0 001.57 5.146z"}))),n||(n=s.createElement("defs",null,s.createElement("clipPath",{id:"logo-icon_svg__a"},s.createElement("rect",{width:48,height:48,fill:"#fff",rx:10.5})))))};var u=i(2218),p=i(41273);const m=(0,a.Z)("div",{target:"e11s2kul0"})((({theme:{colors:e}})=>({position:"fixed",left:0,top:0,right:0,bottom:0,background:e.BGPrimary,zIndex:1e3,display:"flex",flexDirection:"row"})),"label:DivBrowserModeContainer;"),h=(0,a.Z)("div",{target:"e11s2kul1"})((({theme:e})=>[(0,l.GI)({theme:e,typography:"P2",color:"TextSecondary"}),{flex:"1 1 0px",display:"flex",alignItems:"center",justifyContent:"center"}]),"label:DivErrorMessage;"),g=(0,a.Z)("div",{target:"e11s2kul2"})((({theme:e})=>({height:"100%",left:"-80px",right:"-80px",top:"0",backdropFilter:"blur(50px)",backgroundColor:e.colors.SDSecondary,position:"absolute",zIndex:1})),"label:DivMask;"),v=(0,a.Z)("div",{target:"e11s2kul3"})({position:"absolute",top:"50%",transform:"translate(0, -50%)",width:"100%"},"label:DivMaskContainer;"),x=(0,a.Z)("div",{target:"e11s2kul4"})((({theme:e})=>({width:"106px",height:"106px",padding:"33px",margin:"0 auto 0",borderRadius:"50%",backgroundColor:e.colors.LineSecondary,color:e.colors.Positive})),"label:DivMaskIcon;"),b=(0,a.Z)("div",{target:"e11s2kul5"})((({theme:e})=>({maxWidth:"419px",margin:"24px auto 0",fontSize:"24px",lineHeight:"32px",textAlign:"center",color:e.colors.BGPrimary})),"label:DivMaskTitle;"),y=(0,a.Z)("div",{target:"e11s2kul6"})((({theme:e})=>({maxWidth:"419px",margin:"16px auto 0",fontSize:"18px",lineHeight:"24px",textAlign:"center",color:e.colors.BGPrimary})),"label:DivMaskDetail;"),f=(0,a.Z)("button",{target:"e11s2kul7"})((({theme:e})=>({maxWidth:"419px",height:"56px",cursor:"pointer",margin:"224px auto 0",borderRadius:"2px",backgroundColor:e.colors.ConstBGContainer,color:e.colors.BGPrimary,padding:"16px",fontSize:"18px",lineHeight:"24px",textAlign:"center",border:"none",display:"block"})),"label:ButtonMask;"),_=(0,a.Z)("div",{target:"e11s2kul8"})({position:"absolute",width:"10%",height:"10%",filter:"blur(2px)",left:"50%",top:"50%",transform:"scale(11)",opacity:"0.3",background:"center no-repeat",backgroundSize:"cover"},"label:DivBlurBackground;"),j=(0,a.Z)("div",{target:"e11s2kul9"})({position:"relative",width:"100%",height:"100%",cursor:"pointer",":hover":{[`${u.ov}`]:{opacity:1}}},"label:DivVideoWrapper;"),k=(0,a.Z)("svg",{target:"e11s2kul10"})({position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"},"label:SvgPlayIcon;");k.defaultProps=Object.assign(Object.assign({},k.defaultProps),{"data-e2e":"browse-video-play"});const C=(0,a.Z)("button",{target:"e11s2kul11"})((({theme:{colors:e}})=>({position:"absolute",zIndex:1,display:"flex",justifyContent:"center",alignItems:"center",width:"40px",height:"40px",background:e.ConstLineInverse,borderRadius:"50%",cursor:"pointer",border:"none",outline:"none",fontsize:0})),"label:ButtonBasicButtonContainer;"),w=(0,a.Z)(C,{target:"e11s2kul12"})((({theme:e})=>({top:"20px",transition:"opacity .3s",backgroundColor:e.colors.ConstBGContainer,":hover":{opacity:.7},":active":{opacity:.5}})),(({theme:{direction:e}})=>(0,l.YJ)({direction:e,start:"20px"})),"label:StyledCloseIconContainer;");w.defaultProps=Object.assign(Object.assign({},w.defaultProps),{"data-e2e":"browse-close"});const S=(0,a.Z)(c,{target:"e11s2kul13"})({position:"absolute",zIndex:1,top:"20px",borderRadius:"100px"},(({theme:{direction:e}})=>(0,l.YJ)({direction:e,start:"84px"})),"label:StyledLogo;");S.defaultProps=Object.assign(Object.assign({},S.defaultProps),{"data-e2e":"browse-logo"});const P=(0,a.Z)(C,{target:"e11s2kul14"})((({isPrev:e,theme:{direction:t,colors:i}})=>{const o=e?"start":"end",n=(0,l.$K)(t,o);return{[n]:"20px",transform:"left"===n?"rotate(180deg)":void 0,top:"50%",marginTop:"-24px",":disabled":{display:"none"},background:i.ConstBGContainer,":hover":{opacity:.7},":active":{opacity:.5}}}),"label:StyledVideoSwitch;"),T=(0,a.Z)(C,{target:"e11s2kul15"})((({isPrev:e,theme:{colors:t}})=>({transform:e?"rotate(-90deg)":"rotate(90deg)",top:e?"calc(50% - 48px)":"calc(50% + 8px)",marginTop:"-24px",":disabled":{display:"none"},background:t.ConstBGContainer,":hover":{opacity:.7},":active":{opacity:.5}})),(({theme:{direction:e}})=>(0,l.YJ)({direction:e,end:"20px"})),"label:StyledVideoSwitchV2;"),I=(0,a.Z)("div",{target:"e11s2kul16"})({flex:"0 0 544px",width:"544px",display:"flex",flexDirection:"column",padding:"32px 0 0"},"label:DivContentContainer;"),D=(0,a.Z)(I,{target:"e11s2kul17"})((({isOpen:e=!1,isRTL:t=!1})=>({flex:"unset",width:"360px",height:"100%",padding:"0",transform:`translateX(${e?0:t?-100:100}%)`,transition:"transform 200ms cubic-bezier(.65, 0, .35, 1)"})),"label:StyledDivContentContainerSwiper;"),O=(0,a.Z)("div",{target:"e11s2kul18"})((({theme:e})=>[(0,l.GI)({theme:e,typography:"P1",fontWeight:"semiBold",fontFamily:"Proxima"}),{color:e.colors.TextPrimary,height:"64px",background:e.colors.BGPlaceholderOpaque,boxSizing:"border-box",padding:"16px 16px 24px",borderRadius:"4px"}]),"label:DivCommentTitle;"),R=(0,a.Z)(r.Z,{target:"e11s2kul19"})((({theme:{direction:e}})=>[(0,l.YJ)({direction:e,end:"24px"}),{position:"absolute",top:"20px",cursor:"pointer"}]),"label:StyledCloseBtn;"),L=(0,a.Z)("div",{target:"e11s2kul21"})((({theme:{colors:e}})=>({flex:"0 0 auto",backgroundColor:e.BGPrimary,margin:"0 16px",padding:"16px 0"})),"label:DivBottomCommentContainer;"),Z=(0,a.Z)("div",{target:"e11s2kul22"})((({theme:e})=>[(0,l.GI)({theme:e,typography:"P3",fontWeight:"semiBold",color:"ConstTextInverse4",fontFamily:"Sofia"}),{padding:"10px 16px",backgroundColor:e.colors.ConstBGContainer,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100px",position:"absolute",top:"20px",cursor:"pointer",color:e.colors.ConstTextInverse,":hover":{opacity:.7},":active":{opacity:.5}},(0,l.YJ)({direction:e.direction,end:"20px"})]),"label:DivReportText;");Z.defaultProps=Object.assign(Object.assign({},Z.defaultProps),{"data-e2e":"browse-report"});const M=(0,a.Z)("svg",{target:"e11s2kul23"})((({theme:{direction:e}})=>(0,l.YJ)({direction:e,marginEnd:"5px"})),{verticalAlign:"middle"},"label:SvgIconFlag;");M.defaultProps={fill:"currentColor",width:"1em",height:"1em"};const B=(0,a.Z)("button",{target:"e11s2kul24"})(l.Ph,(({theme:e,widerBottom:t=!1})=>({position:"absolute",bottom:t?"60px":"20px",transition:"opacity 0.3s",cursor:"pointer",fontsize:0,lineHeight:0,borderRadius:"100px",backgroundColor:e.colors.ConstBGContainer,":hover":{opacity:.7},":active":{opacity:.5}})),(({theme:{direction:e}})=>(0,l.YJ)({direction:e,end:"20px"})),"label:ButtonVoiceControl;");B.defaultProps=Object.assign(Object.assign({},B.defaultProps),{"data-e2e":"browse-sound"});const F=(0,a.Z)("button",{target:"e11s2kul25"})(l.Ph,(({theme:e})=>({display:"flex",transition:"opacity 0.3s",cursor:"pointer",fontsize:0,lineHeight:0,borderRadius:"100px",backgroundColor:e.colors.ConstBGContainer,":hover":{opacity:.7},":active":{opacity:.5}})),"label:ButtonVoiceControlNew;");F.defaultProps=Object.assign(Object.assign({},F.defaultProps),{"data-e2e":"browse-sound"});const z=(0,a.Z)("div",{target:"e11s2kul26"})((({widerBottom:e=!1})=>({position:"absolute",zIndex:1,bottom:e?"60px":"20px",[`:hover ${p.nW}`]:{opacity:"1"}})),(({theme:{direction:e}})=>(0,l.YJ)({direction:e,end:"20px"})),"label:DivVoiceControlContainer;"),A=(0,a.Z)("div",{target:"e11s2kul27"})((({theme:{colors:e}})=>({flex:"1 1 896px",background:e.ConstBGInverse,position:"relative",overflow:"hidden",padding:"0 80px"})),"label:DivVideoContainer;"),E=(0,a.Z)("div",{target:"e11s2kul28"})({position:"absolute",bottom:0,left:0,right:0},"label:DivWarnInfoPosition;"),U=(0,a.Z)("div",{target:"e11s2kul30"})((({theme:{colors:e}})=>({display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",bottom:"84px",left:"50%",transform:"translateX(-50%)",fontWeight:500,fontSize:"18px",padding:"11.5px 24px",borderRadius:"52px",color:e.ConstTextInverse,background:e.ToastDefault,cursor:"pointer",":hover":{opacity:.7},":active":{opacity:.5}})),"label:DivAnalyticsWrapper;")},2218:(e,t,i)=>{i.d(t,{yx:()=>a,F7:()=>r,MT:()=>l,$_:()=>s,FL:()=>d,ov:()=>p,Gb:()=>m,Am:()=>h});var o=i(32913),n=i(27918);const a=(0,o.Z)("div",{target:"e1rpry1m0"})({width:"100%",height:"24px",flex:"1 1 auto",position:"relative"},"label:DivSeekBarContainer;"),r=(0,o.Z)("div",{target:"e1rpry1m1"})({flex:"0 0 88px",maxWidth:"88px",marginInlineStart:"8px",fontSize:"14px",lineHeight:"24px",color:"#ffffff",textAlign:"end",whiteSpace:"nowrap",fontFeatureSettings:'"tnum"',fontVariantNumeric:"tabular-nums",fontFamily:"Tahoma, PingFangSC, sans-serif"},"label:DivSeekBarTimeContainer;"),l=(0,o.Z)("div",{target:"e1rpry1m2"})({height:"4px",width:"100%",backgroundColor:"rgba(255, 255, 255, 0.2)",position:"absolute",left:"0",top:"50%",transform:"translateY(-50%)",cursor:"pointer"},"label:DivSeekBarProgress;"),s=(0,o.Z)("div",{target:"e1rpry1m3"})((({theme:{direction:e,colors:t},backgroundTheme:i})=>({height:"4px",width:"100%",backgroundColor:"primary"===i?t.Primary:t.BGPrimary,position:"absolute",top:"50%",transform:"translateY(-50%)",cursor:"pointer",transformOrigin:"rtl"===e?"right":"left"})),"label:DivSeekBar;"),d=(0,o.Z)("div",{target:"e1rpry1m4"})((({theme:{direction:e}})=>(0,n.YJ)({direction:e})),(({theme:{direction:e}})=>({display:"none",width:"16px",height:"16px",backgroundColor:"#ffffff",borderRadius:"16px",position:"absolute",top:"50%",transform:`translate(${"rtl"===e?"50%":"-50%"}, -50%)`,cursor:"pointer",zIndex:1})),"label:DivSeekBarCircle;"),c="calc(100% - 160px)",u="translateX(-50%)",p=(0,o.Z)("div",{target:"e1rpry1m5"})((({show:e,extraBottomSpace:t})=>({width:c,height:"24px",paddingInline:"16px",position:"absolute",opacity:e?"1":"0",transition:"opacity .3s",bottom:t?"68px":"28px",cursor:"initial",display:"flex",alignItems:"center",left:"50%",transform:u,maxWidth:"56.25vh",[`:hover ${l}`]:{height:"6px"},[`:hover ${s}`]:{height:"6px"},[`:hover ${d}`]:{display:"block"},"@media (max-width: 900px)":{display:"none"}})),"label:DivVideoControlContainer;"),m=(0,o.Z)("div",{target:"e1rpry1m6"})({width:c,height:"28px",position:"absolute",bottom:0,left:"50%",transform:u,cursor:"initial",maxWidth:"56.25vh"},"label:DivVideoControlBottom;"),h=(0,o.Z)("div",{target:"e1rpry1m7"})({width:c,height:"10px",position:"absolute",bottom:"52px",left:"50%",transform:u,cursor:"initial",maxWidth:"56.25vh"},"label:DivVideoControlTop;")},41273:(e,t,i)=>{i.d(t,{nW:()=>n,CY:()=>a,SM:()=>r,tP:()=>l});var o=i(32913);const n=(0,o.Z)("div",{target:"e1exqkaz0"})((({dragging:e})=>({width:"28px",height:"96px",margin:"8px 6px",display:"block",opacity:e?"1":"0",position:"relative",background:"rgba(255, 255, 255, 0.12)",borderRadius:"32px"})),"label:DivVolumeControlContainer;"),a=(0,o.Z)("div",{target:"e1exqkaz1"})({width:"4px",height:"80px",backgroundColor:"rgba(255, 255, 255, 0.2)",position:"absolute",left:"12px",top:"8px",bottom:"8px",cursor:"pointer"},"label:DivVolumeControlProgress;"),r=(0,o.Z)("div",{target:"e1exqkaz2"})((({theme:{colors:e},backgroundTheme:t})=>({width:"4px",height:"80px",backgroundColor:"primary"===t?e.Primary:e.BGPrimary,position:"absolute",left:"12px",bottom:"8px",cursor:"pointer",transform:"scaleY(0)",transformOrigin:"bottom"})),"label:DivVolumeControlBar;"),l=(0,o.Z)("div",{target:"e1exqkaz3"})({width:"16px",height:"16px",backgroundColor:"#ffffff",borderRadius:"16px",position:"absolute",left:"6px",bottom:"0",cursor:"pointer",zIndex:1},"label:DivVolumeControlCircle;")},34447:(e,t,i)=>{i.d(t,{J:()=>de});var o=i(64047),n=i(11040),a=i(9236),r=i(16926),l=i(91051),s=i(76851),d=i(56277),c=i(59577),u=i(79489),p=i(43094),m=i(88671),h=i(8721),g=i(91497),v=i(84785),x=i(24878),b=i(76967),y=i(44538),f=i(33980),_=i(32913),j=i(89388),k=i(14695),C=i(19306),w=i(13899),S=i(27918),P=i(30074),T=i(80537);const I=(0,_.Z)("div",{target:"e140z3d00"})({position:"relative",width:400},"label:DivSendMessagePanelContainer;"),D=(0,_.Z)("div",{target:"e140z3d01"})((({theme:{direction:e}})=>[{position:"absolute",top:36,cursor:"pointer"},(0,S.YJ)({direction:e,end:32})]),"label:DivCloseButtonWrapper;"),O=(0,_.Z)("h2",{target:"e140z3d02"})((({theme:e,theme:{direction:t}})=>[(0,S.GI)({theme:e,fontFamily:"Proxima",typography:"P0",fontWeight:"bold"}),{padding:"32px 0 0"},(0,S.YJ)({direction:t,paddingStart:32,paddingEnd:62})]),"label:H2ModalTitle;"),R=(0,_.Z)("div",{target:"e140z3d03"})((({theme:e})=>({display:"flex",alignItems:"center",width:336,height:36,margin:"24px 32px 0",borderRadius:"4px",backgroundColor:e.colors.BGPlaceholderDefault})),"label:DivSearchContainer;"),L=(0,_.Z)(j.Z,{target:"e140z3d04"})((({theme:{direction:e}})=>[(0,S.YJ)({direction:e,marginStart:16,marginEnd:12})]),"label:StyledMagnifyingGlass;"),Z=(0,_.Z)("input",{target:"e140z3d05"})((({theme:e,theme:{colors:t}})=>[(0,S.GI)({theme:e,fontFamily:"Proxima",typography:"P2"}),{width:240,height:22,border:"none",outline:"none",background:"transparent",caretColor:t.Primary,"::placeholder":{color:t.TextTertiary}}]),"label:InputUser;"),M=(0,_.Z)("div",{target:"e140z3d06"})((({theme:{direction:e}})=>[{width:16,height:16,cursor:"pointer"},(0,S.YJ)({direction:e,marginStart:8})]),"label:DivClearButton;"),B=(0,_.Z)("div",{target:"e140z3d07"})({minHeight:200,marginTop:24},"label:DivUserListContainer;"),F=(0,_.Z)("p",{target:"e140z3d08"})((({theme:e})=>[(0,S.GI)({theme:e,fontFamily:"Proxima",typography:"P1",color:"TextQuaternary"}),{marginTop:74,textAlign:"center"}]),"label:PNoResult;"),z=(0,_.Z)(P.g,{target:"e140z3d09"})({width:36,height:36,margin:"6px auto 12px"},"label:StyledLoading;"),A=(0,_.Z)("p",{target:"e140z3d010"})((({theme:e,theme:{direction:t}})=>[(0,S.GI)({theme:e,fontFamily:"Proxima",typography:"P4",color:"TextTertiary"}),{marginBottom:4,fontSize:"13px"},(0,S.YJ)({direction:t,marginStart:32})]),"label:PUserTitle;"),E=(0,_.Z)("div",{target:"e140z3d011"})((({long:e,isSearching:t})=>({position:"relative",boxSizing:"border-box",overflowY:"auto",width:"100%",minHeight:t?e?578:472:200,maxHeight:e?578:472,paddingBottom:e?210:102,"::-webkit-scrollbar":{display:"none"}})),"label:DivUserListInnerContainer;"),U=(0,_.Z)("div",{target:"e140z3d012"})((({theme:e})=>({boxSizing:"border-box",display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",padding:"8px 32px",cursor:"pointer",":hover":{backgroundColor:e.colors.BGView}})),"label:DivUserItemContainer;"),V=(0,_.Z)("div",{target:"e140z3d013"})({display:"flex",flex:1,alignItems:"center",height:48},"label:DivUserItem;"),$=(0,_.Z)("div",{target:"e140z3d014"})((({theme:{direction:e}})=>(0,S.YJ)({direction:e,marginStart:12})),"label:DivRightPart;"),W=(0,_.Z)("div",{target:"e140z3d015"})([{display:"flex",alignItems:"center"}],"label:DivNicknameContainer;"),G=(0,_.Z)("span",{target:"e140z3d016"})((({theme:e})=>[(0,S.GI)({theme:e,fontFamily:"Proxima",typography:"P1",fontWeight:"bold"}),{maxWidth:220},S.wj]),"label:SpanNickname;"),q=(0,_.Z)(k.Z,{target:"e140z3d017"})((({theme:{direction:e}})=>[{flexShrink:0},(0,S.YJ)({direction:e,marginStart:4})]),"label:StyledVerifiedBadgeColor;"),N=(0,_.Z)("p",{target:"e140z3d018"})((({theme:e})=>[(0,S.GI)({theme:e,fontFamily:"Proxima",typography:"P3",color:"TextTertiary"}),{maxWidth:240,marginTop:2},S.wj]),"label:PUniqueId;"),H=(0,_.Z)("div",{target:"e140z3d019"})((({theme:{direction:e}})=>[{flexShrink:0,width:22,height:22},(0,S.YJ)({direction:e,marginStart:12})]),"label:DivCheckboxContainer;"),Y=(0,_.Z)("div",{target:"e140z3d020"})({position:"absolute",bottom:0,left:0,right:0,padding:"12px 32px 32px 32px",backgroundColor:"#fff",borderRadius:"0 0 8px 8px",":before":{position:"absolute",top:0,left:0,right:0,content:'""',transform:"scaleY(.5)",width:"100%",height:1,backgroundColor:"rgba(22, 24, 35, .12)"}},"label:DivSendContainer;"),Q=(0,_.Z)(T.W,{target:"e140z3d021"})({width:336,height:46,marginTop:12},"label:StyledSendButton;"),J=(0,_.Z)("div",{target:"e140z3d022"})({display:"flex",marginTop:12},"label:DivMessageContainer;"),K=(0,_.Z)("textarea",{target:"e140z3d023"})((({theme:e,theme:{direction:t,colors:i}})=>[(0,S.GI)({theme:e,fontFamily:"Proxima",typography:"P2"}),{display:"block",width:268,height:98,border:"none",resize:"none",outline:"none",wordBreak:"break-word",overflowWrap:"break-word",caretColor:i.Primary,"::placeholder":{color:i.TextTertiary}},(0,S.YJ)({direction:t,marginEnd:12})]),"label:Textarea;"),X=(0,_.Z)("img",{target:"e140z3d024"})({width:56,height:74},"label:ImgCover;"),ee=(0,_.Z)("div",{target:"e140z3d025"})((({theme:e,theme:{direction:t}})=>[{display:"flex",alignItems:"center",width:336,padding:"12px 0 12px",margin:"16px 32px 0",borderRadius:"4px",backgroundColor:e.colors.BGView},(0,S.YJ)({direction:t,paddingStart:16,paddingEnd:4})]),"label:DivTipContainer;"),te=(0,_.Z)(C.Z,{target:"e140z3d026"})({width:24,height:24,flexShrink:0},"label:StyledPersonArrowLeftRight;"),ie=(0,_.Z)(w.Z,{target:"e140z3d027"})({width:24,height:24,flexShrink:0},"label:StyledTwoPerson;"),oe=(0,_.Z)("p",{target:"e140z3d028"})((({theme:e,theme:{direction:t}})=>[(0,S.GI)({theme:e,fontFamily:"Proxima",typography:"P4",color:"TextSecondary"}),{fontSize:"13px"},(0,S.YJ)({direction:t,marginStart:12})]),"label:PTip;");var ne=i(13761),ae=i(74920),re=i(2734);const le=(0,l.forwardRef)((function({uniqueId:e,isSelected:t=!1,searchValue:i="",selectedCount:o,onUserSelected:r},s){const d=(0,a.mp)(x.z,{selector:t=>t.users[e],dependencies:[e]}),c=(0,l.useRef)(null);(0,l.useImperativeHandle)(s,(()=>({get offsetTop(){var e,t;return null!==(t=null===(e=c.current)||void 0===e?void 0:e.offsetTop)&&void 0!==t?t:0}})),[]);const u=(0,l.useCallback)((()=>{o>=15&&!t||r(d,!t)}),[t,d,o,r]),{avatarThumb:p,nickname:m="",verified:h}=(0,re.m7)(d),g=m.toLocaleLowerCase().indexOf(i.toLocaleLowerCase()),v=-1===g?0:i.length;if(!e||!d)return null;const b=m.slice(0,g),y=m.slice(g,g+v),f=m.slice(g+v);return(0,n.jsxs)(U,Object.assign({ref:c,onClick:u},{children:[(0,n.jsxs)(V,{children:[(0,n.jsx)(ne.q,{size:48,src:p},void 0),(0,n.jsxs)($,{children:[(0,n.jsxs)(W,{children:[(0,n.jsx)(G,{children:(0,n.jsxs)("span",{children:[b,(0,n.jsx)("span",Object.assign({style:{color:"#fe2c55"}},{children:y}),void 0),f]},void 0)},void 0),h&&(0,n.jsx)(q,{width:14,height:14,style:{verticalAlign:"middle",marginLeft:4}},void 0)]},void 0),(0,n.jsx)(N,{children:e},void 0)]},void 0)]},void 0),(0,n.jsx)(H,{children:(0,n.jsx)(ae.X,{size:22,isCircle:!1,value:t},void 0)},void 0)]}),void 0)}));var se;!function(e){e.RECENT="recent",e.FOLLOWING="following"}(se||(se={}));const de=(0,l.memo)((function({visible:e,videoId:t,onClose:i}){const _=(0,h.Q)(),j=(0,a.mp)(v.G,{dependencies:[],selector:e=>{var t;return null===(t=e.appContext)||void 0===t?void 0:t.user}}),k=(0,a.mp)(b.A,{selector:e=>e[t],dependencies:[t]}),{video:C,forFriend:w,author:S="",authorId:P=""}=(0,l.useMemo)((()=>null!=k?k:{}),[k]),[T,U]=(0,a.b7)(x.z,{selector:e=>e.users[S],dependencies:[t]}),{privateAccount:V,nickname:$}=(0,l.useMemo)((()=>null!=T?T:{}),[T]),[{recentUserList:W,recentUserNameList:G,recentUidList:q,followingUser:N,isFollowingLoading:H,isSendMessageLoading:ne},ae]=(0,a.b7)(f.O),re=(0,r.fz)(u.p),se=(0,l.useRef)({recent:!1,following:!1}),de=(0,l.useRef)({recent:{list:[],hasShown:[]},following:{list:[],hasShown:[]}}),ce=(0,l.useCallback)(((e,t)=>i=>{de.current[t].list[e]=i}),[]),{isRTL:ue}=(0,g.Y)(),[pe,me]=(0,l.useState)(""),[he,ge]=(0,l.useState)(""),[ve,xe]=(0,l.useState)([]),[be,ye]=(0,l.useState)([]),[fe,_e]=(0,l.useState)([]),je=ve.length,ke=W.length,{list:Ce,nicknameList:we,uidList:Se,hasMore:Pe}=N,Te=Ce.length,Ie=je>0,De=""!==pe,Oe=V||w;(0,l.useEffect)((()=>{e||(me(""),ge(""),xe([]),ae.setSendMessageStatus({isFailed:!1,isLoading:!1}))}),[e,ae]),(0,l.useEffect)((()=>{if(!Te&&Pe){if(j){const{uid:e,avatarUri:t,nickName:i}=j,n=(0,o.__rest)(j,["uid","avatarUri","nickName"]),a=Object.assign({id:e,nickname:i,verified:!1,relation:0,avatarThumb:t[0],avatarMedium:t[0],avatarLarger:t[0]},n);U.setUser(a),ae.updateFollowingUserList({list:[j.uniqueId],nicknameList:[i],uidList:[e],hasMore:!0,maxCursor:0,minCursor:0})}ae.getFollowingUserListWithCanShare({count:90})}}),[]),(0,l.useEffect)((()=>{Promise.resolve().then((()=>{const e=de.current.recent,t=de.current.following;if(ke&&!se.current.recent&&(se.current.recent=!0,W.slice(0,5).forEach(((t,i)=>{var o,n;(null!==(n=null===(o=e.list[i])||void 0===o?void 0:o.offsetTop)&&void 0!==n?n:1/0)<354&&(p.R.handleShareHeadShow({user_type:"recent",rank_index:i,is_self:t===(null==j?void 0:j.uniqueId)?1:0,to_user_id:q[i]}),e.hasShown[i]=!0)}))),Te&&!se.current.following){if(1===Te&&Pe)return;se.current.following=!0,Ce.slice(0,5).forEach(((e,i)=>{var o,n;(null!==(n=null===(o=t.list[i])||void 0===o?void 0:o.offsetTop)&&void 0!==n?n:1/0)<354&&(p.R.handleShareHeadShow({user_type:"following",rank_index:i,is_self:e===(null==j?void 0:j.uniqueId)?1:0,to_user_id:Se[i]}),t.hasShown[i]=!0)}))}})).catch((()=>{}))}),[null==j?void 0:j.uniqueId,Ce,Te,W,ke,q,Se,Pe]),(0,l.useEffect)((()=>{if(!pe)return;const e=[],t=[],i=pe.toLocaleLowerCase();G.forEach(((t,o)=>{(t.toLocaleLowerCase().indexOf(i)>-1||W[o].toLocaleLowerCase().indexOf(i)>-1)&&e.push(W[o])})),we.forEach(((o,n)=>{e.indexOf(Ce[n])<0&&(o.toLocaleLowerCase().indexOf(i)>-1||Ce[n].toLocaleLowerCase().indexOf(i)>-1)&&t.push(Ce[n])})),ye(e),_e(t)}),[pe,G,W,Ce,we]);const Re=(0,l.useCallback)((()=>{i()}),[i]),Le=(0,l.useCallback)(((e,t)=>{if(t)e&&xe([...ve,e]),re.handleShare({platform:"chat_head",group_id:C.id,author_id:P});else{let t=-1;ve.some(((i,o)=>{if(i.uniqueId===(null==e?void 0:e.uniqueId))return t=o,!0})),t>-1&&(ve.splice(t,1),xe([...ve]))}}),[ve,re,C.id,P]),Ze=(0,l.useCallback)((e=>{const{value:t}=e.target;me(t)}),[]),Me=(0,l.useCallback)((()=>{p.R.handleSearchContact()}),[]),Be=(0,l.useCallback)((()=>{me("")}),[]),Fe=(0,l.useCallback)((e=>{const{value:t}=e.target;ge(t)}),[]),ze=(0,y.Fk)({selectedUserList:ve,messageText:he,videoId:t});(0,y.RQ)({selectedUserList:ve,messageText:he,handleSuccess:()=>{i()},isRTL:ue});const Ae=(0,m.fB)((e=>{if(De)return;const t=e.target,{scrollHeight:i,scrollTop:o,clientHeight:n}=t;i-o===n&&!H&&Pe&&ae.getFollowingUserListWithCanShare({count:30});const a=de.current.recent,r=de.current.following;a.list.forEach(((e,t)=>{var i;a.hasShown[t]||(null!==(i=null==e?void 0:e.offsetTop)&&void 0!==i?i:1/0)<o+n&&(p.R.handleShareHeadShow({user_type:"recent",rank_index:t,is_self:W[t]===(null==j?void 0:j.uniqueId)?1:0,to_user_id:q[t]}),a.hasShown[t]=!0)})),r.list.forEach(((e,t)=>{var i;r.hasShown[t]||(null!==(i=null==e?void 0:e.offsetTop)&&void 0!==i?i:1/0)<o+n&&(p.R.handleShareHeadShow({user_type:"following",rank_index:t,is_self:Ce[t]===(null==j?void 0:j.uniqueId)?1:0,to_user_id:Se[t]}),r.hasShown[t]=!0)}))}),[H,Pe,ae,W,null==j?void 0:j.uniqueId,Ce,De,q,Se],100),Ee=(0,l.useCallback)(((e,t,i)=>{const o=ve.some((t=>t.uniqueId===e));return(0,n.jsx)(le,{uniqueId:e,isSelected:o,searchValue:pe,selectedCount:je,onUserSelected:Le,ref:ce(t,i)},t)}),[pe,je,ve,ce,Le]);return(0,n.jsx)(s.AR,Object.assign({isOpen:e,closeOnBackdropClick:!1,compact:!0},{children:(0,n.jsxs)(I,{children:[(0,n.jsx)(D,Object.assign({onClick:Re},{children:(0,n.jsx)(d.Z,{width:24,height:24},void 0)}),void 0),(0,n.jsx)(O,{children:_("support_webapp_sharing_option_button")},void 0),Oe&&(0,n.jsxs)(ee,{children:[V?(0,n.jsx)(ie,{fill:"rgba(22, 24, 35, .75)"},void 0):(0,n.jsx)(te,{fill:"rgba(22, 24, 35, .75)"},void 0),(0,n.jsx)(oe,{children:_(V?"support_webapp_sharing_toast_2":"support_webapp_sharing_toast_1",{username:$})},void 0)]},void 0),(0,n.jsxs)(R,{children:[(0,n.jsx)(L,{width:24,height:24,fill:De?"":"rgba(22, 24, 35, .34)"},void 0),(0,n.jsx)(Z,{value:pe,placeholder:_("support_webapp_sharing_searchbar_ghosttext"),onChange:Ze,onClick:Me},void 0),De&&(0,n.jsx)(M,Object.assign({onClick:Be},{children:(0,n.jsx)(c.Z,{width:16,height:16,fill:"rgba(22, 24, 35, .34)"},void 0)}),void 0)]},void 0),(0,n.jsx)(B,{children:(0,n.jsx)(E,Object.assign({long:Ie,isSearching:De,onScroll:Ae},{children:(()=>{if(De){const e=be.length>0||fe.length>0;return(0,n.jsxs)(n.Fragment,{children:[be.map(((e,t)=>Ee(e,t,"recent"))),fe.map(((e,t)=>Ee(e,t,"following"))),!e&&(0,n.jsx)(F,{children:_("support_webapp_sharing_search_results")},void 0)]},void 0)}return(0,n.jsxs)(n.Fragment,{children:[0!==ke&&(0,n.jsx)(A,{children:_("support_webapp_sharing_recent")},void 0),W.map(((e,t)=>Ee(e,t,"recent"))),(0,n.jsx)(A,Object.assign({style:{marginTop:ke?12:0}},{children:_("support_webapp_sharing_following")}),void 0),Ce.map(((e,t)=>Ee(e,t,"following"))),H&&(0,n.jsx)(z,{},void 0)]},void 0)})()}),void 0)},void 0),(0,n.jsxs)(Y,{children:[Ie&&(0,n.jsxs)(J,{children:[(0,n.jsx)(K,{value:he,placeholder:_("support_webapp_sharing_write_a_message"),maxLength:6e3,onChange:Fe},void 0),(0,n.jsx)(X,{src:null==C?void 0:C.cover},void 0)]},void 0),(0,n.jsxs)(Q,Object.assign({buttonTheme:"primary",disabled:!Ie,onClick:ze,loading:ne},{children:[_("support_webapp_sharing_send_button"),je>1?`(${je})`:""]}),void 0)]},void 0)]},void 0)}),void 0)}))},12886:(e,t,i)=>{i.d(t,{V:()=>d,g:()=>c});var o=i(9236),n=i(66958),a=i(24878),r=i(76967);const l="https://www.tiktok.com";function s(e){const t={"<":"&lt",">":"&gt;",'"':"&#34;","'":"&#39;","&":"&#38;","/":"&#47;"};let i=`(${Object.keys(t).toString()})`;i=i.replace(/,/g,")|(");const o=new RegExp(i,"g");return e.replace(o,(e=>t[e]))}function d(e){var t,i,d;const c=(0,o.mp)(r.A,{selector:t=>t[e],dependencies:[e]}),u=(0,o.mp)(a.z,{selector:e=>{var t;return e.users[null!==(t=null==c?void 0:c.author)&&void 0!==t?t:""]},dependencies:[null==c?void 0:c.author]}),{music:p,textExtra:m,desc:h}=null!=c?c:{},{uniqueId:g="",secUid:v}=null!=u?u:{},x=null!==(t=null==p?void 0:p.title)&&void 0!==t?t:"",b=null!==(i=null==p?void 0:p.id)&&void 0!==i?i:"",y=null!==(d=null==p?void 0:p.authorName)&&void 0!==d?d:"",f=(0,n.yl)({uniqueId:g,secUid:v}),_=(0,n.MB)({musicName:x,musicId:b}),j=(0,n.fH)({uniqueId:g,secUid:v,videoId:e}),k=x.replace(`- ${y}`,"")+(y?` - ${y}`:""),C=`${l}${f.split("?")[0]}`,w=`${l}${_.split("?")[0]}`,S=`${l}${j.split("?")[0]}`,P=`${l}/embed.js`,T=`@${g}`,I=`♬ ${s(k)}`;return`\n    <blockquote class="tiktok-embed"\n      cite="${S}"\n      data-video-id="${e}" style="max-width: 605px;min-width: 325px;" >\n      <section>\n          <a target="_blank" title="${T}" href="${C}">${T}</a>\n          ${function(e,t=[]){return t.length?[...t].sort(((e,t)=>e.start-t.start)).reduce(((t,i,o,a)=>{const{start:r,end:d,hashtagName:c,type:u}=i,p=0===o?0:a[o-1].end,m=r,h=e.substring(p,m);h&&(t+=s(h));const g=e.substring(r,d);return t+(1===u&&c?`<a title="${c}" target="_blank" href="${l}${(0,n.JD)({tagName:c})}">${s(g)}</a>`:s(g))}),""):`<p>${s(e)}</p>`}(null!=h?h:"",m)}\n          <a target="_blank" title="${I}" href="${w}">${I}</a>\n      </section>\n    </blockquote>\n    <script async src="${P}"><\/script>\n  `.split(/(?:\r\n|\n|\r)/).map((e=>e.replace(/^\s+/gm,""))).join(" ").trim()}function c(e){if(e)return`\n    <blockquote class="tiktok-embed"\n      cite="${l}/@${e}"\n      data-unique-id="${e}" \n      data-embed-type="creator" style="max-width: 720px; min-width: 288px;" >\n      <section>\n        <a target="_blank" href="${l}/@${e}?refer=creator_embed">@${e}</a>\n      </section>\n    </blockquote>\n    <script async src="${l}/embed.js"><\/script>\n  `.split(/(?:\r\n|\n|\r)/).map((e=>e.replace(/^\s+/gm,""))).join(" ").trim()}},12853:(e,t,i)=>{i.d(t,{g:()=>b});var o,n=i(11040),a=i(9236),r=i(91051),l=i(27172),s=i(69916),d=i(54771),c=i(8721),u=i(34708);!function(e){e.GeneralSensitive="general_sensitive",e.PhotoSensitive="photo_sensitive",e.PhotoSensitiveDenied="photo_sensitive_denied"}(o||(o={}));const p={general_sensitive:"masklayer_general_title",photo_sensitive:"photosensitive_masklayer_title",photo_sensitive_denied:"photosensitive_masklayer_removed"},m={general_sensitive:["masklayer_general_body"],photo_sensitive:["photosensitive_masklayer_body1","photosensitive_masklayer_body2"],photo_sensitive_denied:["photosensitive_masklayer_removed_body1","photosensitive_masklayer_removed_body3"]},h={general_sensitive:"masklayer_general_skip",photo_sensitive:"photosensitive_masklayer_watch",photo_sensitive_denied:""},g={general_sensitive:"masklayer_general_watch",photo_sensitive:"photosensitive_masklayer_skipall",photo_sensitive_denied:""};var v;!function(e){e[e.Reported=1]="Reported",e[e.Dislike=2]="Dislike",e[e.General=3]="General",e[e.Photosensitive=4]="Photosensitive"}(v||(v={}));var x=i(81578);const b=({playMode:e,item:t})=>{var i;const o=(0,c.Q)(),{user:v}=null!==(i=(0,u.L)((()=>["user"]),[]))&&void 0!==i?i:{},{photoSensitiveVideosSetting:b,uid:y}=null!=v?v:{},{photoSensitiveVideosSetting:f}=(0,a.mp)(x.P);return(0,r.useMemo)((()=>{const{maskType:i,authorId:a}=t,r=3===i,c=4===i;if(!c&&!r)return{showVideoMask:!1};if(c&&(2===b||2===f||a===y&&0!==b))return{showVideoMask:!1};let u;u=r?"general_sensitive":1===f?"photo_sensitive_denied":"photo_sensitive";const v=o(p[u]),x=m[u].map((e=>o(e))).join(""),_=((e,t)=>{let i=null,o=48;switch(e){case"general_sensitive":o=0===t?36:53,i=(0,n.jsx)(l.Z,{width:o,height:o,fill:"rgba(255, 255, 255, .75)"},void 0);break;case"photo_sensitive":o=0===t?32:48,i=(0,n.jsx)(s.Z,{width:o,height:o,fill:"#fff"},void 0);break;case"photo_sensitive_denied":o=0===t?32:48,i=(0,n.jsx)(d.Z,{width:o,height:o,fill:"#0BE09B"},void 0)}return i})(u,e),j=o(((e,t)=>2===t||3===t||0===t&&"photo_sensitive"===e?h[e]:"")(u,e)),k=o(((e,t)=>2===t||3===t||0===t&&"general_sensitive"===e?g[e]:"")(u,e));return{showVideoMask:!0,maskType:u,videoMaskTitle:v,videoMaskDesc:x,icon:_,videoMaskFirstButtonText:j,videoMaskSecondButtonText:k}}),[t,b,f,y,o,e])}},23683:(e,t,i)=>{i.d(t,{a:()=>y});var o=i(11040),n=i(91051),a=i(13964),r=i(32913),l=i(27918),s=i(80537);const d=(0,r.Z)("div",{target:"e4uoj5v0"})((({theme:e,playMode:t})=>[{position:"absolute",zIndex:3===t?0:1,width:"100%",height:"100%",left:"0",top:"0",backdropFilter:"blur(50px)",backgroundColor:e.colors.SDSecondary},2===t?{left:"-80px",right:"-80px",width:"unset"}:null]),"label:DivVideoMask;"),c=(0,r.Z)("div",{target:"e4uoj5v1"})((({playMode:e})=>[{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:2===e?"calc(100% - 160px)":"100%",maxWidth:"515px",padding:0===e?"32px":"48px"},3===e?{width:"463px"}:{}]),"label:DivVideoMaskContainer;"),u=(0,r.Z)("div",{target:"e4uoj5v2"})({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},"label:DivVideoMaskInfo;"),p=(0,r.Z)("div",{target:"e4uoj5v3"})((({theme:e,playMode:t})=>({display:"flex",justifyContent:"center",alignItems:"center",width:0===t?"72px":"106px",height:0===t?"72px":"106px",borderRadius:"50%",backgroundColor:e.colors.ConstBGContainer2,color:e.colors.Positive})),"label:DivVideoMaskIcon;"),m=(0,r.Z)("p",{target:"e4uoj5v4"})((({theme:e,theme:{colors:t},playMode:i})=>[(0,l.GI)({theme:e,fontFamily:"Proxima",fontWeight:"semiBold"}),{fontSize:0===i?"17px":"24px",lineHeight:0===i?"20px":"32px",textAlign:"center",color:t.ConstTextInverse2,marginTop:0===i?"20px":"24px"}]),"label:PVideoMaskTitle;"),h=(0,r.Z)("p",{target:"e4uoj5v5"})((({theme:e,playMode:t})=>[(0,l.GI)({theme:e,typography:0===t?"H6":"P1",fontFamily:"Proxima",fontWeight:"normal"}),{textAlign:"center",color:"rgba(255, 255, 255, .75)",marginTop:0===t?"12px":"16px"}]),"label:PVideoMaskDesc;"),g=(0,r.Z)("div",{target:"e4uoj5v6"})((({playMode:e,horizontal:t})=>({marginTop:0===e?t?"20px":"80px":"180px"})),"label:DivBtnWrapper;");function v(e){const{theme:t,second:i,playMode:o}=e;return[l.wj,(0,l.GI)({theme:t,typography:"P1",fontFamily:"Proxima",fontWeight:"semiBold"}),{display:"block",minWidth:"unset",width:"100%",height:0===o?"36px":"56px",marginBottom:i?"0":"8px",background:i?t.colors.ConstBGContainer:t.colors.Primary},i?{"&:hover":{background:t.colors.ConstBGContainer2},"&:active":{background:t.colors.ConstBGContainer3}}:null,0===o?{fontSize:"14px",lineHeight:"17px"}:null]}const x=(0,r.Z)(s.W,{target:"e4uoj5v7"})((e=>v(e)),"label:StyledButtonFirst;"),b=(0,r.Z)(s.W,{target:"e4uoj5v8"})((e=>v(e)),"label:StyledButtonSecond;"),y=(0,n.memo)((e=>{const{playMode:t,icon:i,title:r,desc:l,horizontal:s=!1,firstButtonText:v,secondButtonText:y,canClickPropagation:f=!1,onClickFirstButton:_,onClickSecondButton:j}=e,k=Boolean(v),C=Boolean(y),w=(0,n.useCallback)((e=>{!f&&(0,a.NS)(e)}),[f]);return(0,o.jsx)(d,Object.assign({playMode:t,onClick:w},{children:(0,o.jsxs)(c,Object.assign({playMode:t},{children:[(0,o.jsxs)(u,{children:[Boolean(i)&&(0,o.jsx)(p,Object.assign({playMode:t},{children:i}),void 0),Boolean(r)&&(0,o.jsx)(m,Object.assign({playMode:t},{children:r}),void 0),Boolean(l)&&(0,o.jsx)(h,Object.assign({playMode:t},{children:l}),void 0)]},void 0),(0,o.jsxs)(g,Object.assign({horizontal:s,playMode:t},{children:[k&&(0,o.jsx)(x,Object.assign({type:"button",buttonTheme:"primary",playMode:t,onClick:_},{children:v}),void 0),C&&(0,o.jsx)(b,Object.assign({type:"button",buttonTheme:"primary",playMode:t,second:!0,onClick:j},{children:y}),void 0)]}),void 0)]}),void 0)}),void 0)}))},75924:(e,t,i)=>{i.d(t,{N:()=>u});var o,n=i(64047),a=i(11040),r=i(9236),l=i(91051),s=i(56785),d=i(58869);!function(e){e.NoInteract="failed because the user didn't interact with the document first.",e.SafariNoInteract="The request is not allowed by the user agent or the platform in the current context"}(o||(o={}));const c=e=>({buffered:null==e?void 0:e.buffered,currentSrc:null==e?void 0:e.currentSrc,currentTime:null==e?void 0:e.currentTime,duration:null==e?void 0:e.duration,readyState:null==e?void 0:e.readyState,error:null==e?void 0:e.error,volume:null==e?void 0:e.volume,muted:null==e?void 0:e.muted}),u=(0,l.memo)((0,l.forwardRef)((function(e,t){var{playProgress:i,horizontal:o,muteSetting:u,onUnmount:p,onEnded:m,onWaiting:h,disableDownload:g=!1,itemMute:v=!1}=e,x=(0,n.__rest)(e,["playProgress","horizontal","muteSetting","onUnmount","onEnded","onWaiting","disableDownload","itemMute"]);const b=(0,l.useRef)(null),y=(0,l.useRef)(!1),[{mute:f,volume:_},{setMute:j,setMuteSetting:k}]=(0,r.b7)(s.x,{selector:e=>({mute:e.muteSetting||e.mute,volume:e.volume}),dependencies:[]}),C=(0,r.mp)(s.x,{selector:e=>e.playing,dependencies:[]});(0,l.useImperativeHandle)(t,(()=>{const e=b.current;return{play:null==e?void 0:e.play.bind(e),pause:null==e?void 0:e.pause.bind(e),seek:t=>{if(e){const{duration:i}=e;e.currentTime=i*t}},seekTime:t=>{e&&(e.currentTime=t)},onSeeked:t=>{null==e||e.addEventListener("seeked",t)},onSeeking:t=>{null==e||e.addEventListener("seeking",t)},onTimeUpdate:t=>{null==e||e.addEventListener("timeupdate",(()=>{var i,o;const n=null!==(i=e.currentTime)&&void 0!==i?i:0,a=null!==(o=e.duration)&&void 0!==o?o:0;t(n/a,n,a)}))},onCanPlay:t=>{null==e||e.addEventListener("canplay",t)},getPlayerAttributes:()=>c(e)}}));const w=(0,l.useCallback)(((e=0)=>(0,n.__awaiter)(this,void 0,void 0,(function*(){var t,i,o;if(!(e>=3))try{yield null===(t=b.current)||void 0===t?void 0:t.play()}catch(t){const n=null!==(i=null==t?void 0:t.message)&&void 0!==i?i:"";(null!==(o=n.match("failed because the user didn't interact with the document first."))&&void 0!==o?o:n.match("The request is not allowed by the user agent or the platform in the current context"))?(j(!0),setTimeout((()=>{w(e+1)}),0)):w(e+1)}}))),[j]);(0,l.useEffect)((()=>{b.current&&(b.current.volume=_)}),[_]),(0,l.useEffect)((()=>{k(u),w(),b.current&&Math.abs(b.current.currentTime-i)>.2&&(b.current.currentTime=i)}),[u,i,k,w]),(0,l.useEffect)((()=>{var e;C?y.current&&(y.current=!1,w()):(y.current=!0,null===(e=b.current)||void 0===e||e.pause())}),[C,w]),(0,l.useEffect)((()=>{const e=b.current;return()=>{null==p||p(c(e))}}),[]),(0,l.useEffect)((()=>{g&&(b.current.oncontextmenu=e=>(e.preventDefault(),!1))}),[g,b]);const S=(0,l.useCallback)((e=>{null==h||h(e)}),[h]),P=(0,l.useCallback)((e=>{null==m||m(e),w()}),[m,w]);return(0,a.jsx)(d.Ex,Object.assign({horizontal:o,ref:b},x,{muted:v||f,playsInline:!0,autoPlay:!0,onEnded:P,onWaiting:S}),void 0)})))},23855:(e,t,i)=>{i.d(t,{S:()=>R});var o=i(11040),n=i(91051),a=i(48036),r=i(9236),l=i(16926),s=i(66688),d=i(83358),c=i(5100),u=i(14870),p=i(2734),m=i(16929),h=i(75924),g=i(56785),v=i(58869),x=i(83421);const b=(0,n.memo)((0,n.forwardRef)((function({poster:e,lazyLoading:t=!0,horizontal:i,playUrl:a,id:b,teaParams:y,index:f,mode:_,itemMute:j,desc:k,onVideoPause:C,onVideoPlaying:w,onVideoPlay:S,onVideoEnded:P,onVideoError:T,e2eTag:I,onTimeUpdate:D,subtitleStruct:O,disableDownload:R=!0},L){const{currentVideo:Z,playProgress:M}=(0,r.mp)(x.f),{updateVVTime:B}=(0,r.qj)(x.f),F=(0,n.useRef)(null),z=(0,n.useRef)(null),A=(0,l.fz)(s.e),E=(0,l.fz)(d.k),U=(0,l.fz)(c.KF),[V,$]=(0,n.useState)(!1),W=(0,n.useCallback)((()=>{var e,t;null===(t=null===(e=F.current)||void 0===e?void 0:e.play)||void 0===t||t.call(e)}),[]),G=(0,n.useCallback)((()=>{var e,t;null===(t=null===(e=F.current)||void 0===e?void 0:e.pause)||void 0===t||t.call(e)}),[]),q=(0,n.useMemo)((()=>{if(!Z)return!1;const{id:e,index:t,mode:i}=Z;return e===b&&t===f&&i===_}),[b,f,_,Z]);(0,n.useImperativeHandle)(L,(()=>({play:()=>{W(),z.current=!0},pause:()=>{G(),z.current=!1,A.triggerPause({enter_method:"click_pause",playMode:_})},seek:e=>{var t;null===(t=F.current)||void 0===t||t.seek(e)},seekTime:e=>{var t;null===(t=F.current)||void 0===t||t.seekTime(e)},onSeeked:e=>{var t;null===(t=F.current)||void 0===t||t.onSeeked(e)},onSeeking:e=>{var t;null===(t=F.current)||void 0===t||t.onSeeking(e)},onTimeUpdate:e=>{var t;null===(t=F.current)||void 0===t||t.onTimeUpdate(e)},get currentTime(){var e,t;return null!==(t=null===(e=F.current)||void 0===e?void 0:e.getPlayerAttributes().currentTime)&&void 0!==t?t:0},get duration(){var e,t;return null!==(t=null===(e=F.current)||void 0===e?void 0:e.getPlayerAttributes().duration)&&void 0!==t?t:0},get currentCanPlay(){return q&&V}})),[W,G,A,_,q,V]),(0,n.useEffect)((()=>{q||$(!1)}),[q]);const N=(0,u.Mz)();(0,n.useEffect)((()=>{const e=null===z.current||z.current;N&&e?W():(G(),q&&!N&&A.triggerPause({enter_method:"switch_tab",playMode:_}))}),[N,W,G,A,q,_]);const H=(0,n.useCallback)((()=>{var e;const t=(0,p.m7)(null===(e=F.current)||void 0===e?void 0:e.getPlayerAttributes()),{bitrate:i,author_id:o,format:n,encodedType:a,videoQuality:r,encodeUserTag:l,codecType:s,definition:d,secret:c,forFriend:u}=y;return Object.assign({id:b,authorId:o,playMode:_,bitrate:i,format:n,encodedType:a,videoQuality:r,encodeUserTag:l,codecType:s,definition:d,secret:c,forFriend:u},null!=t?t:{})}),[b,_,y]),{mute:Y}=(0,r.mp)(g.x),Q=(0,n.useMemo)((()=>{const{group_id:e="",author_id:t="",is_scheduled:i,search_id:o,search_keyword:n,search_result_id:a,question_id:r}=y||{};return{itemId:e,authorId:t,isScheduled:Boolean(i),autoplayStatus:1,searchId:o,searchKeyword:n,searchResultId:a,questionId:r,playMode:_,isMute:Y}}),[_,Y,y]),J=(0,n.useCallback)((()=>{var e;const{currentTime:t=0,duration:i=0}=(0,p.m7)(null===(e=F.current)||void 0===e?void 0:e.getPlayerAttributes());return Object.assign(Object.assign({},Q),{currentTime:t,duration:i})}),[Q]),{loading:K,handleCanPlayWithLoading:X,handlePauseWithLoading:ee,handlePlayingWithLoading:te,handleWaitingWithLoading:ie}=(0,u.Fk)({isCurrentVideo:q}),oe=(0,n.useCallback)((()=>{E.handleLoadStart(H())}),[E,H]),ne=(0,n.useCallback)((()=>{E.handleLoadedData(H())}),[E,H]),ae=(0,n.useCallback)((()=>{X(),$(!0),U.getCurrentPageReport()||(U.reportVideoFirstScreen({endTime:Date.now(),videoSource:a}),U.reportVideoAddition({endTime:Date.now(),videoSource:a}))}),[X,a,U]),re=(0,n.useCallback)((e=>{E.handlePlay(),null==S||S(e)}),[E,S]),le=(0,n.useCallback)((()=>{var e;const{currentTime:t=0,duration:i=0}=(0,p.m7)(null===(e=F.current)||void 0===e?void 0:e.getPlayerAttributes()),o=A.handleTimeUpdate(J());E.handleTimeUpdate(H()),"video_play"===o&&B(),U.getFirstFrameReport()||U.reportVideoFirstFrame(t),null==D||D(t/i)}),[A,J,E,H,U,D,B]),se=(0,u.ru)(),de=(0,n.useCallback)((e=>{null==T||T(e),se(e),A.handleError(Q),E.handleError(H())}),[T,se,A,Q,E,H]),ce=(0,n.useCallback)((e=>{null==C||C(e),ee(),E.handlePause(H()),A.handlePause(J())}),[C,ee,E,H,A,J]),ue=(0,n.useCallback)((e=>{null==w||w(e),te(),U.reportVideoInteract({endTime:Date.now(),videoSource:a})}),[w,te,U,a]),pe=(0,n.useCallback)((()=>{ie(),A.handleWaiting(J()),E.handleWaiting(H())}),[ie,A,J,E,H]),me=(0,n.useCallback)((e=>{null==P||P(e),A.handleEnded(Q),E.handleEnded()}),[P,A,Q,E]),he=(0,n.useCallback)((e=>{A.handlePlayTime(Q),E.reset(b,Object.assign(Object.assign({},H()),e))}),[b,A,Q,E,H]);(0,n.useEffect)((()=>{q||null==C||C({})}),[q,C]);const ge=i||2===_||3===_||4===_;return(0,o.jsxs)(v.wu,Object.assign({horizontal:i,mode:_},{children:[e?(0,o.jsx)(v.TF,{horizontal:ge,mode:_,src:e,alt:k,loading:t?"lazy":"eager"},void 0):null,q&&(0,o.jsxs)(v.Kp,Object.assign({"data-e2e":I},{children:[(0,o.jsx)(h.N,{ref:F,horizontal:ge,muteSetting:j||m.P[_].forceMute,defaultMute:m.P[_].defaultMute,playProgress:null!=M?M:0,src:a,onUnmount:he,onLoadStart:oe,onLoadedData:ne,onTimeUpdate:le,onError:de,onCanPlay:ae,onPause:ce,onPlay:re,onPlaying:ue,onWaiting:pe,onEnded:me,disableDownload:R},void 0),K&&(0,o.jsx)(v.Nm,{},void 0),4===_&&O?(0,o.jsx)("track",{default:!0,kind:"subtitles",srclang:O.language,src:O.url},void 0):null]}),void 0)]}),void 0)})));var y=i(25615),f=i.n(y),_=i(97913),j=i(64047),k=i(12468),C=i(37359),w=i(73225);let S=!0;const P={width:"100%",height:"100%",controls:!1,closeVideoClick:!0,closeVideoDblclick:!0,closeVideoTouch:!0,closePlayerBlur:!0,closeControlsBlur:!0,closeFocusVideoFocus:!0,closePlayVideoFocus:!0,closeVideoStopPropagation:!0,ignores:["play","start"]};var T;!function(e){e.NoInteract="failed because the user didn't interact with the document first.",e.SafariNoInteract="The request is not allowed by the user agent or the platform in the current context",e.AbortRequest="new load request"}(T||(T={}));const I=(e,t)=>{var i,o,n,a,r,l,s;const d=null!==(o=null===(i=null==e?void 0:e.video)||void 0===i?void 0:i.error)&&void 0!==o?o:null,c=null===(n=null==e?void 0:e.video)||void 0===n?void 0:n.buffered,u=null!==(a=null==e?void 0:e._needFilterFallbackCase)&&void 0!==a&&a,p=null==e?void 0:e.currentTime,m=u&&p>0,h=null==e?void 0:e._resetNeedFilterFallbackCase,g=null==e?void 0:e._videoType,v=null==e?void 0:e._playerType;return{buffered:c,currentTime:p,currentSrc:null!=t?t:null==e?void 0:e.currentSrc,duration:null==e?void 0:e.duration,readyState:null===(r=null==e?void 0:e.video)||void 0===r?void 0:r.readyState,networkState:null===(l=null==e?void 0:e.video)||void 0===l?void 0:l.networkState,error:d?{code:null==d?void 0:d.code,message:null!==(s=null==e?void 0:e.error)&&void 0!==s?s:(null==d?void 0:d.message)||"UNKNOWN_ERROR_MESSAGE",MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4}:null,videoType:g,playerType:v,needFilterFallbackCase:m,resetNeedFilterFallbackCase:h,volume:null==e?void 0:e.volume,muted:null==e?void 0:e.muted}},D=(0,n.memo)((0,n.forwardRef)((function({id:e,url:t,mode:i,muteSetting:a,playProgress:s,onLoadStart:d,onLoadedData:c,onCanPlay:u,onPause:p,onPlay:m,onPlaying:h,onTimeUpdate:v,onWaiting:x,onEnded:b,onError:y,onUnmount:T,onVideoChange:D,subtitleStruct:O,disableDownload:R,usePreload:L},Z){const[M,B]=(0,n.useState)(!1),F=(0,n.useRef)(!1),z=(0,n.useRef)(null),[{mute:A,volume:E},{setMute:U,setMuteSetting:V}]=(0,r.b7)(g.x,{selector:e=>({mute:e.muteSetting||e.mute,volume:e.volume}),dependencies:[]}),$=(0,l.fz)(_.Re);(0,n.useEffect)((()=>{const o=$.getPreloadUrls(),n=(e=>{const{id:t,mode:i,preloadUrlsList:o,url:n,volume:a,onAutoplayFailed:r,disableDownload:l,usePreload:s}=e,d=`xgwrapper-${i}-${t}`,c=Object.assign({url:n,id:d,autoplay:S,vid:`TT-vCache-${t}`,plugins:[w.Z],volume:a,defaultDefinition:"10",defaultBitrate:1e3,enableContextmenu:!l,Mp4EncryptPlayer:{minBufferLength:5,maxBufferLength:15,preloadTime:5,preloadCacheType:1,preloadMaxCacheCount:5,needPreloadRangeList:!0,needPreloadCheck:!0,needAutoBitrate:!0,xhrSetup(e){e.withCredentials=!0}}},P),u=new k.ZP(c);return u._videoType="mp4",u._playerType="xgplayer",s&&(null==o?void 0:o.length)&&u.plugins.mp4encryptplayer.addPreloaderList((e=>{const t=[];return e.forEach(((e,i)=>{const{id:o,url:n}=e,a={order:i,data:{vid:`TT-vCache-${o}`,payload:[{url:n,definition:10}],preloadTime:5}};t.push(a)})),t})(o)),s&&u.on("PRELOAD_INFO",(e=>{const i=(0,_.Ld)();null==i||i.setPreloadCacheInfo(t,e)})),u.on("playCatch",(e=>{u._videoType=e,u._playerType="defaultPlayer",u._needFilterFallbackCase=!0})),u.on(C.lB,(()=>{null==r||r(),setTimeout((()=>{try{u.play()}catch(e){console.error("handle xgplayer autoplay error...")}}),0)})),u._resetNeedFilterFallbackCase=()=>{u._needFilterFallbackCase=!1},S=!1,u})({id:e,url:t,mode:i,volume:E,preloadUrlsList:o,disableDownload:R,usePreload:L,onAutoplayFailed:()=>{U(!0)}});z.current=n,B(!0)}),[e,t,i,$,U]);const W=(0,r.mp)(g.x,{selector:e=>e.playing,dependencies:[]});(0,n.useImperativeHandle)(Z,(()=>{const e=z.current;return{play:()=>(0,j.__awaiter)(this,void 0,void 0,(function*(){try{(null==e?void 0:e.isCanplay)?yield null==e?void 0:e.play():null==e||e.once("canplay",(()=>(0,j.__awaiter)(this,void 0,void 0,(function*(){yield null==e?void 0:e.play()}))))}catch(e){console.error("Video play error: ",e)}})),pause:()=>{try{null==e||e.pause()}catch(e){console.error("Video pause error: ",e)}},seek:t=>{if(e){const{duration:i}=e;e.currentTime=i*t}},seekTime:t=>{e&&(e.currentTime=t)},onSeeked:t=>{null==e||e.on("seeked",t)},onSeeking:t=>{null==e||e.on("seeking",t)},onTimeUpdate:t=>{null==e||e.on("timeupdate",(()=>{var i,o;const n=null!==(i=e.currentTime)&&void 0!==i?i:0,a=null!==(o=e.duration)&&void 0!==o?o:0;t(n/a,n,a)}))},onCanPlay:t=>{null==e||e.on("canplay",t)},getPlayerAttributes:()=>I(e,t)}}));const G=(0,n.useCallback)(((e=0)=>(0,j.__awaiter)(this,void 0,void 0,(function*(){var t,i,o,n,a;if(!(e>=3))try{(null===(t=z.current)||void 0===t?void 0:t.isCanplay)?yield null===(i=z.current)||void 0===i?void 0:i.play():null===(o=z.current)||void 0===o||o.once("canplay",(()=>(0,j.__awaiter)(this,void 0,void 0,(function*(){var e;yield null===(e=z.current)||void 0===e?void 0:e.play()}))))}catch(t){const i=null!==(n=t.message)&&void 0!==n?n:"",o=i.indexOf("new load request")>-1,r=null!==(a=i.match("failed because the user didn't interact with the document first."))&&void 0!==a?a:i.match("The request is not allowed by the user agent or the platform in the current context");if(o)return;r?(U(!0),setTimeout((()=>{G(e+1)}),0)):G(e+1)}}))),[U]),q=(0,n.useCallback)((()=>{var e;try{(null===(e=z.current)||void 0===e?void 0:e.replay)&&z.current.replay()}catch(e){setTimeout((()=>{U(!0)}),0)}}),[U]);(0,n.useEffect)((()=>{M&&z.current&&(z.current.muted=A,z.current.volume=E)}),[M,A,E]),(0,n.useEffect)((()=>{const e=z.current;V(a),M&&G(),e&&Math.abs(e.currentTime-s)>.2&&(e.currentTime=s)}),[a,s,G,V,M]);const N=(0,n.useCallback)((e=>{M&&(null==x||x(e))}),[M,x]),H=(0,n.useCallback)((e=>{M&&(null==b||b(e),q())}),[M,b,q]),Y=(0,n.useMemo)((()=>new Map([["loadstart",d],["loadeddata",c],["timeupdate",v],["error",y],["canplay",u],["pause",p],["play",m],["playing",h],["waiting",N],["ended",H]])),[H,N,u,y,d,c,p,m,h,v]);return(0,n.useEffect)((()=>{var e;if(M){for(const[t,i]of Y)null===(e=z.current)||void 0===e||e.on(t,null!=i?i:f());return()=>{var e,t;if(null===(e=z.current)||void 0===e?void 0:e.off)for(const[e,i]of Y)null===(t=z.current)||void 0===t||t.off(e,null!=i?i:f())}}}),[M,Y]),(0,n.useEffect)((()=>{var e;W?F.current&&(F.current=!1,G()):(F.current=!0,null===(e=z.current)||void 0===e||e.pause())}),[W,G]),(0,n.useEffect)((()=>()=>{T(I(z.current,t))}),[]),(0,n.useEffect)((()=>()=>{var e,t;B(!1),(null===(e=z.current)||void 0===e?void 0:e.cancelPreloadTask)&&z.current.cancelPreloadTask(),(null===(t=z.current)||void 0===t?void 0:t.destroy)&&z.current.destroy(),z.current=null,null==D||D(!1)}),[e,t,i,D]),(0,o.jsx)("div",Object.assign({id:`xgwrapper-${i}-${e}`,className:"xgplayer-container"},{children:4===i&&O?(0,o.jsx)("track",{default:!0,kind:"subtitles",srclang:O.language,src:O.url},void 0):null}),void 0)}))),O=(0,n.memo)((0,n.forwardRef)((function({poster:e,lazyLoading:t=!0,horizontal:i,playUrl:a,id:h,teaParams:b,index:y,mode:j,itemMute:k,desc:C,onVideoPause:w=f(),onVideoPlaying:S=f(),onVideoPlay:P,onVideoEnded:T,onVideoError:I,onTimeUpdate:O,onVideoInit:R=f(),e2eTag:L,subtitleStruct:Z,disableDownload:M=!0,usePreload:B},F){const{currentVideo:z,playProgress:A}=(0,r.mp)(x.f),E=(0,l.fz)(s.e),U=(0,l.fz)(d.k),V=(0,l.fz)(c.KF),$=(0,n.useRef)(null),W=(0,n.useRef)(null),[G,q]=(0,n.useState)(!1),[N,H]=(0,n.useState)(a);(0,n.useEffect)((()=>{const{id:e,mode:t}=null!=z?z:{};e===h&&j===t||H(a)}),[z,h,j,a]);const Y=(0,n.useCallback)((()=>{var e,t;try{null===(t=null===(e=$.current)||void 0===e?void 0:e.play)||void 0===t||t.call(e)}catch(e){}}),[]),Q=(0,n.useCallback)((()=>{var e,t;null===(t=null===(e=$.current)||void 0===e?void 0:e.pause)||void 0===t||t.call(e)}),[]),J=(0,n.useMemo)((()=>{if(!z)return!1;const{id:e,index:t,mode:i}=z;return e===h&&t===y&&i===j}),[h,y,j,z]);(0,n.useImperativeHandle)(F,(()=>({play:()=>{Y(),W.current=!0},pause:()=>{Q(),W.current=!1,E.triggerPause({enter_method:"click_pause",playMode:j})},seek:e=>{var t;null===(t=$.current)||void 0===t||t.seek(e)},seekTime:e=>{var t;null===(t=$.current)||void 0===t||t.seekTime(e)},onSeeked:e=>{var t;null===(t=$.current)||void 0===t||t.onSeeked(e)},onSeeking:e=>{var t;null===(t=$.current)||void 0===t||t.onSeeking(e)},onTimeUpdate:e=>{var t;null===(t=$.current)||void 0===t||t.onTimeUpdate(e)},get currentTime(){var e,t;return null!==(t=null===(e=$.current)||void 0===e?void 0:e.getPlayerAttributes().currentTime)&&void 0!==t?t:0},get duration(){var e,t;return null!==(t=null===(e=$.current)||void 0===e?void 0:e.getPlayerAttributes().duration)&&void 0!==t?t:0},get currentCanPlay(){return J&&G}})),[G,J,j,Q,Y,E]),(0,n.useEffect)((()=>{J||q(!1)}),[J]);const K=(0,u.Mz)();(0,n.useEffect)((()=>{const e=null===W.current||W.current;K&&e?Y():(Q(),J&&!K&&E.triggerPause({enter_method:"switch_tab",playMode:j}))}),[K,Y,Q,E,J,j]);const X=(0,n.useCallback)((()=>{var e;const t=(0,p.m7)(null===(e=$.current)||void 0===e?void 0:e.getPlayerAttributes()),{bitrate:i,author_id:o,format:n,encodedType:a,videoQuality:r,encodeUserTag:l,codecType:s,definition:d,secret:c,forFriend:u}=b;return Object.assign({id:h,authorId:o,playMode:j,bitrate:i,format:n,encodedType:a,videoQuality:r,encodeUserTag:l,codecType:s,definition:d,secret:c,forFriend:u},null!=t?t:{})}),[h,j,b]),{mute:ee}=(0,r.mp)(g.x),te=(0,n.useMemo)((()=>{const{group_id:e,author_id:t,is_scheduled:i,search_id:o,search_keyword:n,search_result_id:a,question_id:r}=b;return{itemId:e,authorId:t,isScheduled:Boolean(i),autoplayStatus:1,searchId:o,searchKeyword:n,searchResultId:a,questionId:r,playMode:j,isMute:ee}}),[j,ee,b]),ie=(0,n.useCallback)((()=>{var e;const{currentTime:t=0,duration:i=0}=(0,p.m7)(null===(e=$.current)||void 0===e?void 0:e.getPlayerAttributes());return Object.assign(Object.assign({},te),{currentTime:t,duration:i})}),[te]),{loading:oe,handleCanPlayWithLoading:ne,handlePauseWithLoading:ae,handlePlayingWithLoading:re,handleWaitingWithLoading:le}=(0,u.Fk)({isCurrentVideo:J}),se=(0,n.useCallback)((()=>{U.handleLoadStart(X())}),[U,X]),de=(0,n.useCallback)((()=>{U.handleLoadedData(X())}),[U,X]),ce=(0,n.useCallback)((()=>{ne(),q(!0),null==R||R(!0),V.getCurrentPageReport()||(V.reportVideoFirstScreen({endTime:Date.now(),videoSource:N}),V.reportVideoAddition({endTime:Date.now(),videoSource:N}))}),[ne,R,V,N]),ue=(0,n.useCallback)((e=>{U.handlePlay(),null==P||P(e)}),[U,P]),pe=(0,n.useCallback)((()=>{var e;const{currentTime:t=0,duration:i=0,needFilterFallbackCase:o,resetNeedFilterFallbackCase:n,videoType:a,playerType:r}=(0,p.m7)(null===(e=$.current)||void 0===e?void 0:e.getPlayerAttributes()),l=(0,_.Ld)(),{byteLength:s,duration:d}=l.getPreloadCacheInfo(h);E.handleTimeUpdate(ie()),U.handleTimeUpdate(Object.assign(Object.assign({},X()),{preload_size:s,preload_time:d,video_type:a,player_type:r,should_filter:o})),V.getFirstFrameReport()||V.reportVideoFirstFrame(t),o&&(null==n||n()),null==O||O(t/i)}),[E,ie,U,X,V,O,h]),me=(0,u.A4)(),he=(0,n.useCallback)((e=>{var t;null==I||I(e),me(null===(t=$.current)||void 0===t?void 0:t.getPlayerAttributes()),E.handleError(te),U.handleError(X())}),[I,me,E,te,U,X]),ge=(0,n.useCallback)((e=>{w(e),ae(),U.handlePause(X()),E.handlePause(ie())}),[w,ae,U,X,E,ie]),ve=(0,n.useCallback)((e=>{S(e),re(),V.reportVideoInteract({endTime:Date.now(),videoSource:N})}),[S,re,V,N]),xe=(0,n.useCallback)((()=>{var e,t;le();const i=X(),{buffered:o,currentTime:n=0,duration:a=0}=i,r=(null!==(e=null==o?void 0:o.length)&&void 0!==e?e:0)>0&&null!==(t=null==o?void 0:o.start(0))&&void 0!==t?t:0;Math.abs(r-n)<.5||Math.abs(a-n)<.5||(E.handleWaiting(ie()),U.handleWaiting(X()))}),[ie,X,le,E,U]),be=(0,n.useCallback)((e=>{null==T||T(e),E.handleEnded(te),U.handleEnded()}),[T,E,te,U]),ye=(0,n.useCallback)((e=>{const t=(0,_.Ld)(),{byteLength:i,duration:o}=t.getPreloadCacheInfo(h);E.handlePlayTime(te),U.reset(h,Object.assign(Object.assign(Object.assign({},X()),e),{preload_size:i,preload_time:o}))}),[X,h,E,te,U]);(0,n.useEffect)((()=>{J||null==w||w({})}),[J,w]);const fe=(0,n.useCallback)((()=>{null==R||R()}),[R]),_e=i||2===j||3===j||4===j;return(0,o.jsxs)(v.wu,Object.assign({horizontal:i,mode:j},{children:[e?(0,o.jsx)(v.TF,{horizontal:_e,mode:j,src:e,alt:C,loading:t?"lazy":"eager"},void 0):null,J&&(0,o.jsxs)(v.Kp,Object.assign({horizontal:_e,"data-e2e":L},{children:[(0,o.jsx)(D,{ref:$,id:h,url:N,mode:j,muteSetting:k||m.P[j].forceMute,defaultMute:m.P[j].defaultMute,playProgress:null!=A?A:0,onUnmount:ye,onLoadStart:se,onLoadedData:de,onTimeUpdate:pe,onError:he,onCanPlay:ce,onPause:ge,onPlay:ue,onPlaying:ve,onWaiting:xe,onEnded:be,onVideoChange:fe,subtitleStruct:Z,disableDownload:M,usePreload:B},void 0),oe&&(0,o.jsx)(v.Nm,{},void 0)]}),void 0)]}),void 0)}))),R=(0,n.memo)((0,n.forwardRef)((function(e,t){const i=(0,n.useRef)(null);(0,n.useImperativeHandle)(t,(()=>({play:()=>{var e,t;(null===(e=i.current)||void 0===e?void 0:e.play)&&(null===(t=i.current)||void 0===t||t.play())},pause:()=>{var e,t;(null===(e=i.current)||void 0===e?void 0:e.pause)&&(null===(t=i.current)||void 0===t||t.pause())},seek:e=>{var t,o;(null===(t=i.current)||void 0===t?void 0:t.seek)&&(null===(o=i.current)||void 0===o||o.seek(e))},seekTime:e=>{var t,o;(null===(t=i.current)||void 0===t?void 0:t.seekTime)&&(null===(o=i.current)||void 0===o||o.seekTime(e))},onSeeked:e=>{var t,o;(null===(t=i.current)||void 0===t?void 0:t.onSeeked)&&(null===(o=i.current)||void 0===o||o.onSeeked(e))},onSeeking:e=>{var t,o;(null===(t=i.current)||void 0===t?void 0:t.onSeeking)&&(null===(o=i.current)||void 0===o||o.onSeeking(e))},onTimeUpdate:e=>{var t,o;(null===(t=i.current)||void 0===t?void 0:t.onTimeUpdate)&&(null===(o=i.current)||void 0===o||o.onTimeUpdate(e))},get currentTime(){var e,t;return null!==(t=null===(e=i.current)||void 0===e?void 0:e.currentTime)&&void 0!==t?t:0},get duration(){var e,t;return null!==(t=null===(e=i.current)||void 0===e?void 0:e.duration)&&void 0!==t?t:0},get currentCanPlay(){var e,t;return null!==(t=null===(e=i.current)||void 0===e?void 0:e.currentCanPlay)&&void 0!==t&&t}})));const{isUseNativePlayer:r,isUsePreload:l}=(0,a.It)();return r?(0,o.jsx)(b,Object.assign({},e,{ref:i}),void 0):(0,o.jsx)(O,Object.assign({},e,{usePreload:l,ref:i}),void 0)})))},58869:(e,t,i)=>{i.d(t,{wu:()=>a,TF:()=>r,Kp:()=>l,Nm:()=>s,Ex:()=>d});var o=i(32913),n=i(30074);const a=(0,o.Z)("div",{target:"e1yey0rl0"})((({horizontal:e,mode:t})=>[{width:"100%",height:"100%",overflow:"hidden",position:"relative",backgroundColor:"rgba(22, 24, 35, .06)",backgroundSize:e?"contain":"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},2===t||1===t||3===t?{display:"flex",alignItems:"center",justifyContent:"center"}:null]),"label:DivContainer;"),r=(0,o.Z)("img",{target:"e1yey0rl1"})((({horizontal:e,mode:t})=>2!==t&&3!==t&&4!==t?{width:"100%",height:"100%",objectFit:"cover"}:{width:"100%",height:"100%",objectFit:e?"contain":"cover"}),"label:ImgPoster;"),l=(0,o.Z)("div",{target:"e1yey0rl2"})((({horizontal:e=!0})=>({position:"absolute",left:0,top:0,width:"100%",height:"100%","& .xgplayer video":{display:"block",width:"100%",height:"100%",objectFit:e?"contain":"cover"}})),"label:DivBasicPlayerWrapper;"),s=(0,o.Z)(n.g,{target:"e1yey0rl3"})({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},"label:StyledLoading;"),d=(0,o.Z)("video",{target:"e1yey0rl4"})((({horizontal:e})=>({display:"block",width:"100%",height:"100%",objectFit:e?"contain":"cover"})),"label:VideoBasic;")},36761:(e,t,i)=>{i.d(t,{Q:()=>l});var o=i(9236),n=i(16494),a=i(84785),r=i(24878);function l({item:e,onShow:t}){var i,l,s;const{lang:d}=(0,o.mp)(a.G,{selector:e=>({lang:e.lang}),dependencies:[]}),c=(0,o.mp)(r.z,{selector:t=>{var i,o,n;return null!==(n=null===(o=t.users[null!==(i=null==e?void 0:e.author)&&void 0!==i?i:""])||void 0===o?void 0:o.id)&&void 0!==n?n:""},dependencies:[null==e?void 0:e.author]}),u=(0,o.mp)(r.z,{selector:t=>{var i;return t.users[null!==(i=null==e?void 0:e.author)&&void 0!==i?i:""]},dependencies:[null==e?void 0:e.author]}),{handleShowReport:p}=(0,n.Q)({onShow:t,reportTarget:{lang:d,object_id:null!==(i=null==e?void 0:e.id)&&void 0!==i?i:"",owner_id:c,object_owner_id:c,nickname:null!==(l=null==e?void 0:e.nickname)&&void 0!==l?l:null==e?void 0:e.author,video_id:null!==(s=null==e?void 0:e.id)&&void 0!==s?s:"",video_owner:u,report_type:"video"}});return p}},58500:(e,t,i)=>{i.d(t,{y:()=>l});var o,n,a=i(64047),r=i(10408);!function(e){e.ClickComment="click_comment_button",e.LikeComment="like_comment",e.CancelLikeComment="cancel_like_comment",e.PostComment="post_comment",e.SearchCommentEmoji="search_comment_emoji",e.SearchCommentAt="search_comment_at",e.AddCommentAt="add_comment_at",e.VideoCommentShow="video_comment_show",e.ShowMoreReply="show_more_reply",e.TapComment="tap_comment",e.CloseCommentTab="close_comment_tab",e.CloseComment="close_comment",e.KeepEditingComment="keep_editing_comment",e.LeaveCommentPage="leave_comment_page",e.CopyCommentUrl="web_comment_url",e.CloseCommentPanel="close_comment_panel",e.MentionItemShow="tag_mention_head_show"}(o||(o={})),function(e){e.Original="original",e.Reply="reply",e.ReplyToReply="reply_to_reply"}(n||(n={}));const l={handleCommentClick:e=>{r.W.event("click_comment_button",e)},handleCommentLike:e=>{var{isLike:t}=e,i=(0,a.__rest)(e,["isLike"]);const o=t?"like_comment":"cancel_like_comment";r.W.event(o,i)},handlePostComment:e=>{r.W.event("post_comment",e)},handleShowMoreReply:e=>{r.W.event("show_more_reply",e)},handleCommentShow:e=>{r.W.event("video_comment_show",e)},handleSearchAt:e=>{r.W.event("search_comment_at",e)},handleSelectAt:e=>{r.W.event("add_comment_at",e)},handleEmojiSelect:e=>{r.W.event("search_comment_emoji",e)},handleClose:e=>{r.W.event("close_comment",e)},handleLeaveComment:e=>{r.W.event("leave_comment_page",e)},handleKeepComment:e=>{r.W.event("keep_editing_comment",e)},handleCopyCommentUrl:e=>{r.W.event("web_comment_url",e)},handleTapComment:e=>{r.W.event("tap_comment",e)},handleCloseCommentTab:()=>{r.W.event("close_comment_tab",{enter_method:"click_cancel"})},handleCloseCommentPanel:e=>{r.W.event("close_comment_panel",e)},handleMentionItemShow:e=>{r.W.event("tag_mention_head_show",Object.assign(Object.assign({},e),{function:"mention"}))}}},86385:(e,t,i)=>{i.d(t,{V:()=>a});var o,n=i(10408);!function(e){e.EnterText="enter_text",e.CloseText="close_text"}(o||(o={}));const a={handleEnterText:e=>{n.W.event("enter_text",e)},handleCloseText:e=>{n.W.event("close_text",e)}}},3453:(e,t,i)=>{i.d(t,{y:()=>a});var o,n=i(10408);!function(e){e.Report="click_report",e.ReportSubmit="web_report_submit",e.ReportNext="web_choose_report_reason_next"}(o||(o={}));const a={handleShowReport:e=>{n.W.event("click_report",Object.assign(Object.assign({},e),{channel:"web"}))},handleReportSubmit:e=>{n.W.event("web_report_submit",e)},handleReportNext:e=>{n.W.event("web_choose_report_reason_next",e)}}},91036:(e,t,i)=>{i.d(t,{Z:()=>r});var o,n=i(64047),a=i(10408);!function(e){e.ShowProgressBar="show_progress_bar",e.ClickProgressBar="click_progress_bar"}(o||(o={}));const r={handleSeekBarAutoShow:e=>{a.W.event("show_progress_bar",Object.assign(Object.assign({},e),{show_method:"preview"}))},handleSeekBarClick:e=>{var{fromPercent:t,toPercent:i,video_length:o}=e,r=(0,n.__rest)(e,["fromPercent","toPercent","video_length"]);const l=i>t?"front":"back",s=o*t,d=o*i;a.W.event("click_progress_bar",Object.assign({action_type:l,seek_from:s,seek_to:d,video_length:o},r))}}},14563:(e,t,i)=>{i.d(t,{$:()=>r});var o,n=i(10408);!function(e){e.SwitchSound="switch_sound",e.UnmuteButtonShow="unmute_show",e.UnmuteButtonClicked="unmute_click",e.VolumeChange="volume_change"}(o||(o={}));const a={0:"one-column",1:"three-column",2:"browser-mode",3:"swiper-mode",4:"video-detail"},r={handleSwitchSound:e=>{const{muted:t,playMode:i,enter_method:o="click",volume_from:r,volume_to:l}=e;void 0!==r&&void 0!==l?n.W.event("switch_sound",{sound_mode:l>r?"adjust_up":"adjust_down",play_mode:a[i],enter_method:o,volume_from:r,volume_to:l}):n.W.event("switch_sound",{sound_mode:t?"off":"on",play_mode:a[i],enter_method:o})},handleVideoUnmuteButtonShow:()=>{n.W.event("unmute_show")},handleVideoUnmuteButtonClicked:()=>{n.W.event("unmute_click")},handleVolumeChange:e=>{const{volume_from:t=0,volume_to:i=0,click_mute:o=!1}=e;n.W.event("volume_change",{volume_change:o?0:Number((i-t).toFixed(4)),volume_level:i,click_mute:o})}}},74920:(e,t,i)=>{i.d(t,{X:()=>p});var o=i(11040),n=i(91051),a=i(42875),r=i(7998),l=i(27918);const s=(0,r.Z)("label",{target:"e8efyri0"})((({theme:e})=>({display:"flex",fontFamily:e.fontFamilies.Proxima,fontWeight:e.fontWeights.normal,fontSize:"14px",color:e.colors.TextPrimary,cursor:"pointer"})),"label:LabelCheckbox;"),d=(0,r.Z)("div",{target:"e8efyri1"})({color:"#fff",position:"relative"},"label:DivCheckboxSymbol;"),c=(0,r.Z)("input",{target:"e8efyri2"})((({selected:e,theme:t,theme:{direction:i}})=>[Object.assign({appearance:"none",border:`1.5px solid ${t.colors.LineSecondary}`,margin:"0 0 -2.5px 0",cursor:"pointer"},e?{border:"none",backgroundColor:t.colors.Primary}:{}),(0,l.YJ)({direction:i,marginEnd:4})]),"label:InputCheckbox;"),u=(0,r.Z)("div",{target:"e8efyri3"})((({theme:{direction:e}})=>[{pointerEvents:"none",position:"absolute",top:"3px"},(0,l.YJ)({direction:e,start:3})]),"label:DivCheckboxIcon;"),p=(0,n.memo)((function({id:e,value:t,label:i,size:r=16,isCircle:l=!0,disabled:p,style:m,onChange:h}){const g=r,v=r-6,x=(0,n.useCallback)((e=>{null==h||h(e.target.checked)}),[h]);return(0,o.jsxs)(s,Object.assign({htmlFor:e,style:m},{children:[(0,o.jsxs)(d,Object.assign({className:"checkbox-symbol"+(t?" selected":"")},{children:[(0,o.jsx)(c,{style:{width:g,height:g,borderRadius:l?g/2:0},selected:t,id:e,checked:t,type:"checkbox",disabled:p,onChange:x},void 0),t&&(0,o.jsx)(u,Object.assign({style:{width:v,height:v}},{children:(0,o.jsx)(a.Z,{width:v,height:v},void 0)}),void 0)]}),void 0),i]}),void 0)}))},45802:(e,t,i)=>{i.d(t,{Z:()=>o});const o=[{emoji:"😀",alias:"grinning"},{emoji:"😃",alias:"smiley"},{emoji:"😄",alias:"smile"},{emoji:"😁",alias:"grin"},{emoji:"😆",alias:"laughing"},{emoji:"😅",alias:"sweat_smile"},{emoji:"🤣",alias:"rofl"},{emoji:"😂",alias:"joy"},{emoji:"🙂",alias:"slightly_smiling_face"},{emoji:"🙃",alias:"upside_down_face"},{emoji:"😉",alias:"wink"},{emoji:"😊",alias:"blush"},{emoji:"😇",alias:"innocent"},{emoji:"😍",alias:"heart_eyes"},{emoji:"😘",alias:"kissing_heart"},{emoji:"😗",alias:"kissing"},{emoji:"😚",alias:"kissing_closed_eyes"},{emoji:"😙",alias:"kissing_smiling_eyes"},{emoji:"😋",alias:"yum"},{emoji:"😛",alias:"stuck_out_tongue"},{emoji:"😜",alias:"stuck_out_tongue_winking_eye"},{emoji:"😝",alias:"stuck_out_tongue_closed_eyes"},{emoji:"🤑",alias:"money_mouth_face"},{emoji:"🤗",alias:"hugs"},{emoji:"🤔",alias:"thinking"},{emoji:"🤐",alias:"zipper_mouth_face"},{emoji:"😐",alias:"neutral_face"},{emoji:"😑",alias:"expressionless"},{emoji:"😶",alias:"no_mouth"},{emoji:"😏",alias:"smirk"},{emoji:"😒",alias:"unamused"},{emoji:"🙄",alias:"roll_eyes"},{emoji:"😬",alias:"grimacing"},{emoji:"🤥",alias:"lying_face"},{emoji:"😌",alias:"relieved"},{emoji:"😔",alias:"pensive"},{emoji:"😪",alias:"sleepy"},{emoji:"🤤",alias:"drooling_face"},{emoji:"😴",alias:"sleeping"},{emoji:"😷",alias:"mask"},{emoji:"🤒",alias:"face_with_thermometer"},{emoji:"🤕",alias:"face_with_head_bandage"},{emoji:"🤢",alias:"nauseated_face"},{emoji:"🤧",alias:"sneezing_face"},{emoji:"😵",alias:"dizzy_face"},{emoji:"🤠",alias:"cowboy_hat_face"},{emoji:"😎",alias:"sunglasses"},{emoji:"🤓",alias:"nerd_face"},{emoji:"😕",alias:"confused"},{emoji:"😟",alias:"worried"},{emoji:"🙁",alias:"slightly_frowning_face"},{emoji:"😮",alias:"open_mouth"},{emoji:"😯",alias:"hushed"},{emoji:"😲",alias:"astonished"},{emoji:"😳",alias:"flushed"},{emoji:"😦",alias:"frowning"},{emoji:"😧",alias:"anguished"},{emoji:"😨",alias:"fearful"},{emoji:"😰",alias:"cold_sweat"},{emoji:"😥",alias:"disappointed_relieved"},{emoji:"😢",alias:"cry"},{emoji:"😭",alias:"sob"},{emoji:"😱",alias:"scream"},{emoji:"😖",alias:"confounded"},{emoji:"😣",alias:"persevere"},{emoji:"😞",alias:"disappointed"},{emoji:"😓",alias:"sweat"},{emoji:"😩",alias:"weary"},{emoji:"😫",alias:"tired_face"},{emoji:"😤",alias:"triumph"},{emoji:"😡",alias:"rage"},{emoji:"😠",alias:"angry"},{emoji:"😈",alias:"smiling_imp"},{emoji:"👿",alias:"imp"},{emoji:"💀",alias:"skull"},{emoji:"💩",alias:"hankey"},{emoji:"🤡",alias:"clown_face"},{emoji:"👹",alias:"japanese_ogre"},{emoji:"👺",alias:"japanese_goblin"},{emoji:"👻",alias:"ghost"},{emoji:"👽",alias:"alien"},{emoji:"👾",alias:"space_invader"},{emoji:"🤖",alias:"robot"},{emoji:"😺",alias:"smiley_cat"},{emoji:"😸",alias:"smile_cat"},{emoji:"😹",alias:"joy_cat"},{emoji:"😻",alias:"heart_eyes_cat"},{emoji:"😼",alias:"smirk_cat"},{emoji:"😽",alias:"kissing_cat"},{emoji:"🙀",alias:"scream_cat"},{emoji:"😿",alias:"crying_cat_face"},{emoji:"😾",alias:"pouting_cat"}]}}]);