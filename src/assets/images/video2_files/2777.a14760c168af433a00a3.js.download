"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2777],{96207:(e,t,i)=>{i.d(t,{Q:()=>O});var o=i(11040),n=i(91051),r=i(75131),a=i(35468),s=i(8721),l=i(21041),d=i(66958),c=i(97103),p=i(32913);const h=(0,p.Z)("span",{target:"efbd9f0"})({fontWeight:400},"label:SpanText;");var u;!function(e){e[e.User=0]="User",e[e.Challenge=1]="Challenge"}(u||(u={}));const m=(e,t,i={})=>(0,o.jsx)(h,Object.assign({style:i},{children:e}),e+t),g={fontWeight:700},y={},_=e=>{const{item:t,DuetComp:i,LinkComp:n,QuestionComp:r,renderText:a=m,shouldReport:s,reportParams:p,styleType:h,mode:u}=e,_=(0,l.TH)();if(!(null==t?void 0:t.desc))return null;const{textExtra:v,desc:f,authorId:b,id:x}=t,w="kep"===h?g:y;return(null==v?void 0:v.length)?(0,o.jsx)(o.Fragment,{children:[...v].sort(((e,t)=>e.start-t.start)).reduce(((t,l,m,g)=>{const{start:y,end:v,awemeId:k,userUniqueId:C,hashtagName:S,type:j,subType:I,userId:P,hashtagId:T,questionId:O="",questionContent:M=""}=l,L=0===m?0:g[m-1].end,D=y,E=f.substring(L,D);E&&t.push(a(E,t.length-1,w));const B=7===(R=I)||5===R;var R;const A=f.substring(y,v);if(0===j&&B){const i=(0,c.C)({to:{pathname:(0,d._9)({questionId:O,questionContent:M})},location:_});t.push((0,o.jsx)(r,{href:i,text:null!=C?C:"",index:t.length-1,id:O,type:"question",authorId:b,groupId:x,shouldReport:s,reportParams:p,styleType:"question",inline:"compact"===u,onLinkClick:e.onLinkClick,onSearchResultClick:e.onSearchResultClick},A+m))}else if(0===j&&k){const n=(0,c.C)({to:{pathname:(0,d.fH)({uniqueId:null!=C?C:"",videoId:k})},location:_});t.push((0,o.jsx)(i,{href:n,text:A,index:t.length-1,id:k,type:"video",authorId:b,groupId:x,shouldReport:s,reportParams:p,styleType:"duet",onLinkClick:e.onLinkClick,onSearchResultClick:e.onSearchResultClick},A+m))}else if(0===j&&P){const i=(0,c.C)({to:{pathname:(0,d.yl)({uniqueId:null!=C?C:""})},location:_});t.push((0,o.jsx)(n,{href:i,text:A,index:t.length-1,id:P,type:"user",authorId:b,groupId:x,shouldReport:s,reportParams:p,styleType:h,onLinkClick:e.onLinkClick,onSearchResultClick:e.onSearchResultClick},A+m))}else if(1===j&&S){const i=(0,c.C)({to:{pathname:(0,d.JD)({tagName:S})},location:_});t.push((0,o.jsx)(n,{href:i,text:A,index:t.length-1,id:null!=T?T:"",type:"tag",authorId:b,groupId:x,shouldReport:s,reportParams:p,styleType:h,onLinkClick:e.onLinkClick,onSearchResultClick:e.onSearchResultClick},A+m))}else t.push(a(A,t.length-1,w));return m===g.length-1&&t.push(a(f.substring(v),t.length,w)),t}),[])},void 0):a(f,0,w)};var v=i(27918),f=i(77107);const b="inline-block",x=(0,p.Z)("div",{target:"ejg0rhn0"})((({ellipsis:e,ellispsisLine:t,theme:i,theme:{direction:o,colors:n},styleType:r})=>[Object.assign({},i.typography.P2),e?(0,v.f1)({max:479,style:v.wj}):null,t?1===t?[v.wj,(0,v.YJ)({direction:o,display:"-webkit-box",WebkitLineClamp:"1",WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"pre-line"})]:(0,v.FC)(t):null,"tag"===r||"question"===r?[(0,v.GI)({theme:i,fontFamily:"Proxima",fontWeight:"semiBold"}),{lineHeight:"22px",color:n.TextPrimary,pointerEvents:"none","a:hover":[{textDecoration:"none"},(0,v.YJ)({direction:o,display:b,verticalAlign:"top",maxWidth:"100%"})],strong:{wordBreak:"break-word",fontWeight:600}}]:null]),"label:DivContainer;"),w=(0,p.Z)("strong",{target:"ejg0rhn1"})((({theme:e,styleType:t=""})=>({fontWeight:"kep"===t?e.fontWeights.bold:e.fontWeights.semiBold})),"label:StrongText;"),k=(0,p.Z)("svg",{target:"ejg0rhn2"})((({theme:{direction:e}})=>[{position:"absolute",top:"50%",marginTop:"-8px"},(0,v.YJ)({direction:e,start:"5px"})]),"label:SvgIcon;"),C=(0,p.Z)(f.v,{shouldForwardProp:e=>"styleType"!==e&&"inline"!==e,target:"ejg0rhn3"})((({styleType:e,inline:t,theme:{direction:i}})=>[{background:"rgba(18, 18, 18, 0.06)",display:t?"inline":b,padding:"1px 5px",position:"relative"},"tag"===e&&[{display:"initial",whiteSpace:"nowrap",fontSize:"14px",lineHeight:"20px"},(0,v.YJ)({direction:i,paddingStart:25})],("duet"===e||"question"===e)&&(0,v.YJ)({direction:i,paddingStart:25}),"kep"===e&&[{fontWeight:700}]]),"label:StyledLink;"),S=(0,p.Z)(f.v,{target:"ejg0rhn4"})({display:b},"label:StyledCommonLink;");function j({type:e,id:t,authorId:i,groupId:o,text:a,isDuet:s,reportParams:l,shouldReport:d,onSearchResultClick:c}){return(0,n.useCallback)((n=>{if(n.stopPropagation(),d)switch(e){case"tag":r.W.handleEnterTagDetail(Object.assign({tag_id:t,author_id:i,group_id:o,enter_method:s?"click_duet":"click_caption"},l)),null==c||c("tag");break;case"user":r.W.handleEnterUser(Object.assign({to_user_id:t,author_id:i,group_id:o,enter_method:s?"click_duet":"click_caption",to_user_name:a.substr(1)},l)),null==c||c("person");break;case"video":r.W.handleEnterVideo(Object.assign({author_id:i,group_id:o,to_group_id:t,enter_method:s?"click_duet":"click_caption"},l));break;case"question":r.W.handleEnterQuestion(Object.assign({author_id:i,group_id:o,question_id:t,enter_method:"click_anchor"},l))}}),[d,e,t,i,o,s,l,c,a])}const I=e=>{const{href:t,text:i,index:r,id:a,type:s,reportParams:l,shouldReport:d=!0,styleType:c,authorId:p,groupId:h,hasSpace:u=!0,onLinkClick:m,onSearchResultClick:g}=e,y=j({type:s,id:a,text:i,isDuet:!0,reportParams:l,shouldReport:d,authorId:p,groupId:h,onSearchResultClick:g}),_=(0,n.useCallback)((e=>{y(e),null==m||m(e,t)}),[y,t,m]);return(0,o.jsxs)(C,Object.assign({to:t,onClick:_,styleType:c},{children:[(0,o.jsx)(k,Object.assign({viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",fill:"#121212",width:16,height:16,styleType:c},{children:(0,o.jsx)("use",{xlinkHref:"#svg-play-fill"},void 0)}),void 0),(0,o.jsxs)(w,{children:[i,u?" ":""]},void 0)]}),i+r)},P=e=>{const{href:t,text:i,index:r,id:l,type:d,reportParams:c,shouldReport:p=!0,styleType:h,inline:u,authorId:m,groupId:g,onLinkClick:y,onSearchResultClick:_}=e,v=(0,s.Q)(),f=j({type:d,id:l,text:i,isDuet:!1,reportParams:c,shouldReport:p,authorId:m,groupId:g,onSearchResultClick:_}),b=(0,n.useCallback)((e=>{if(!l)return e.preventDefault(),a.h.destroy(),void a.h.open({content:v("qapage_webapp_error_title"),duration:3,widthType:"padding"});f(e),null==y||y(e,t)}),[f,t,l,y,v]);return(0,o.jsxs)(C,Object.assign({"data-e2e":"question-video-anchor",to:t,onClick:b,styleType:h,inline:u},{children:[(0,o.jsx)(k,Object.assign({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"#121212",width:16,height:16,styleType:h},{children:(0,o.jsx)("use",{xlinkHref:"#svg-question-fill"},void 0)}),void 0),(0,o.jsx)(w,{children:i},void 0)]}),i+r)},T=e=>{const{href:t,text:i,index:r,id:a,type:s,authorId:l,groupId:d,reportParams:c,shouldReport:p=!0,hasSpace:h=!0,styleType:u,onLinkClick:m,onSearchResultClick:g}=e,y=j({type:s,id:a,authorId:l,groupId:d,text:i,isDuet:!1,reportParams:c,shouldReport:p,onSearchResultClick:g}),_=(0,n.useCallback)((e=>{y(e),null==m||m(e,t)}),[y,t,m]);return(0,o.jsx)(S,Object.assign({to:t,onClick:_},{children:(0,o.jsxs)(w,Object.assign({styleType:u},{children:[i,h?" ":""]}),void 0)}),i+r)},O=(0,n.memo)((function(e){const{item:t,ellispsisLine:i=0,ellipsisOnNarrow:n=!1,e2eTag:r,shouldReport:a=!0,reportParams:s,mode:l,styleType:d="default",style:c={}}=e;return(0,o.jsx)(x,Object.assign({style:c,ellipsis:n,ellispsisLine:i,styleType:d,"data-e2e":r},{children:(0,o.jsx)(_,{mode:l,item:t,DuetComp:I,LinkComp:T,QuestionComp:P,reportParams:s,shouldReport:a,styleType:d,onLinkClick:e.onLinkClick,onSearchResultClick:e.onSearchResultClick},void 0)}),void 0)}))},99727:(e,t,i)=>{i.d(t,{_:()=>_});var o,n=i(64047),r=i(11040),a=i(91051),s=i(75131),l=i(66958),d=i(90035),c=i(77107),p=i(32913),h=i(27918);!function(e){e[e.OneColumn=0]="OneColumn",e[e.BrowserMode=1]="BrowserMode",e[e.KEP=2]="KEP"}(o||(o={}));const u={0:e=>[(0,h.GI)({theme:e,typography:"P2",fontWeight:"semiBold"}),{marginTop:"4px",marginBottom:"12px"},(0,h.f1)({max:767,style:{maxWidth:"250px"}})],1:e=>[(0,h.GI)({theme:e,typography:"P2",fontFamily:"Proxima",fontWeight:"bold"}),{marginTop:"10px",marginBottom:"16px",flex:"0 0 auto"}],2:e=>[(0,h.GI)({theme:e,typography:"P3",fontFamily:"Proxima",fontWeight:"normal"}),{display:"inline",color:e.colors.TextSecondary},{a:{color:e.colors.TextSecondary}},(0,h.YJ)({direction:e.direction,marginStart:12})]},m=(0,p.Z)("h4",{target:"epjbyn0"})((({styleType:e,theme:t})=>u[e](t)),"label:H4Link;"),g={0:{marginRight:"5px"},1:{marginRight:"8px"},2:{marginRight:"4px"}},y=(0,p.Z)("svg",{target:"epjbyn1"})((({styleType:e,theme:{direction:t}})=>[{transform:"translateY(4px)"},(0,h.YJ)({direction:t,marginEnd:g[e].marginRight})]),"label:SvgIcon;");y.defaultProps={width:"1em",height:"1em"};const _=(0,a.memo)((function(e){var t,i,o,p,{item:h,styleType:u,e2eTag:g,teaParams:_={},onLinkClick:v}=e,f=(0,n.__rest)(e,["item","styleType","e2eTag","teaParams","onLinkClick"]);const{music:b,id:x,authorId:w}=null!=h?h:{},k=null!==(t=null==b?void 0:b.title)&&void 0!==t?t:"",C=null!==(i=null==b?void 0:b.authorName)&&void 0!==i?i:"",S="Promoted Music"===k?k:k.replace(`- ${C}`,"")+(C?` - ${C}`:""),j=(0,l.MB)({musicId:null!==(o=null==b?void 0:b.id)&&void 0!==o?o:"",musicName:null!==(p=null==b?void 0:b.title)&&void 0!==p?p:""}),I=(0,a.useCallback)((e=>{s.W.handleEnterMusicDetail(Object.assign(Object.assign({},_),{music_id:null==b?void 0:b.id,group_id:x,author_id:w,enter_method:"click_caption"})),null==v||v(e,j)}),[_,null==b?void 0:b.id,x,w,v,j]);return b?(0,r.jsx)(m,Object.assign({styleType:u,"data-e2e":g},{children:(0,r.jsxs)(c.v,Object.assign({to:j,replace:1===u,onClick:I},f,{children:[(0,r.jsx)(y,Object.assign({styleType:u,viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("use",{xlinkHref:"#svg-music-note"},void 0)}),void 0),S]}),void 0)}),void 0):(0,d.G)(["music"])}))},7582:(e,t,i)=>{i.d(t,{kK:()=>a,uY:()=>l,GF:()=>d,LU:()=>c,V5:()=>p,p6:()=>h,wm:()=>u,JN:()=>m,Bv:()=>g});var o,n=i(39556),r=i.n(n);!function(e){e[e.InsighSuccess=0]="InsighSuccess",e[e.InsighNA=1]="InsighNA",e[e.InsighNotReady=2]="InsighNotReady",e[e.InsighNotEnoughFollowers=3]="InsighNotEnoughFollowers"}(o||(o={}));const a=e=>null==e;function s(e,t){const i=e.split(" ");return 1===i.length?e:[t(i[0]),...i.slice(1)].join(" ")}const l=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");function d(e,t=!1){if(a(e)||isNaN(Number(e)))return"--";if("string"==typeof e)return e;const i=l(Number(e));return t&&e>=0?`+${i}`:i}function c(e,t="HHh:MMm:SSs",i=!1,o=!1){if(a(e))return"--";if("s"===t)return`${Number(e).toFixed(2)}s`;if("s0"===t)return`${Number(e).toFixed(0)}s`;let n=Math.floor(Number(e)/60/60),r=Math.floor(Number(e)%3600/60);const s=Math.floor(Number(e)%60);let l=t;i&&0===n?l=0===r?"SSs":"MMmSSs":-1===t.indexOf("SS")&&s>29&&(r+=1,60===r&&(r=0,n+=1));let d=String(n),c=String(r),p=String(s);return o&&(n<10&&(d=`0${d}`),r<10&&(c=`0${c}`),s<10&&(p=`0${p}`)),l.replace("HH",d).replace("MM",c).replace("SS",p)}function p(e){return Boolean(e&&0===e.status&&!a(e.value))}function h(e,t,i="MM-DD-YYYY HH:mm"){const o=r().unix(e).format(i);return i.includes("MMM")?s(o,t):o}const u=(e,t=!1)=>{if(a(e))return"";const i=e>=0&&t?"+":"";let o=Number(Number(e).toFixed(1)),n="";return e>999999499?(o=(o/1e9).toFixed(1),n="B"):e>999949?(o=(o/1e6).toFixed(1),n="M"):e>9999&&(o=(o/1e3).toFixed(1),n="K"),`${i}${l(o)}${n}`};function m(e,t,i="MM-DD-YYYY h:mm A"){const o=r().unix(e).format(i);return i.includes("MMM")?s(o,t):o}function g(e){const t=function(e){return Math.floor(r().unix(e).utcOffset()/60)}(e);return t<0?t.toString():`+${t}`}},8456:(e,t,i)=>{i.d(t,{_:()=>d,J:()=>c});var o=i(64047),n=i(9236),r=i(25615),a=i.n(r),s=i(91051),l=i(52053);const d=(0,s.createContext)({isBrowserModeShowing:!1,showBrowserMode:a(),closeBrowserMode:a()});function c(){const[e,t]=(0,s.useState)(!1),[i,r]=(0,s.useState)({}),{showBrowserMode:a,closeBrowserMode:d}=(0,n.qj)(l.O),c=(0,s.useCallback)((e=>{const{teaParams:i}=e,n=(0,o.__rest)(e,["teaParams"]);a(n),t(!0),r(null!=i?i:{})}),[a]);return{showBrowserMode:c,closeBrowserMode:(0,s.useCallback)((e=>{t(!1),d(e)}),[d]),isBrowserModeShowing:e,teaParams:i}}},52053:(e,t,i)=>{i.d(t,{O:()=>D});var o=i(64047),n=i(73566),r=i(48185),a=i(19630),s=i(35167),l=i(82346),d=i(11348),c=i(68854),p=i(60595),h=i(20948),u=i(56979),m=i(53095),g=i(93859),y=i(49584),_=i(51905),v=i(5100),f=i(35468),b=i(47165),x=i(90035),w=i(21396),k=i(17230),C=i(74472),S=i(76967),j=i(83421),I=i(57244),P=i(30626),T=i(4206);let O=class{constructor(e){this.fetch=e}postModifyVisibility(e){return this.fetch.post("/api/aweme/modify/visibility/",{query:Object.assign(Object.assign({},e),{tt_csrf_token:this.fetch.csrfToken}),headers:{[P.eD]:this.fetch.csrfToken},baseUrlType:3})}postUserSetting(e){return this.fetch.post("/api/user/set/settings/",{baseUrlType:2,query:Object.assign(Object.assign({},e),{tt_csrf_token:this.fetch.csrfToken}),headers:{[P.eD]:this.fetch.csrfToken}})}postDuetStitchChange(e){return this.fetch.post("/api/aweme/set/react_duet_stitch/",{query:Object.assign(Object.assign({},e),{tt_csrf_token:this.fetch.csrfToken}),headers:{[P.eD]:this.fetch.csrfToken},baseUrlType:3})}postVideoDelete(e){return this.fetch.post("/api/aweme/delete/",{query:Object.assign(Object.assign({},e),{tt_csrf_token:this.fetch.csrfToken}),headers:{[P.eD]:this.fetch.csrfToken},baseUrlType:3})}postScheduleDelete(e){return this.fetch.post("/api/schedule/aweme/delete/",{query:e,headers:{[P.eD]:this.fetch.csrfToken},baseUrlType:3})}};O=(0,o.__decorate)([(0,I.G)(),(0,o.__metadata)("design:paramtypes",[T.r])],O);const M={foryou:0,topic:0,following:0,video:0,music:1,challenge:1,sticker:1,user:1,"user-post":1,"user-liked":1,search_top:1,search_video:1,question:1,playlist:1,live_event:1,video_playlist:0,messages:0,discover:1},L={3:"friends",2:"private",1:"public"};let D=class extends n.D{constructor(e,t,i,o,n,r){super(),this.service=e,this.itemList=t,this.item=i,this.videoPlayer=o,this.videoExperience=n,this.t=r,this.defaultState={currentIndex:0,itemListKey:null,jumpSamePageTime:0,belowPlayMode:0}}setItemListKey(e,t){e.itemListKey=t}setCurrentIndex(e,t){e.currentIndex=t}setBelowPlayMode(e,t){e.belowPlayMode=t}setClickSamePage(e){e.jumpSamePageTime=Date.now()}showBrowserMode(e){return e.pipe((0,h.M)(this.state$,this.itemList.state$),(0,u.U)((([{index:e,playProgress:t,belowPlayMode:i,forceUseIndexLocation:o},{itemListKey:n},r])=>({listInfo:r[n],itemListKey:n,index:e,playProgress:t,belowPlayMode:i,forceUseIndexLocation:o}))),(0,m.z)((({listInfo:e,index:t=0,playProgress:i=0,belowPlayMode:o,forceUseIndexLocation:n})=>{if(!e)return(0,l.of)(this.noop());const{browserList:r,list:a}=e,s=a[t],d=n?t:Math.max(0,Math.min(r.length-1,r.findIndex((e=>s===e)))),c=this.updateVideoIndex({newIndex:d,newId:s,isIndexInvalid:!1,playProgress:i});return o&&c.push(this.getActions().setBelowPlayMode(o)),(0,l.of)(...c)})))}closeBrowserMode(e){return e.pipe((0,h.M)(this.state$,this.itemList.state$),(0,m.z)((([e,{itemListKey:t,currentIndex:i,belowPlayMode:o},n])=>{var r,a,s;const{playProgress:d=0,shouldPause:c=!1}=null!=e?e:{},p=n[null!=t?t:""],h=null!==(r=null==p?void 0:p.browserList)&&void 0!==r?r:[],u=null!==(a=null==p?void 0:p.list)&&void 0!==a?a:[],m=null!==(s=h[i])&&void 0!==s?s:"",g=u.findIndex((e=>m===e));return(0,l.of)(this.videoPlayer.getActions().updateVideo({currentVideo:{index:c?-1:g,id:c?"":m,mode:null!=o?o:M[null!=t?t:""]},playProgress:d}),this.getActions().setBelowPlayMode(null))})))}handleNextVideo(e){return e.pipe((0,g.b)((()=>{this.videoExperience.reportVideoInteractStart({startTime:Date.now(),situation:"browser_mode_next"})})),(0,h.M)(this.state$,this.itemList.state$),(0,u.U)((([e,{itemListKey:t,currentIndex:i},o])=>{var n,r,a;const s=null!==(r=null===(n=o[null!=t?t:""])||void 0===n?void 0:n.browserList)&&void 0!==r?r:[],l=Math.min(i+1,s.length-1);return{newIndex:l,isIndexInvalid:!(null==s?void 0:s.length)||l<0,newId:null!==(a=s[l])&&void 0!==a?a:""}})),(0,g.b)((({isIndexInvalid:e})=>{e&&console.warn("cannot switch to next video for some reasons")})),(0,m.z)((e=>(0,l.of)(...this.updateVideoIndex(e)))),(0,b.n)({}))}handlePrevVideo(e){return e.pipe((0,g.b)((()=>{this.videoExperience.reportVideoInteractStart({startTime:Date.now(),situation:"browser_mode_prev"})})),(0,h.M)(this.state$,this.itemList.state$),(0,u.U)((([e,{itemListKey:t,currentIndex:i},o])=>{var n,r,a;const s=null!==(r=null===(n=o[null!=t?t:""])||void 0===n?void 0:n.browserList)&&void 0!==r?r:[],l=Math.max(i-1,0);return{newIndex:l,isIndexInvalid:!(null==s?void 0:s.length)||l>s.length-1,newId:null!==(a=s[l])&&void 0!==a?a:""}})),(0,g.b)((({isIndexInvalid:e})=>{e&&console.warn("cannot switch to prev video for some reasons")})),(0,m.z)((e=>(0,l.of)(...this.updateVideoIndex(e)))),(0,b.n)({}))}postVideoDelete(e){return e.pipe((0,y.z)((e=>this.service.postVideoDelete(e).pipe((0,g.b)((({status_code:e,status_msg:t})=>{f.h.destroy(),2752===e?f.h.open({content:t,duration:3,widthType:"half"}):0===e?(f.h.open({content:this.t("deleted"),duration:3,widthType:"half"}),_.o.handleVideoDelete("delete")):f.h.open({content:this.t(k.kU),duration:3,widthType:"half"})})),(0,u.U)((({status_code:t})=>0===t?this.getActions().updateDeleteVideo(e.aweme_id):this.noop())),(0,b.n)({callback:this.commonToastError})))))}postModifyVisibility(e){return e.pipe((0,m.z)((e=>this.service.postModifyVisibility(e).pipe((0,g.b)((({status_code:t,status_msg:i})=>{2752===t?(f.h.destroy(),f.h.open({content:i,duration:3,widthType:"half"})):0!==t?(f.h.destroy(),f.h.open({content:this.t(k.kU),duration:3,widthType:"half"})):(_.o.handleSelectPrivacySettingVideo({to_status:L[e.type]}),(0,x.k)(t,[0]))})),(0,u.U)((t=>0===t.status_code?this.item.getActions().setItemPrivateState({id:e.aweme_id,visibility:e.type}):2054===t.status_code?this.getActions().updateDeleteVideo(e.aweme_id):this.noop())),(0,b.n)({callback:this.commonToastError})))))}postUserSetting(e){return e.pipe((0,y.z)((e=>this.service.postUserSetting(e).pipe((0,g.b)((({status_code:t})=>{this.tapPrivateSettingErrorToast({status_code:t,target:"comment",to_status:0===e.private_setting?"on":"off"})})),(0,u.U)((({status_code:t})=>{var i,o;return 0===t?this.item.getActions().updateItem({id:null!==(i=e.aweme_id)&&void 0!==i?i:"",itemCommentStatus:e.private_setting}):2054===t?this.getActions().updateDeleteVideo(null!==(o=e.aweme_id)&&void 0!==o?o:""):this.noop()})),(0,b.n)({callback:()=>{this.tapPrivateSettingErrorToast({status_code:-1,target:"comment",to_status:0===e.private_setting?"on":"off"})}})))))}postDuetOrStitchChange(e){return e.pipe((0,y.z)((({type:e,enable:t,aweme_id:i})=>this.service.postDuetStitchChange({aweme_id:i,[e]:t}).pipe((0,g.b)((({status_code:i})=>{this.tapPrivateSettingErrorToast({status_code:i,target:e,to_status:t?"on":"off"})})),(0,u.U)((({status_code:o})=>0===o?"item_duet"===e?this.item.getActions().updateItem({id:i,duetEnabled:0===t}):this.item.getActions().updateItem({id:i,stitchEnabled:0===t}):2054===o?this.getActions().updateDeleteVideo(i):this.noop())),(0,b.n)({callback:()=>{this.tapPrivateSettingErrorToast({status_code:-1,target:e,to_status:t?"on":"off"})}})))))}updateDeleteVideo(e){return e.pipe((0,h.M)(this.state$,this.itemList.state$),(0,u.U)((([e,{currentIndex:t,itemListKey:i},o])=>{var n,r,a;const s=null===(n=o[null!=i?i:""])||void 0===n?void 0:n.browserList,l=null!==(r=null==s?void 0:s.length)&&void 0!==r?r:0,d=!s||l-1<=0,c=l-1===t;return{id:e,isIndexInvalid:d,newIndex:c?t-1:t,newId:d?"":null!==(a=null==s?void 0:s[c?t-1:t+1])&&void 0!==a?a:""}})),(0,m.z)((({id:e,isIndexInvalid:t,newIndex:i,newId:o})=>e?(0,l.of)(this.itemList.getActions().setDeleteVideo(e),this.item.getActions().setDeleteVideo(e),...this.updateVideoIndex({newIndex:i,newId:o,isIndexInvalid:t})):d.E)))}clickSamePage(e){return e.pipe((0,m.z)((()=>(0,l.of)(this.getActions().setClickSamePage()))))}postScheduleDelete(e){return e.pipe((0,y.z)((e=>this.service.postScheduleDelete({aweme_id:e}).pipe((0,g.b)((()=>{f.h.destroy(),f.h.open({content:this.t("deleted"),duration:3,widthType:"half"})})),(0,m.z)((()=>(0,l.of)(this.getActions().updateDeleteVideo(e))))))),(0,c.K)((()=>(f.h.destroy(),f.h.open({content:this.t("Sorry, something wrong with the server, please try again."),duration:3,widthType:"half"}),(0,l.of)(this.noop())))),(0,g.b)((()=>{_.o.handleScheduleDelete("delete")})))}updateVideoIndex({newIndex:e,isIndexInvalid:t,newId:i,playProgress:o}){return t?[this.noop()]:[this.videoPlayer.getActions().updateVideo({currentVideo:{index:e,id:i,mode:2},playProgress:null!=o?o:0}),this.getActions().setCurrentIndex(e)]}commonToastError(){f.h.destroy(),f.h.open({content:this.t(k.kU),duration:3,widthType:"half"})}tapPrivateSettingErrorToast({target:e,to_status:t,status_code:i}){0===i?_.o.handlePrivateSetting({target:e,to_status:t}):2054===i?(f.h.destroy(),f.h.open({content:this.t("video_unavailable_deleted"),duration:3,widthType:"half"})):(f.h.destroy(),f.h.open({content:this.t(k.kU),duration:3,widthType:"half"}))}};(0,o.__decorate)([(0,r.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"setItemListKey",null),(0,o.__decorate)([(0,r.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Number]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"setCurrentIndex",null),(0,o.__decorate)([(0,r.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"setBelowPlayMode",null),(0,o.__decorate)([(0,r.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"setClickSamePage",null),(0,o.__decorate)([(0,r.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"showBrowserMode",null),(0,o.__decorate)([(0,r.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"closeBrowserMode",null),(0,o.__decorate)([(0,r.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"handleNextVideo",null),(0,o.__decorate)([(0,r.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"handlePrevVideo",null),(0,o.__decorate)([(0,r.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"postVideoDelete",null),(0,o.__decorate)([(0,r.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"postModifyVisibility",null),(0,o.__decorate)([(0,r.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"postUserSetting",null),(0,o.__decorate)([(0,r.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"postDuetOrStitchChange",null),(0,o.__decorate)([(0,r.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"updateDeleteVideo",null),(0,o.__decorate)([(0,r.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"clickSamePage",null),(0,o.__decorate)([(0,r.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"postScheduleDelete",null),D=(0,o.__decorate)([(0,a.Y)("BrowserMode"),(0,o.__param)(5,(0,s.t)(w.s)),(0,o.__metadata)("design:paramtypes",[O,C.h,S.A,j.f,v.KF,Function])],D)},10126:(e,t,i)=>{i.d(t,{Lb:()=>x,vq:()=>k,ny:()=>w,Od:()=>j,IG:()=>C});var o=i(25615),n=i.n(o),r=i(90293),a=i(97458),s=i(81565),l=i(9484),d=i(52537),c=i(49879),p=i(85312),h=i(51850),u=i(23846),m=i(60665),g=i(91881),y=i(77277),_=i(45125),v=i(43540),f=i(11040);let b=0;const x={copy:"copy",whatsapp:"whatsapp",facebook:"facebook",twitter:"twitter",reddit:"reddit",pinterest:"pinterest",vk:"vk",sms:"sms",embed:"embed",telegram:"telegram",line:"line",linkedin:"linkedin",email:"email",message:"message"},w={facebook:"{Share to} Facebook",pinterest:"{Share to} Pinterest",twitter:"{Share to} Twitter",copy:"{copy_link}",embed:"{embed}",whatsapp:"{Share to} WhatsApp",reddit:"{Share to} Reddit",vk:"{Share to} VK",sms:"{Share to} Sms",telegram:"{Share to} Telegram",line:"{Share to} Line",linkedin:"{Share to} LinkedIn",email:"{Share to} Email",message:"{support_webapp_sharing_option_button}"},k={facebook:a.Z,pinterest:s.Z,twitter:l.Z,copy:d.Z,embed:c.Z,whatsapp:p.Z,reddit:h.Z,vk:u.Z,telegram:m.Z,line:g.Z,linkedin:y.Z,email:_.Z,message:v.Z,sms:function({width:e="1em",height:t="1em",style:i={}}){return b++,(0,f.jsxs)("svg",Object.assign({width:e,height:t,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:i},{children:[(0,f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.0002 47.001C36.7028 47.001 47.0002 36.7035 47.0002 24.001C47.0002 11.2984 36.7028 1.00098 24.0002 1.00098C11.2977 1.00098 1.00024 11.2984 1.00024 24.001C1.00024 36.7035 11.2977 47.001 24.0002 47.001Z",fill:`url(#sms_icon_paint0_linear_${b})`},void 0),(0,f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36.6501 23.569C36.6501 29.3645 30.9865 34.0628 24.0001 34.0628C23.1537 34.0628 22.3267 33.9938 21.5269 33.8623C20.826 33.7948 20.4086 33.8602 19.689 34.0827C19.4224 34.1652 19.1109 34.3318 18.7539 34.5226C17.9542 34.9503 16.9262 35.5 15.6626 35.5C15.6388 35.5 15.7188 35.4207 15.8558 35.285C16.3095 34.8358 17.3876 33.7682 17.3876 32.9125V32.5167C13.7656 30.6708 11.3501 27.3539 11.3501 23.569C11.3501 17.7735 17.0137 13.0753 24.0001 13.0753C30.9865 13.0753 36.6501 17.7735 36.6501 23.569Z",fill:"white"},void 0),(0,f.jsx)("defs",{children:(0,f.jsxs)("linearGradient",Object.assign({id:`sms_icon_paint0_linear_${b}`,x1:"73.7964",y1:"64.0399",x2:"58.9088",y2:"-4.65515",gradientUnits:"userSpaceOnUse"},{children:[(0,f.jsx)("stop",{stopColor:"#43E6A2"},void 0),(0,f.jsx)("stop",{offset:"1",stopColor:"#18D037"},void 0)]}),void 0)},void 0)]}),void 0)}};function C({platform:e,url:t}){switch(e){case"facebook":return(0,r.stringifyUrl)({url:"https://www.facebook.com/sharer/sharer.php",query:{app_id:0x67903d22b9a8,u:t,display:"popup",sdk:"joey"}});case"twitter":return(0,r.stringifyUrl)({url:"https://twitter.com/intent/tweet",query:{refer_source:t,text:t}});case"pinterest":return(0,r.stringifyUrl)({url:"https://pinterest.com/pin/create/button/",query:{url:t,media:"https://lf16-tiktok-web.ttwstatic.com/obj/tiktok-web-common-sg/mtact/static/images/share_img.png",desc:t}});case"whatsapp":return(0,r.stringifyUrl)({url:"https://wa.me/",query:{text:t}});case"reddit":return(0,r.stringifyUrl)({url:"https://www.reddit.com/submit",query:{url:t}});case"vk":return(0,r.stringifyUrl)({url:"https://vk.com/share.php",query:{url:t}});case"copy":return function(){const e=document.createElement("input");let i=!1;e.style.fontSize="16px",document.body.appendChild(e),e.value=t||"",e.select(),e.setSelectionRange(0,t.length),document.execCommand&&document.execCommand("copy"),e.remove()};case"telegram":return(0,r.stringifyUrl)({url:"https://t.me/share/url",query:{url:t,text:t}});case"line":return(0,r.stringifyUrl)({url:"https://lineit.line.me/share/ui",query:{url:t,text:t}});case"linkedin":return(0,r.stringifyUrl)({url:"https://www.linkedin.com/sharing/share-offsite",query:{url:t}});case"email":return(0,r.stringifyUrl)({url:"mailto:",query:{subject:t,body:t}});case"embed":case"message":return n();default:return"#"}}const S={pc:{US:["copy","sms","facebook","reddit","pinterest","twitter","whatsapp","embed"],RU:["copy","whatsapp","vk","facebook","twitter","embed"],UA:["copy","whatsapp","vk","facebook","twitter","embed"],JP:["copy","twitter","facebook","whatsapp","embed"],default:["copy","whatsapp","facebook","twitter","embed"]},mobile:{US:["copy","facebook","reddit","pinterest","twitter","whatsapp","embed"],RU:["copy","whatsapp","vk","sms","facebook","twitter","embed"],UA:["copy","whatsapp","vk","sms","facebook","twitter","embed"],JP:["copy","twitter","facebook","sms","whatsapp","embed"],default:["copy","whatsapp","sms","facebook","twitter","embed"]}};function j({region:e,isMobile:t=!1}){const i=t?"mobile":"pc";return S[i][e]||S[i].default}var I;!function(e){e[e.Video=0]="Video",e[e.Creator=1]="Creator"}(I||(I={}))},44401:(e,t,i)=>{i.d(t,{JW:()=>h,c1:()=>u});var o,n=i(9236),r=i(91051),a=i(21041),s=i(50218),l=i(23028),d=i(34708),c=i(8456),p=i(72975);function h(){var e;const{region:t=""}=null!==(e=(0,d.L)((()=>["region"]),[]))&&void 0!==e?e:{},i=(0,n.qj)(p.N);return(0,r.useCallback)((()=>{i.initShareSettings({isMobile:!1,region:t})}),[t,i])}function u(){var e,t;const{abTestVersion:i}=null!==(e=(0,d.L)((()=>["abTestVersion"]),[]))&&void 0!==e?e:{},{isBrowserModeShowing:o}=(0,r.useContext)(c._),n=null!==(t=(0,l.T)(i,"share_button_embed_test"))&&void 0!==t?t:"v1",{pathname:p}=(0,a.TH)();return(0,r.useMemo)((()=>{const e=((0,s.bf)(p)||(0,s.Dj)(p)||(0,s.ws)(p)||(0,s.u7)(p))&&!o,t=(0,s.oC)(p)||(0,s.Io)(p)||(0,s.FZ)(p);let i="none";return o?i="expand":(e||t)&&(i="short"),{additionShareOptions:!0,expanded:i,showEmbedButtonInUserPage:"v2"===n}}),[p,o,n])}!function(e){e.None="none",e.Simple="short",e.Expanded="expand"}(o||(o={}))},72975:(e,t,i)=>{i.d(t,{N:()=>_});var o=i(64047),n=i(73566),r=i(48185),a=i(19630),s=i(82346),l=i(60595),d=i(20948),c=i(49584),p=i(56979),h=i(10026),u=i(68854),m=i(4206),g=i(10126);function y(e){return e in g.Lb}let _=class extends n.D{constructor(e){super(),this.fetch=e,this.defaultState={platforms:null,platformsForAdditionOnly:null}}setPlatforms(e,t){e.platforms=t}initShareSettings(e){return e.pipe((0,d.M)(this.state$),(0,c.z)((([e,{platforms:t}])=>t?(0,s.of)(this.getActions().setPlatforms(t)):this.fetch.get("/api/share/settings/",{query:{device_platform:e.isMobile?"webapp_mobile":"webapp_pc",mode:1}}).pipe((0,p.U)((({status_code:t,share_platforms:i})=>{if(0===t&&(null==i?void 0:i.length)){const e=i.map((({platform_id:e})=>e)).filter(y);return this.getActions().setPlatforms(e)}return this.getActions().setPlatforms((0,g.Od)(e))})),(0,h.O)(this.getActions().setPlatforms([])),(0,u.K)((()=>(0,s.of)(this.getActions().setPlatforms((0,g.Od)(e)))))))))}};(0,o.__decorate)([(0,r.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Array]),(0,o.__metadata)("design:returntype",void 0)],_.prototype,"setPlatforms",null),(0,o.__decorate)([(0,r.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[l.y]),(0,o.__metadata)("design:returntype",void 0)],_.prototype,"initShareSettings",null),_=(0,o.__decorate)([(0,a.Y)("TTShare"),(0,o.__metadata)("design:paramtypes",[m.r])],_)},32045:(e,t,i)=>{i.d(t,{mB:()=>re});var o=i(64047),n=i(11040),r=i(74820),a=i(9236),s=i(16926),l=i(91051),d=i(76851),c=i(19761),p=i(79489),h=i(35468),u=i(17936),m=i(8721),g=i(23028),y=i(34708),_=i(8456),v=i(61453),f=i(76967),b=i(10126);const x=function({width:e="1em",height:t="1em",style:i={}}){return(0,n.jsxs)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:i},{children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24Z",fill:"gray"},void 0),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.313 7.96568C12.3665 7.65966 12.658 7.45498 12.964 7.50851C13.27 7.56203 13.4747 7.8535 13.4211 8.15951L12.0506 15.9952C11.997 16.3012 11.7056 16.5059 11.3996 16.4523C11.0936 16.3988 10.8889 16.1073 10.9424 15.8013L12.313 7.96568ZM16.2402 8.77448C15.96 8.48453 15.5058 8.48453 15.2256 8.77448C14.9454 9.06443 14.9454 9.53454 15.2256 9.82449L17.454 12.1307L15.2262 14.4364C14.946 14.7263 14.946 15.1964 15.2262 15.4864C15.5063 15.7763 15.9606 15.7763 16.2407 15.4864L19.4551 12.1598C19.4704 12.1439 19.4704 12.1182 19.4551 12.1023L19.2233 11.8623L19.2201 11.8586L19.2158 11.854L16.2402 8.77448ZM8.88972 15.4867C8.59977 15.7766 8.12966 15.7766 7.83971 15.4867L5.4207 13.0677L4.76017 12.4071L4.51191 12.1589C4.49603 12.143 4.49603 12.1173 4.51191 12.1014L7.83853 8.77477C8.12848 8.48482 8.59859 8.48482 8.88854 8.77477C9.17849 9.06472 9.17849 9.53482 8.88854 9.82478L6.58318 12.1301L8.88972 14.4367C9.17967 14.7266 9.17967 15.1967 8.88972 15.4867Z",fill:"white"},void 0)]}),void 0)};var w,k,C,S=i(84785),j=i(56277);function I(){return I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},I.apply(this,arguments)}const P=function(e){return l.createElement("svg",I({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 316 366",width:"1em",height:"1em"},e),w||(w=l.createElement("g",{clipPath:"url(#creator-preview-skeleton_svg__clip0_1330_19052)"},l.createElement("rect",{width:316,height:366,fill:"white",rx:8}),l.createElement("rect",{width:112,height:20,x:104,y:45,fill:"#161823",fillOpacity:.06,rx:2}),l.createElement("rect",{width:196,height:16,x:104,y:73,fill:"#161823",fillOpacity:.06,rx:2}),l.createElement("rect",{width:284,height:20,x:16,y:322,fill:"#161823",fillOpacity:.06,rx:2}),l.createElement("rect",{width:130,height:170,x:16,y:128,fill:"#161823",fillOpacity:.06,rx:2}),l.createElement("path",{fill:"white",fillOpacity:.9,fillRule:"evenodd",d:"M73 202.851c0-1.559 1.705-2.519 3.038-1.709l16.715 10.148c1.283.779 1.283 2.641 0 3.419l-16.715 10.149c-1.333.809-3.038-.15-3.038-1.709v-20.298z",clipRule:"evenodd"}),l.createElement("rect",{width:130,height:170,x:154,y:128,fill:"#161823",fillOpacity:.06,rx:2}),l.createElement("path",{fill:"white",fillOpacity:.9,fillRule:"evenodd",d:"M211 202.851c0-1.559 1.705-2.519 3.038-1.709l16.715 10.148c1.283.779 1.283 2.641 0 3.419l-16.715 10.149c-1.333.809-3.038-.15-3.038-1.709v-20.298z",clipRule:"evenodd"}),l.createElement("rect",{width:130,height:170,x:292,y:128,fill:"#161823",fillOpacity:.06,rx:2}),l.createElement("circle",{cx:52,cy:68,r:36,fill:"#161823",fillOpacity:.06}),l.createElement("circle",{cx:52,cy:65,r:13.5,fill:"white"}),l.createElement("path",{fill:"white",fillRule:"evenodd",d:"M28.42 95.247C33.052 87.041 41.854 81.5 51.95 81.5c10.095 0 18.896 5.54 23.528 13.747A35.86 35.86 0 0151.95 104a35.86 35.86 0 01-23.53-8.753z",clipRule:"evenodd"}))),k||(k=l.createElement("rect",{width:315.5,height:365.5,x:.25,y:.25,stroke:"#161823",strokeOpacity:.12,strokeWidth:.5,rx:7.75})),C||(C=l.createElement("defs",null,l.createElement("clipPath",{id:"creator-preview-skeleton_svg__clip0_1330_19052"},l.createElement("rect",{width:316,height:366,fill:"white",rx:8})))))};var T=i(32913),O=i(27918);const M=(0,T.Z)("div",{target:"eb786mc0"})((({theme:e})=>[(0,O.YJ)({direction:e.direction})]),{width:"700px",borderRadius:"9px","@media(max-width: 1000px)":{width:"400px"}},"label:DivModalContainer;"),L=(0,T.Z)("div",{target:"eb786mc1"})((({theme:e})=>[{transform:"rtl"===e.direction?"scaleX(-1)":"none"}]),{"@media(max-width: 1000px)":{display:"none"}},"label:DivSkeletonContainer;"),D=(0,T.Z)("div",{target:"eb786mc2"})({padding:"24px 24px 12px 24px",borderBottom:"0.5px solid rgba(22, 24, 35, 0.2)"},"label:DivEmbedTitle;"),E=(0,T.Z)("h3",{target:"eb786mc3"})((({theme:e})=>(0,O.GI)({theme:e,typography:"P1",fontWeight:"bold"})),{fontSize:"20px",lineHeight:"24px",textAlign:"start"},"label:H3EmbedTitle;"),B=(0,T.Z)("div",{target:"eb786mc4"})((({theme:{direction:e}})=>(0,O.YJ)({direction:e,end:"23px"})),{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:23,cursor:"pointer"},"label:DivXMarkWrapper;"),R=(0,T.Z)("div",{target:"eb786mc5"})({display:"flex",justifyContent:"space-between",padding:"24px","@media(max-width: 1000px)":{paddingTop:0}},"label:DivModalInnerContainer;"),A=(0,T.Z)("div",{target:"eb786mc6"})({width:310,paddingTop:10,"@media(max-width: 1000px)":{width:"400px"}},"label:DivTextArea;"),V=(0,T.Z)("div",{target:"eb786mc7"})((({theme:e})=>[(0,O.GI)({theme:e,fontWeight:"semiBold"}),{fontSize:16,lineHeight:"24px"}]),{display:"block",width:"100%",marginBottom:"20px",border:"none",resize:"none",outline:"none",wordBreak:"break-all",overflowWrap:"break-word"},"label:DivAreaDescription;"),U=(0,T.Z)("textarea",{target:"eb786mc8"})((({theme:e})=>(0,O.GI)({theme:e,typography:"P2",color:"TextTertiary"})),{display:"block",padding:"12px 36px 12px 12px",width:"100%",height:148,marginBottom:20,border:"none",resize:"none",outline:"none",wordBreak:"break-all",overflowWrap:"break-word",background:"rgba(22, 24, 35, 0.06)",borderRadius:2},"label:TextareaEmbedCode;"),Z=(0,T.Z)("button",{target:"eb786mc9"})(O.Ph,(({theme:e,primary:t})=>[(0,O.GI)({theme:e,fontWeight:t?"semiBold":"normal",color:"TextPrimary"}),{fontSize:16},{":after":{content:'""',width:"100%",height:"1px",position:"absolute",left:0,top:0,background:e.colors.LineSecondary,transform:"scaleY(0.5)"}}]),{border:"1px solid rgba(22, 24, 35, 0.12)",borderRadius:2,display:"block",width:"100%",textAlign:"center",cursor:"pointer",height:"36px",marginBottom:"20px"},"label:Button;"),F=(0,T.Z)("p",{target:"eb786mc10"})((({theme:e})=>[(0,O.GI)({theme:e,typography:"P2",color:"TextTertiary"}),{a:{textDecoration:"underline","&, &:hover, &:active, &:link":{color:e.colors.TextTertiary}}}]),{fontSize:"12px",lineHeight:"18px"},"label:PHint;"),W=function(e){const{code:t,onCopy:i}=e,o=(0,m.Q)(),r=(0,a.mp)(S.G,{selector:e=>e.lang,dependencies:[]}),s=(0,l.useRef)(null),d=(0,l.useCallback)((()=>{var e;null===(e=s.current)||void 0===e||e.select(),document.execCommand&&document.execCommand("copy"),null==i||i()}),[i]),c=`"https://www.tiktok.com/legal/terms-of-service?lang=${r}" target="_blank"`;let p;try{p=o("embed_profile_popup_bottom_desc").replace("%1$s",`<a href=${c}>${o("embed_profile_popup_bottom_desc_tos")}</a>`).replace("%2$s",`<a href="https://www.tiktok.com/legal/privacy-policy" target="_blank">${o("embed_profile_card_desc_privacy_policy")}</a>`)}catch(e){p=`By embedding profile, you confirm that you agree to our <a href="https://www.tiktok.com/legal/terms-of-service?lang=${r}" target="_blank">Terms of Service</a> and acknowledge that you have read and understood our <a href="https://www.tiktok.com/legal/privacy-policy" target="_blank"> Privacy Policy.</a>`}return(0,n.jsxs)(M,{children:[(0,n.jsxs)(D,{children:[(0,n.jsx)(E,{children:o("embed_profile_popup_title")},void 0),(0,n.jsx)(B,Object.assign({onClick:e.onClose},{children:(0,n.jsx)(j.Z,{width:20,height:20},void 0)}),void 0)]},void 0),(0,n.jsxs)(R,{children:[(0,n.jsx)(L,{children:(0,n.jsx)(P,{width:"316",height:"366"},void 0)},void 0),(0,n.jsxs)(A,{children:[(0,n.jsx)(V,{children:o("embed_profile_popup_desc")},void 0),(0,n.jsx)(U,{defaultValue:t,readOnly:!0,rows:7,ref:s},void 0),(0,n.jsx)(Z,Object.assign({primary:!0,onClick:d},{children:o("embed_profile_popup_btn")}),void 0),(0,n.jsx)(F,{dangerouslySetInnerHTML:{__html:p}},void 0)]},void 0)]},void 0)]},void 0)},q=(0,T.Z)("div",{target:"e172cezw0"})({width:"310px",borderRadius:"9px"},"label:DivModalContainer;"),z=(0,T.Z)("h3",{target:"e172cezw1"})((({theme:e})=>(0,O.GI)({theme:e,typography:"P2",fontWeight:"semiBold"})),{fontSize:"20px",lineHeight:"24px",textAlign:"center",marginTop:"32px",marginBottom:"24px"},"label:H3EmbedTitle;"),H=(0,T.Z)("textarea",{target:"e172cezw2"})((({theme:e})=>(0,O.GI)({theme:e,typography:"P2"})),{display:"block",padding:"0 24px",width:"100%",marginBottom:"16px",border:"none",resize:"none",outline:"none",wordBreak:"break-all",overflowWrap:"break-word"},"label:TextareaEmbedCode;"),$=(0,T.Z)("p",{target:"e172cezw3"})((({theme:e})=>[(0,O.GI)({theme:e,typography:"P2",color:"TextTertiary"}),{a:{textDecoration:"underline","&, &:hover, &:active, &:link":{color:e.colors.TextTertiary}}}]),{fontSize:"11px",lineHeight:"14px",marginBottom:"24px",padding:"0 24px"},"label:PHint;"),N=(0,T.Z)("button",{target:"e172cezw4"})(O.Ph,(({theme:e,primary:t})=>[(0,O.GI)({theme:e,typography:"P2",fontWeight:t?"semiBold":"normal"}),{":after":{content:'""',width:"100%",height:"1px",position:"absolute",left:0,top:0,background:e.colors.LineSecondary,transform:"scaleY(0.5)"}}]),{display:"block",width:"100%",textAlign:"center",cursor:"pointer",fontSize:"15px",lineHeight:"52px",position:"relative"},"label:Button;"),Y=function(e){const{code:t,type:i,onCopy:o}=e,r=(0,m.Q)(),s=(0,a.mp)(S.G,{selector:e=>e.lang,dependencies:[]}),d=(0,l.useRef)(null),c=(0,l.useCallback)((()=>{var e;null===(e=d.current)||void 0===e||e.select(),document.execCommand&&document.execCommand("copy"),null==o||o()}),[o]),p=`"https://www.tiktok.com/legal/terms-of-service?lang=${s}" target="_blank"`;let h;try{h=r("By embedding this video, you confirm that you agree to our <a href={TermsHref}>Terms of Use</a> and acknowledge you have read and understood our <a href={PolicyHref}> Privacy Policy.</a>").replace("{TermsHref}",p).replace("{PolicyHref}",'"https://www.tiktok.com/legal/privacy-policy-row" target="_blank"')}catch(e){h=`By embedding this video, you confirm that you agree to our <a href="https://www.tiktok.com/legal/terms-of-service?lang=${s}" target="_blank">Terms of Service</a> and acknowledge you have read and understood our <a href="https://www.tiktok.com/legal/privacy-policy-row" target="_blank"> Privacy Policy.</a>`}return 1===i?(0,n.jsx)(W,{code:t,onClose:e.onClose,onCopy:e.onCopy},void 0):(0,n.jsxs)(q,{children:[(0,n.jsx)(z,{children:r("Embed video")},void 0),(0,n.jsx)(H,{defaultValue:t,readOnly:!0,rows:7,ref:d},void 0),(0,n.jsx)($,{dangerouslySetInnerHTML:{__html:h}},void 0),(0,n.jsx)(N,Object.assign({primary:!0,onClick:c},{children:r("Copy code")}),void 0),(0,n.jsx)(N,Object.assign({onClick:e.onClose},{children:r("Close")}),void 0)]},void 0)};var G,K=i(44401),Q=i(72975);!function(e){e[e.Icon=0]="Icon",e[e.Entry=1]="Entry",e[e.Corner=2]="Corner"}(G||(G={}));const J={0:({theme:{direction:e}})=>[{display:"block",fontSize:0},(0,O.YJ)({direction:e,marginEnd:"8px"})],2:()=>[{display:"block",fontSize:0,margin:"4px auto"}],1:({theme:{colors:e}})=>({display:"flex",alignItems:"center",padding:"11px 16px",position:"relative",":hover":{background:e.BGView,textDecoration:"none"}})},X=(0,T.Z)("a",{target:"e15mchsh0"})((({mode:e,theme:t})=>J[e]({theme:t})),"label:AShareLink;"),ee=(0,T.Z)("a",{target:"e15mchsh1"})((({theme:{colors:e}})=>({display:"flex",alignItems:"center",justifyContent:"center",padding:"0px 16px",position:"relative",":hover":{background:e.BGView,textDecoration:"none"}})),"label:AShareArrow;"),te=(0,T.Z)("span",{target:"e15mchsh2"})((({theme:{direction:e}})=>(0,O.YJ)({direction:e,marginStart:"12px"})),"label:SpanShareText;"),ie=(0,T.Z)("div",{target:"e15mchsh3"})({display:"flex",alignItems:"center",padding:"11px 16px",position:"relative",background:"rgba(22, 24, 35, 0.1)",textDecoration:"none",color:"rgba(22, 24, 35, 0.5)"},"label:DivDisabledArea;");var oe;!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.HEADER=1]="HEADER",e[e.BOTTOM=2]="BOTTOM",e[e.BrowserModePopup=3]="BrowserModePopup"}(oe||(oe={}));const ne={0:24,2:24,1:26},re=(0,l.memo)((function(e){var t,{videoId:i="",onClickShare:w,mode:k,embedCode:C,embedType:S,isEmbedDisabled:j=!1,onEmbedModalVisibleChange:I,enabled:P=!0,url:T=""}=e,O=e.teaParams,M=void 0===O?{}:O,{group_id:L,author_id:D}=M,E=(0,o.__rest)(M,["group_id","author_id"]),{from:B=0,onOtherModalOpen:R,onSendMessagePanelOpen:A,onPlatformCountChange:V}=e;const U=(0,m.Q)(),[Z,F]=(0,l.useState)(!1),{isBrowserModeShowing:W}=(0,l.useContext)(_._),{expanded:q,showEmbedButtonInUserPage:z}=(0,K.c1)(),H=(0,s.fz)(p.p),$=(0,l.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),F(!0),H.handleSharePanelClick(Object.assign({group_id:L,author_id:D},E))}),[L,H,D,E]),{abTestVersion:N,user:G}=null!==(t=(0,y.L)((()=>["abTestVersion","user"]),[]))&&void 0!==t?t:{},J=(0,g.x)(N,"dm_video_share_test"),{vl1:oe,forFriend:re}=(0,a.mp)(f.A,{selector:e=>{var t;return null!==(t=e[i])&&void 0!==t?t:{}},dependencies:[i]}),ae="v2"===J&&(!G||(null==G?void 0:G.hasIMPermission))&&!(oe&&!re)&&!(1===B||2===B),se=Boolean(G),le=(0,a.qj)(v.r),de=(0,l.useCallback)((e=>{const t=e.indexOf(b.Lb.copy);e.length>5&&"short"===q&&t>4&&(e.splice(t,1),e.splice(4,0,b.Lb.copy))}),[q]),{platforms:ce}=(0,a.mp)(Q.N,{selector:e=>{var t;let{platforms:i}=e;ae||(i=null!==(t=null==i?void 0:i.filter((e=>e!==b.Lb.message)))&&void 0!==t?t:[]);const o=(null!=i?i:[]).filter((e=>e!==b.Lb.sms&&e!==b.Lb.embed));(1===S&&z||1!==S)&&C&&o.unshift("embed");const n=o.filter((e=>e!==b.Lb.copy));switch(k){case 0:return{platforms:n};case 1:return i=[...o].reverse(),de(o),i=o,W&&(i=n),{platforms:i};default:return{platforms:o}}},dependencies:[k,C,W,z,de,S,ae]}),pe=(0,l.useMemo)((()=>ce.length>5&&!Z&&1===k&&"expand"!==q),[ce,Z,k,q]),[he,ue]=(0,l.useState)(!1);(0,l.useEffect)((()=>{null==I||I(he)}),[he,I]);const me=(0,l.useCallback)((e=>e.replace(/(.*?){(.*?)}(.*?)/g,((e,t,i,o)=>t+U(i)+o))),[U]),ge=ne[k],ye=(0,r.u)(),_e=(0,l.useCallback)(((e,t)=>i=>{if(t&&(i.preventDefault(),i.stopPropagation(),t()),P||(i.preventDefault(),h.h.destroy(),h.h.open({content:U("web_sharing_disable_toast"),duration:3,widthType:"half"})),null==w||w(e),H.handleShare(Object.assign({platform:e,group_id:L,author_id:D,share_option_type:q,share_click_from:Z||3===B?"long":"short"},E)),"copy"===e&&P)h.h.open({content:U("Copied"),duration:1.2,widthType:"half"});else if("embed"===e)ue(!0);else if("message"===e){if(!se)return void le.openModal({query:{enter_method:"share_button"}});null==A||A()}}),[P,w,H,L,D,q,Z,E,U,se,A,le,B]),ve=(0,l.useCallback)((()=>{ue(!1),null==R||R(!1)}),[R]),fe=(0,l.useCallback)((()=>{H.handleClickShare(Object.assign({platform:"embed",group_id:L,author_id:D,share_option_type:q,share_click_from:Z?"long":"short"},E)),h.h.open({content:U("embed_success"),duration:1.2,widthType:"half"}),ue(!1)}),[D,q,L,H,E,Z,U]),be=(0,l.useMemo)((()=>0===k?[0,5]:W?[5,void 0]:Z||2===k||"expand"===q?[0,void 0]:[0,5]),[W,Z,k,q]);return(0,l.useEffect)((()=>{var e,t;const i=null!==(t=null===(e=null==ce?void 0:ce.slice(...be))||void 0===e?void 0:e.length)&&void 0!==t?t:0;null==V||V(i)}),[V,ce,be]),(0,n.jsxs)(n.Fragment,{children:[null==ce?void 0:ce.slice(...be).map((e=>{const t="ltr"===ye.direction?"left":"right",i=2===k?t:"top",o=b.vq[e],r=(0,b.IG)({platform:e,url:T}),a="string"==typeof r?{href:r,target:"_blank",rel:"noopener noreferrer",onClick:_e(e)}:{href:"#",onClick:_e(e,r)},s=(0,n.jsxs)(X,Object.assign({mode:k},a,{"data-e2e":`video-share-${e}`},{children:[(0,n.jsx)(o,{width:ge,height:ge},void 0),1===k&&(0,n.jsx)(te,{children:me(b.ny[e])},void 0)]}),e);return j&&"embed"===e?(0,n.jsx)(u.u,Object.assign({overlay:U("embed_profile_tooltip"),placement:"bottom"},{children:(0,n.jsxs)(ie,{children:[(0,n.jsx)(x,{width:ge,height:ge},void 0),(0,n.jsx)(te,{children:me(b.ny[e])},void 0)]},void 0)}),e):0===k||2===k?(0,n.jsx)(u.u,Object.assign({overlay:me(b.ny[e]),placement:i},{children:s}),e):s})),pe&&(0,n.jsx)(ee,Object.assign({href:"#",onClick:$},{children:(0,n.jsx)(c.Z,{width:24,height:24},void 0)}),void 0),(0,n.jsx)(d.AR,Object.assign({compact:!0,isOpen:he,onClose:ve,closeOnBackdropClick:!1},{children:(0,n.jsx)(Y,{onCopy:fe,onClose:ve,code:C,type:S},void 0)}),void 0)]},void 0)}))},79489:(e,t,i)=>{i.d(t,{p:()=>s});var o,n=i(64047),r=i(57244),a=i(10408);!function(e){e.Share="share",e.ShareVideo="share_video",e.SharePanelShow="share_panel_show",e.SharePanelClick="share_panel_click",e.ClickShare="click_share_button"}(o||(o={}));let s=class{handleEvent(e,t={}){a.W.event(e,Object.assign(Object.assign({},t),{type:t.group_id?"video":this.type}))}handleSharePanelShow(e){this.handleEvent("share_panel_show",e)}handleSharePanelClick(e){this.handleEvent("share_panel_click",e)}handleShare(e){const t=e.group_id?"share_video":"share";this.handleEvent(t,e)}handleClickShare(e){this.handleEvent("click_share_button",e)}get type(){const{page_name:e}=a.W.commonParams;switch(e){case"video_detail":return"video";case"single_song":return"music";case"challenge":return"tag";case"others_homepage":case"personal_homepage":return"profile";case"discover_kw":return"kep";default:return}}};s=(0,n.__decorate)([(0,r.G)()],s)},51905:(e,t,i)=>{i.d(t,{o:()=>r});var o,n=i(10408);!function(e){e.ClickPrivacySettingVideo="click_privacy_setting_video",e.SelectPrivacySettingVideo="select_privacy_setting_video",e.PrivacySettingAllowInteraction="privacy_setting_allow_interaction",e.ClickDeleteVideo="click_delete_video",e.ActionOnDeleteVideo="action_on_delete_video",e.ScheduleDeleteClick="click_delete_scheduled_video",e.ScheduleDeleteAction="action_on_delete_scheduled_video"}(o||(o={}));const r={handleClickPrivacySettingVideo:e=>{n.W.event("click_privacy_setting_video",e)},handleSelectPrivacySettingVideo:e=>{n.W.event("select_privacy_setting_video",e)},handlePrivateSetting:e=>{n.W.event("privacy_setting_allow_interaction",e)},handleClickDeleteVideo:e=>{n.W.event("click_delete_video",e)},handleVideoDelete:e=>{n.W.event("action_on_delete_video",{action:e})},handleScheduleConfirm:e=>{n.W.event("click_delete_scheduled_video",{group_id:e})},handleScheduleDelete:e=>{n.W.event("action_on_delete_scheduled_video",{action:e})}}}}]);